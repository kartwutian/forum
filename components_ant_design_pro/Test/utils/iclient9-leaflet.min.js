/* eslint-disable */
/*!
 * 
 *     iclient9-leaflet.(http://iclient.supermapol.com)
 *     CopyrightÂ© 2000-2017 SuperMap Software Co. Ltd
 *     license: Apache-2.0
 *     version: v9.0.0
 * 
 */
!function(a){function c(d){if(b[d])return b[d].exports;var e=b[d]={i:d,l:!1,exports:{}};return a[d].call(e.exports,e,e.exports,c),e.l=!0,e.exports}var b={};return c.m=a,c.c=b,c.i=function(a){return a},c.d=function(a,b,d){c.o(a,b)||Object.defineProperty(a,b,{configurable:!1,enumerable:!0,get:d})},c.n=function(a){var b=a&&a.__esModule?function(){return a["default"]}:function(){return a};return c.d(b,"a",b),b},c.o=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)},c.p="",c(c.s=119)}([function(a){"use strict";var d=window.SuperMap=window.SuperMap||{};a.exports=d},function(a,b,c){var d=2*Math.PI,e=3.14159265359,f=c(16);a.exports=function(a){return Math.abs(a)<=e?a:a-f(a)*d}},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(a){return a&&a.__esModule?a:{"default":a}}var _typeof,_SuperMap,_SuperMap2,Util;Object.defineProperty(exports,"__esModule",{value:!0}),exports.Util=void 0,_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},_SuperMap=__webpack_require__(0),_SuperMap2=_interopRequireDefault(_SuperMap),__webpack_require__(29),Util=exports.Util=_SuperMap2["default"].Util=_SuperMap2["default"].Util||{},_SuperMap2["default"].Util.extend=function(a,b){var c,d,e;if(a=a||{},b){for(c in b)d=b[c],void 0!==d&&(a[c]=d);e="function"==typeof window.Event&&b instanceof window.Event,!e&&b.hasOwnProperty&&b.hasOwnProperty("toString")&&(a.toString=b.toString)}return a},_SuperMap2["default"].Util.copy=function(a,b){var c,d;if(a=a||{},b)for(d in a)c=b[d],"undefined"!=typeof c&&(a[d]=c)},_SuperMap2["default"].Util.reset=function(a){var b,c;a=a||{};for(b in a)if(a.hasOwnProperty(b)){if("object"===_typeof(a[b])&&a[b]instanceof Array){for(c in a[b])a[b][c].destroy&&a[b][c].destroy();a[b].length=0}else"object"===_typeof(a[b])&&a[b]instanceof Object&&a[b].destroy&&a[b].destroy();a[b]=null}},_SuperMap2["default"].Util.getElement=function(){var b,c,d,a=[];for(b=0,c=arguments.length;c>b;b++){if(d=arguments[b],"string"==typeof d&&(d=document.getElementById(d)),1===arguments.length)return d;a.push(d)}return a},_SuperMap2["default"].Util.isElement=function(a){return!(!a||1!==a.nodeType)},_SuperMap2["default"].Util.isArray=function(a){return"[object Array]"===Object.prototype.toString.call(a)},_SuperMap2["default"].Util.removeItem=function(a,b){for(var c=a.length-1;c>=0;c--)a[c]===b&&a.splice(c,1);return a},_SuperMap2["default"].Util.indexOf=function(a,b){if(null==a)return-1;if("function"==typeof a.indexOf)return a.indexOf(b);for(var c=0,d=a.length;d>c;c++)if(a[c]===b)return c;return-1},_SuperMap2["default"].Util.modifyDOMElement=function(a,b,c,d,e,f,g,h){b&&(a.id=b),c&&(a.style.left=c.x+"px",a.style.top=c.y+"px"),d&&(a.style.width=d.w+"px",a.style.height=d.h+"px"),e&&(a.style.position=e),f&&(a.style.border=f),g&&(a.style.overflow=g),parseFloat(h)>=0&&parseFloat(h)<1?(a.style.filter="alpha(opacity="+100*h+")",a.style.opacity=h):1===parseFloat(h)&&(a.style.filter="",a.style.opacity="")},_SuperMap2["default"].Util.getParameterString=function(a){var c,d,e,f,g,h,i,b=[];for(c in a)if(d=a[c],null!=d&&"function"!=typeof d){if("object"===("undefined"==typeof d?"undefined":_typeof(d))&&d.constructor===Array){for(f=[],h=0,i=d.length;i>h;h++)g=d[h],f.push(encodeURIComponent(null===g||void 0===g?"":g));e=f.join(",")}else e=encodeURIComponent(d);b.push(encodeURIComponent(c)+"="+e)}return b.join("&")},_SuperMap2["default"].Util.urlAppend=function(a,b){var d,c=a;return b&&(d=(a+" ").split(/[?&]/),c+=" "===d.pop()?b:d.length?"&"+b:"?"+b),c},_SuperMap2["default"].Util.DEFAULT_PRECISION=14,_SuperMap2["default"].Util.toFloat=function(a,b){return null==b&&(b=_SuperMap2["default"].Util.DEFAULT_PRECISION),"number"!=typeof a&&(a=parseFloat(a)),0===b?a:parseFloat(a.toPrecision(b))},_SuperMap2["default"].Util.rad=function(a){return a*Math.PI/180},_SuperMap2["default"].Util.getParameters=function(a){var b,c,d,e,f,g,h,i,j,l;for(a=null===a||void 0===a?window.location.href:a,b="",_SuperMap2["default"].String.contains(a,"?")&&(c=a.indexOf("?")+1,d=_SuperMap2["default"].String.contains(a,"#")?a.indexOf("#"):a.length,b=a.substring(c,d)),e={},f=b.split(/[&;]/),g=0,h=f.length;h>g;++g)if(i=f[g].split("="),i[0]){j=i[0];try{j=decodeURIComponent(j)}catch(k){j=unescape(j)}l=(i[1]||"").replace(/\+/g," ");try{l=decodeURIComponent(l)}catch(k){l=unescape(l)}l=l.split(","),1==l.length&&(l=l[0]),e[j]=l}return e},_SuperMap2["default"].Util.lastSeqID=0,_SuperMap2["default"].Util.createUniqueID=function(a){return null==a&&(a="id_"),_SuperMap2["default"].Util.lastSeqID+=1,a+_SuperMap2["default"].Util.lastSeqID},_SuperMap2["default"].INCHES_PER_UNIT={inches:1,ft:12,mi:63360,m:39.3701,km:39370.1,dd:4374754,yd:36},_SuperMap2["default"].INCHES_PER_UNIT["in"]=_SuperMap2["default"].INCHES_PER_UNIT.inches,_SuperMap2["default"].INCHES_PER_UNIT["degrees"]=_SuperMap2["default"].INCHES_PER_UNIT.dd,_SuperMap2["default"].INCHES_PER_UNIT["nmi"]=1852*_SuperMap2["default"].INCHES_PER_UNIT.m,_SuperMap2["default"].METERS_PER_INCH=.0254000508001016,_SuperMap2["default"].Util.extend(_SuperMap2["default"].INCHES_PER_UNIT,{Inch:_SuperMap2["default"].INCHES_PER_UNIT.inches,Meter:1/_SuperMap2["default"].METERS_PER_INCH,Foot:.3048006096012192/_SuperMap2["default"].METERS_PER_INCH,IFoot:.3048/_SuperMap2["default"].METERS_PER_INCH,ClarkeFoot:.3047972651151/_SuperMap2["default"].METERS_PER_INCH,SearsFoot:.30479947153867626/_SuperMap2["default"].METERS_PER_INCH,GoldCoastFoot:.3047997101815088/_SuperMap2["default"].METERS_PER_INCH,IInch:.0254/_SuperMap2["default"].METERS_PER_INCH,MicroInch:254e-7/_SuperMap2["default"].METERS_PER_INCH,Mil:2.54e-8/_SuperMap2["default"].METERS_PER_INCH,Centimeter:.01/_SuperMap2["default"].METERS_PER_INCH,Kilometer:1e3/_SuperMap2["default"].METERS_PER_INCH,Yard:.9144018288036576/_SuperMap2["default"].METERS_PER_INCH,SearsYard:.914398414616029/_SuperMap2["default"].METERS_PER_INCH,IndianYard:.9143985307444408/_SuperMap2["default"].METERS_PER_INCH,IndianYd37:.91439523/_SuperMap2["default"].METERS_PER_INCH,IndianYd62:.9143988/_SuperMap2["default"].METERS_PER_INCH,IndianYd75:.9143985/_SuperMap2["default"].METERS_PER_INCH,IndianFoot:.30479951/_SuperMap2["default"].METERS_PER_INCH,IndianFt37:.30479841/_SuperMap2["default"].METERS_PER_INCH,IndianFt62:.3047996/_SuperMap2["default"].METERS_PER_INCH,IndianFt75:.3047995/_SuperMap2["default"].METERS_PER_INCH,Mile:1609.3472186944373/_SuperMap2["default"].METERS_PER_INCH,IYard:.9144/_SuperMap2["default"].METERS_PER_INCH,IMile:1609.344/_SuperMap2["default"].METERS_PER_INCH,NautM:1852/_SuperMap2["default"].METERS_PER_INCH,"Lat-66":110943.31648893273/_SuperMap2["default"].METERS_PER_INCH,"Lat-83":110946.25736872235/_SuperMap2["default"].METERS_PER_INCH,Decimeter:.1/_SuperMap2["default"].METERS_PER_INCH,Millimeter:.001/_SuperMap2["default"].METERS_PER_INCH,Dekameter:10/_SuperMap2["default"].METERS_PER_INCH,Decameter:10/_SuperMap2["default"].METERS_PER_INCH,Hectometer:100/_SuperMap2["default"].METERS_PER_INCH,GermanMeter:1.0000135965/_SuperMap2["default"].METERS_PER_INCH,CaGrid:.999738/_SuperMap2["default"].METERS_PER_INCH,ClarkeChain:20.1166194976/_SuperMap2["default"].METERS_PER_INCH,GunterChain:20.11684023368047/_SuperMap2["default"].METERS_PER_INCH,BenoitChain:20.116782494375872/_SuperMap2["default"].METERS_PER_INCH,SearsChain:20.11676512155/_SuperMap2["default"].METERS_PER_INCH,ClarkeLink:.201166194976/_SuperMap2["default"].METERS_PER_INCH,GunterLink:.2011684023368047/_SuperMap2["default"].METERS_PER_INCH,BenoitLink:.20116782494375873/_SuperMap2["default"].METERS_PER_INCH,SearsLink:.2011676512155/_SuperMap2["default"].METERS_PER_INCH,Rod:5.02921005842012/_SuperMap2["default"].METERS_PER_INCH,IntnlChain:20.1168/_SuperMap2["default"].METERS_PER_INCH,IntnlLink:.201168/_SuperMap2["default"].METERS_PER_INCH,Perch:5.02921005842012/_SuperMap2["default"].METERS_PER_INCH,Pole:5.02921005842012/_SuperMap2["default"].METERS_PER_INCH,Furlong:201.1684023368046/_SuperMap2["default"].METERS_PER_INCH,Rood:3.778266898/_SuperMap2["default"].METERS_PER_INCH,CapeFoot:.3047972615/_SuperMap2["default"].METERS_PER_INCH,Brealey:375/_SuperMap2["default"].METERS_PER_INCH,ModAmFt:.304812252984506/_SuperMap2["default"].METERS_PER_INCH,Fathom:1.8288/_SuperMap2["default"].METERS_PER_INCH,"NautM-UK":1853.184/_SuperMap2["default"].METERS_PER_INCH,"50kilometers":5e4/_SuperMap2["default"].METERS_PER_INCH,"150kilometers":15e4/_SuperMap2["default"].METERS_PER_INCH}),_SuperMap2["default"].Util.extend(_SuperMap2["default"].INCHES_PER_UNIT,{mm:_SuperMap2["default"].INCHES_PER_UNIT["Meter"]/1e3,cm:_SuperMap2["default"].INCHES_PER_UNIT["Meter"]/100,dm:100*_SuperMap2["default"].INCHES_PER_UNIT["Meter"],km:1e3*_SuperMap2["default"].INCHES_PER_UNIT["Meter"],kmi:_SuperMap2["default"].INCHES_PER_UNIT["nmi"],fath:_SuperMap2["default"].INCHES_PER_UNIT["Fathom"],ch:_SuperMap2["default"].INCHES_PER_UNIT["IntnlChain"],link:_SuperMap2["default"].INCHES_PER_UNIT["IntnlLink"],"us-in":_SuperMap2["default"].INCHES_PER_UNIT["inches"],"us-ft":_SuperMap2["default"].INCHES_PER_UNIT["Foot"],"us-yd":_SuperMap2["default"].INCHES_PER_UNIT["Yard"],"us-ch":_SuperMap2["default"].INCHES_PER_UNIT["GunterChain"],"us-mi":_SuperMap2["default"].INCHES_PER_UNIT["Mile"],"ind-yd":_SuperMap2["default"].INCHES_PER_UNIT["IndianYd37"],"ind-ft":_SuperMap2["default"].INCHES_PER_UNIT["IndianFt37"],"ind-ch":20.11669506/_SuperMap2["default"].METERS_PER_INCH}),_SuperMap2["default"].DOTS_PER_INCH=96,_SuperMap2["default"].Util.normalizeScale=function(a){var b=a>1?1/a:a;return b},_SuperMap2["default"].Util.getResolutionFromScale=function(a,b){var c,d;return a&&(null==b&&(b="degrees"),d=_SuperMap2["default"].Util.normalizeScale(a),c=1/(d*_SuperMap2["default"].INCHES_PER_UNIT[b]*_SuperMap2["default"].DOTS_PER_INCH)),c},_SuperMap2["default"].Util.getScaleFromResolution=function(a,b){null==b&&(b="degrees");var c=a*_SuperMap2["default"].INCHES_PER_UNIT[b]*_SuperMap2["default"].DOTS_PER_INCH;return c},_SuperMap2["default"].IS_GECKO=function(){var a=navigator.userAgent.toLowerCase();return-1===a.indexOf("webkit")&&-1!==a.indexOf("gecko")}(),_SuperMap2["default"].Browser=function(){var d,a="",b="",c="pc",e=navigator.userAgent.toLowerCase();return e.indexOf("msie")>-1||e.indexOf("trident")>-1&&e.indexOf("rv")>-1?(a="msie",d=e.match(/msie ([\d.]+)/)||e.match(/rv:([\d.]+)/)):e.indexOf("chrome")>-1?(a="chrome",d=e.match(/chrome\/([\d.]+)/)):e.indexOf("firefox")>-1?(a="firefox",d=e.match(/firefox\/([\d.]+)/)):e.indexOf("opera")>-1?(a="opera",d=e.match(/version\/([\d.]+)/)):e.indexOf("safari")>-1&&(a="safari",d=e.match(/version\/([\d.]+)/)),b=d?d[1]:"",e.indexOf("ipad")>-1||e.indexOf("ipod")>-1||e.indexOf("iphone")>-1?c="apple":e.indexOf("android")>-1&&(d=e.match(/version\/([\d.]+)/),b=d?d[1]:"",c="android"),{name:a,version:b,device:c}}(),_SuperMap2["default"].Util.getBrowser=function(){return _SuperMap2["default"].Browser},_SuperMap2["default"].Util.isSupportCanvas=function(){var a=!0,b=_SuperMap2["default"].Util.getBrowser();return document.createElement("canvas").getContext?("firefox"===b.name&&parseFloat(b.version)<5&&(a=!1),"safari"===b.name&&parseFloat(b.version)<4&&(a=!1),"opera"===b.name&&parseFloat(b.version)<10&&(a=!1),"msie"===b.name&&parseFloat(b.version)<9&&(a=!1)):a=!1,a}(),_SuperMap2["default"].Util.supportCanvas=function(){return _SuperMap2["default"].Util.isSupportCanvas},_SuperMap2["default"].INCHES_PER_UNIT["degree"]=_SuperMap2["default"].INCHES_PER_UNIT.dd,_SuperMap2["default"].INCHES_PER_UNIT["meter"]=_SuperMap2["default"].INCHES_PER_UNIT.m,_SuperMap2["default"].INCHES_PER_UNIT["foot"]=_SuperMap2["default"].INCHES_PER_UNIT.ft,_SuperMap2["default"].INCHES_PER_UNIT["inch"]=_SuperMap2["default"].INCHES_PER_UNIT.inches,_SuperMap2["default"].INCHES_PER_UNIT["mile"]=_SuperMap2["default"].INCHES_PER_UNIT.mi,_SuperMap2["default"].INCHES_PER_UNIT["kilometer"]=_SuperMap2["default"].INCHES_PER_UNIT.km,_SuperMap2["default"].INCHES_PER_UNIT["yard"]=_SuperMap2["default"].INCHES_PER_UNIT.yd,_SuperMap2["default"].Util.isInTheSameDomain=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o;return a?(b=a.indexOf("//"),c=document.location.toString(),d=c.indexOf("//"),-1===b?!0:(f=e=a.substring(0,b),g=c.substring(d+2),d=g.indexOf("/"),h=g.indexOf(":"),i=g.substring(0,d),k=document.location.protocol,-1!==h?j=+g.substring(h,d):i+=":"+("http:"===k.toLowerCase()?80:443),k.toLowerCase()!==f.toLowerCase()?!1:(f=a.substring(b+2),l=f.indexOf(":"),b=f.indexOf("/"),m=f.substring(0,b),-1!==l?n=f.substring(0,l):(n=f.substring(0,b),m+=":"+("http:"===e.toLowerCase()?80:443)),o=document.domain,n===o&&m===i?!0:!1))):!0},_SuperMap2["default"].Util.calculateDpi=function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n;if(a&&b&&c)return f=1e4,g=a.getWidth(),h=a.getHeight(),i=b.w,j=b.h,e=e||6378137,d=d||"degrees","degree"===d.toLowerCase()||"degrees"===d.toLowerCase()||"dd"===d.toLowerCase()?(k=g/i,l=h/j,m=k>l?k:l,n=.0254*f/m/c/(2*Math.PI*e/360)/f,n):(m=g/i,n=.0254*f/m/c/f)},_SuperMap2["default"].Util.toJSON=function(a){var c,d,e,f,g,b=a;if(null==b)return null;switch(b.constructor){case String:return b='"'+b.replace(/(["\\])/g,"\\$1")+'"',b=b.replace(/\n/g,"\\n"),b=b.replace(/\r/g,"\\r"),b=b.replace("<","&lt;"),b=b.replace(">","&gt;"),b=b.replace(/%/g,"%25"),b=b.replace(/&/g,"%26");case Array:for(c=[],d=0,e=b.length;e>d;d++)c.push(_SuperMap2["default"].Util.toJSON(b[d]));return"["+c.join(",")+"]";case Number:return isFinite(b)?String(b):null;case Boolean:return String(b);case Date:return f="{'__type':\"System.DateTime\",'Year':"+b.getFullYear()+","+"'Month':"+(b.getMonth()+1)+","+"'Day':"+b.getDate()+","+"'Hour':"+b.getHours()+","+"'Minute':"+b.getMinutes()+","+"'Second':"+b.getSeconds()+","+"'Millisecond':"+b.getMilliseconds()+","+"'TimezoneOffset':"+b.getTimezoneOffset()+"}";default:if(null!=b["toJSON"]&&"function"==typeof b["toJSON"])return b.toJSON();if("object"===("undefined"==typeof b?"undefined":_typeof(b))){if(b.length){for(c=[],d=0,e=b.length;e>d;d++)c.push(_SuperMap2["default"].Util.toJSON(b[d]));return"["+c.join(",")+"]"}c=[];for(g in b)"function"!=typeof b[g]&&"CLASS_NAME"!==g&&"parent"!==g&&c.push("'"+g+"':"+_SuperMap2["default"].Util.toJSON(b[g]));return c.length>0?"{"+c.join(",")+"}":"{}"}return b.toString()}},_SuperMap2["default"].Util.getResolutionFromScaleDpi=function(a,b,c,d){var e=null,f=1e4;return d=d||6378137,c=c||"",a>0&&b>0?(a=_SuperMap2["default"].Util.normalizeScale(a),e="degree"===c.toLowerCase()||"degrees"===c.toLowerCase()||"dd"===c.toLowerCase()?.0254*f/b/a/(2*Math.PI*d/360)/f:.0254*f/b/a/f):-1},_SuperMap2["default"].Util.getScaleFromResolutionDpi=function(a,b,c,d){var e=null,f=1e4;return d=d||6378137,c=c||"",a>0&&b>0?e="degree"===c.toLowerCase()||"degrees"===c.toLowerCase()||"dd"===c.toLowerCase()?.0254*f/b/a/(2*Math.PI*d/360)/f:.0254*f/b/a/f:-1},_SuperMap2["default"].Util.transformResult=function(result){return result.responseText&&"string"==typeof result.responseText&&(result="undefined"!=typeof JSON&&JSON.parse?JSON.parse(result.responseText):eval("("+result.responseText+")")),result},_SuperMap2["default"].Util.copyAttributes=function(a,b){var c,d;if(a=a||{},b)for(c in b)d=b[c],void 0!==d&&"CLASS_NAME"!==c&&"function"!=typeof d&&(a[c]=d);return a},_SuperMap2["default"].Util.copyAttributesWithClip=function(a,b,c){var d,e,f,g,h;if(a=a||{},b)for(d in b){if(e=!1,c&&c.length)for(f=0,g=c.length;g>f;f++)if(d===c[f]){e=!0;break}e!==!0&&(h=b[d],void 0!==h&&"CLASS_NAME"!==d&&"function"!=typeof h&&(a[d]=h))}return a},_SuperMap2["default"].Util.cloneObject=function(a){var b,c;if(null===a||"object"!==("undefined"==typeof a?"undefined":_typeof(a)))return a;if(a instanceof Date)return b=new Date,b.setTime(a.getTime()),b;if(a instanceof Array)return b=a.slice(0);if(a instanceof Object){b={};for(c in a)a.hasOwnProperty(c)&&(b[c]=_SuperMap2["default"].Util.cloneObject(a[c]));return b}throw new Error("Unable to copy obj! Its type isn't supported.")},_SuperMap2["default"].Util.lineIntersection=function(a,b,c,d){var f,g,k,l,m,n,e=null,h=(d.x-c.x)*(a.y-c.y)-(d.y-c.y)*(a.x-c.x),i=(b.x-a.x)*(a.y-c.y)-(b.y-a.y)*(a.x-c.x),j=(d.y-c.y)*(b.x-a.x)-(d.x-c.x)*(b.y-a.y);return 0!=j?(f=h/j,g=i/j,e=f>=0&&1>=g&&1>=f&&g>=0?new _SuperMap2["default"].Geometry.Point(a.x+f*(b.x-a.x),a.y+f*(b.y-a.y)):"No Intersection"):0==h&&0==i?(k=Math.max(a.y,b.y),l=Math.min(a.y,b.y),m=Math.max(a.x,b.x),n=Math.min(a.x,b.x),e=(c.y>=l&&c.y<=k||d.y>=l&&d.y<=k)&&c.x>=n&&c.x<=m||d.x>=n&&d.x<=m?"Coincident":"Parallel"):e="Parallel",e},_SuperMap2["default"].Util.getTextBounds=function(a,b,c){var d,e;return document.body.appendChild(c),c.style.width="auto",c.style.height="auto",a.fontSize&&(c.style.fontSize=a.fontSize),a.fontFamily&&(c.style.fontFamily=a.fontFamily),a.fontWeight&&(c.style.fontWeight=a.fontWeight),c.style.position="relative",c.style.visibility="hidden",c.style.display="inline-block",c.innerHTML=b,d=c.clientWidth,e=c.clientHeight,document.body.removeChild(c),{textWidth:d,textHeight:e}}},function(a,b,c){"use strict";function m(a){return a&&a.__esModule?a:{"default":a}}function n(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function o(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function p(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}var d,e,f,g,h,i,j,k,l,q;Object.defineProperty(b,"__esModule",{value:!0}),d=function(){function a(a,b){var c,d;for(c=0;c<b.length;c++)d=b[c],d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=function r(a,b,c){var d,e,f;return null===a&&(a=Function.prototype),d=Object.getOwnPropertyDescriptor(a,b),void 0===d?(e=Object.getPrototypeOf(a),null===e?void 0:r(e,b,c)):"value"in d?d.value:(f=d.get,void 0===f?void 0:f.call(c))},f=c(0),g=m(f),h=c(31),i=m(h),j=c(30),k=m(j),l=c(2),q=function(a){function b(a,c,d,e){n(this,b);var f=o(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c,d,e));return f.x=null,f.y=null,f.tag=null,f.type=null,f.CLASS_NAME="SuperMap.Geometry.Point",f.x=parseFloat(a),f.y=parseFloat(c),(e||0==e)&&(f.tag=parseFloat(e)),f.type=d||"NONE",f}return p(b,a),d(b,[{key:"clone",value:function(a){return null==a&&(a=new b(this.x,this.y)),l.Util.applyDefaults(a,this),a}},{key:"calculateBounds",value:function(){this.bounds=new k["default"](this.x,this.y,this.x,this.y)}},{key:"distanceTo",value:function(a,c){var f,g,h,i,j,k,d=!(c&&c.edge===!1),e=d&&c&&c.details;return a instanceof b?(g=this.x,h=this.y,i=a.x,j=a.y,f=Math.sqrt(Math.pow(g-i,2)+Math.pow(h-j,2)),k=e?{x0:g,y0:h,x1:i,y1:j,distance:f}:f):(k=a.distanceTo(this,c),e&&(k={x0:k.x1,y0:k.y1,x1:k.x0,y1:k.y0,distance:k.distance})),k}},{key:"equals",value:function h(a){var h=!1;return null!=a&&(h=this.x===a.x&&this.y===a.y||isNaN(this.x)&&isNaN(this.y)&&isNaN(a.x)&&isNaN(a.y)),h}},{key:"toShortString",value:function(){return this.x+", "+this.y}},{key:"move",value:function(a,b){this.x=this.x+a,this.y=this.y+b,this.clearBounds()}},{key:"rotate",value:function(a,b){var c,d;a*=Math.PI/180,c=this.distanceTo(b),d=a+Math.atan2(this.y-b.y,this.x-b.x),this.x=b.x+c*Math.cos(d),this.y=b.y+c*Math.sin(d),this.clearBounds()}},{key:"getCentroid",value:function(){return new b(this.x,this.y)}},{key:"resize",value:function(a,b,c){return c=void 0==c?1:c,this.x=b.x+a*c*(this.x-b.x),this.y=b.y+a*(this.y-b.y),this.clearBounds(),this}},{key:"intersects",value:function(a){var b=!1;return b="SuperMap.Geometry.Point"===a.CLASS_NAME?this.equals(a):a.intersects(this)}},{key:"destroy",value:function(){this.x=null,this.y=null,this.tag=null,e(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"destroy",this).call(this)}},{key:"getVertices",value:function(){return[this]}}]),b}(i["default"]),b["default"]=q,g["default"].Geometry.Point=q},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(a){return a&&a.__esModule?a:{"default":a}}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function _inherits(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}var _createClass,_get,_SuperMap,_SuperMap2,_Point,_Point2,_Geometry2,_Geometry3,_Util,Collection;Object.defineProperty(exports,"__esModule",{value:!0}),_createClass=function(){function a(a,b){var c,d;for(c=0;c<b.length;c++)d=b[c],d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),_get=function a(b,c,d){var e,f,g;return null===b&&(b=Function.prototype),e=Object.getOwnPropertyDescriptor(b,c),void 0===e?(f=Object.getPrototypeOf(b),null===f?void 0:a(f,c,d)):"value"in e?e.value:(g=e.get,void 0===g?void 0:g.call(d))},_SuperMap=__webpack_require__(0),_SuperMap2=_interopRequireDefault(_SuperMap),_Point=__webpack_require__(3),_Point2=_interopRequireDefault(_Point),_Geometry2=__webpack_require__(31),_Geometry3=_interopRequireDefault(_Geometry2),_Util=__webpack_require__(2),Collection=function(_Geometry){function Collection(a){_classCallCheck(this,Collection);var b=_possibleConstructorReturn(this,(Collection.__proto__||Object.getPrototypeOf(Collection)).call(this));return b.components=null,b.componentTypes=null,b.CLASS_NAME="SuperMap.Geometry.Collection",b.components=[],null!=a&&b.addComponents(a),b}return _inherits(Collection,_Geometry),_createClass(Collection,[{key:"destroy",value:function(){this.components.length=0,this.components=null,_get(Collection.prototype.__proto__||Object.getPrototypeOf(Collection.prototype),"destroy",this).call(this)}},{key:"clone",value:function clone(){var i,len,geometry=eval("new "+this.CLASS_NAME+"()");for(i=0,len=this.components.length;len>i;i++)geometry.addComponent(this.components[i].clone());return _Util.Util.applyDefaults(geometry,this),geometry}},{key:"getComponentsString",value:function(){var b,c,a=[];for(b=0,c=this.components.length;c>b;b++)a.push(this.components[b].toShortString());return a.join(",")}},{key:"calculateBounds",value:function(){var a,b,c,d;if(this.bounds=null,a=new _SuperMap2["default"].Bounds,b=this.components)for(c=0,d=b.length;d>c;c++)a.extend(b[c].getBounds());null!=a.left&&null!=a.bottom&&null!=a.right&&null!=a.top&&this.setBounds(a)}},{key:"addComponents",value:function(a){_Util.Util.isArray(a)||(a=[a]);for(var b=0,c=a.length;c>b;b++)this.addComponent(a[b])}},{key:"addComponent",value:function(a,b){var d,e,c=!1;return a&&(null==this.componentTypes||_Util.Util.indexOf(this.componentTypes,a.CLASS_NAME)>-1)&&(null!=b&&b<this.components.length?(d=this.components.slice(0,b),e=this.components.slice(b,this.components.length),d.push(a),this.components=d.concat(e)):this.components.push(a),a.parent=this,this.clearBounds(),c=!0),c}},{key:"removeComponents",value:function(a){var c,b=!1;for(_Util.Util.isArray(a)||(a=[a]),c=a.length-1;c>=0;--c)b=this.removeComponent(a[c])||b;return b}},{key:"removeComponent",value:function(a){return _Util.Util.removeItem(this.components,a),this.clearBounds(),!0}},{key:"getLength",value:function(){var b,c,a=0;for(b=0,c=this.components.length;c>b;b++)a+=this.components[b].getLength();return a}},{key:"getArea",value:function(){var b,c,a=0;for(b=0,c=this.components.length;c>b;b++)a+=this.components[b].getArea();return a}},{key:"getCentroid",value:function(a){var b,c,d,e,f,g,h,i,j,k,l;if(!a)return this.components.length&&this.components[0].getCentroid();if(b=this.components.length,!b)return!1;for(c=[],d=[],e=0,f=Number.MAX_VALUE,h=0;b>h;++h)g=this.components[h],i=g.getArea(),j=g.getCentroid(!0),isNaN(i)||isNaN(j.x)||isNaN(j.y)||(c.push(i),e+=i,f=f>i&&i>0?i:f,d.push(j));if(b=c.length,0===e){for(h=0;b>h;++h)c[h]=1;e=c.length}else{for(h=0;b>h;++h)c[h]/=f;e/=f}for(k=0,l=0,h=0;b>h;++h)j=d[h],i=c[h],k+=j.x*i,l+=j.y*i;return new _Point2["default"](k/e,l/e)}},{key:"move",value:function(a,b){for(var c=0,d=this.components.length;d>c;c++)this.components[c].move(a,b)}},{key:"rotate",value:function(a,b){for(var c=0,d=this.components.length;d>c;++c)this.components[c].rotate(a,b)}},{key:"resize",value:function(a,b,c){for(var d=0;d<this.components.length;++d)this.components[d].resize(a,b,c);return this}},{key:"distanceTo",value:function(a,b){var e,f,g,i,j,c=!(b&&b.edge===!1),d=c&&b&&b.details,h=Number.POSITIVE_INFINITY;for(i=0,j=this.components.length;j>i&&(e=this.components[i].distanceTo(a,b),g=d?e.distance:e,!(h>g&&(h=g,f=e,0==h)));++i);return f}},{key:"equals",value:function(a){var c,d,b=!0;if(a&&a.CLASS_NAME&&this.CLASS_NAME===a.CLASS_NAME)if(_Util.Util.isArray(a.components)&&a.components.length===this.components.length){for(c=0,d=this.components.length;d>c;++c)if(!this.components[c].equals(a.components[c])){b=!1;break}}else b=!1;else b=!1;return b}},{key:"intersects",value:function(a){var c,d,b=!1;for(c=0,d=this.components.length;d>c&&!(b=a.intersects(this.components[c]));++c);return b}},{key:"getVertices",value:function(a){var c,d,b=[];for(c=0,d=this.components.length;d>c;++c)Array.prototype.push.apply(b,this.components[c].getVertices(a));return b}}]),Collection}(_Geometry3["default"]),exports["default"]=Collection,_SuperMap2["default"].Geometry.Collection=Collection},function(a){a.exports=L},function(a,b,c){"use strict";function f(a){return a&&a.__esModule?a:{"default":a}}var d,e;Object.defineProperty(b,"__esModule",{value:!0}),b.SummaryType=b.StatisticAnalystMode=b.AnalystSizeUnit=b.AnalystAreaUnit=b.ClipAnalystMode=b.ChartType=b.ClientType=b.Exponent=b.VariogramMode=b.InterpolationAlgorithmType=b.SearchMode=b.PixelFormat=b.StatisticMode=b.UGCLayerType=b.LayerType=b.ColorSpaceType=b.GridType=b.TransferPreference=b.TransferTactic=b.EditType=b.DataReturnMode=b.SurfaceAnalystMethod=b.SmoothMethod=b.OverlayOperationType=b.BufferEndType=b.TurnType=b.SupplyCenterType=b.SideType=b.DirectionType=b.LabelOverLengthMode=b.LabelBackShape=b.AlongLineDirection=b.FillGradientMode=b.TextAlignment=b.ColorGradientType=b.ThemeType=b.RangeMode=b.GraduatedMode=b.GraphAxesTextDisplayMode=b.ThemeGraphType=b.ThemeGraphTextFormat=b.EngineType=b.Unit=b.MeasureMode=b.SpatialRelationType=b.SpatialQueryMode=b.JoinType=b.QueryOption=b.GeometryType=b.ServerType=b.DataFormat=void 0,d=c(0),e=f(d),b.DataFormat=e["default"].DataFormat={GEOJSON:"GEOJSON",ISERVER:"ISERVER"},b.ServerType=e["default"].ServerType={ISERVER:"ISERVER",IPORTAL:"IPORTAL",ONLINE:"ONLINE"},b.GeometryType=e["default"].GeometryType={LINE:"LINE",LINEM:"LINEM",POINT:"POINT",REGION:"REGION",ELLIPSE:"ELLIPSE",CIRCLE:"CIRCLE",TEXT:"TEXT",UNKNOWN:"UNKNOWN"},b.QueryOption=e["default"].QueryOption={ATTRIBUTE:"ATTRIBUTE",ATTRIBUTEANDGEOMETRY:"ATTRIBUTEANDGEOMETRY",GEOMETRY:"GEOMETRY"},b.JoinType=e["default"].JoinType={INNERJOIN:"INNERJOIN",LEFTJOIN:"LEFTJOIN"},b.SpatialQueryMode=e["default"].SpatialQueryMode={CONTAIN:"CONTAIN",CROSS:"CROSS",DISJOINT:"DISJOINT",IDENTITY:"IDENTITY",INTERSECT:"INTERSECT",NONE:"NONE",OVERLAP:"OVERLAP",TOUCH:"TOUCH",WITHIN:"WITHIN"},b.SpatialRelationType=e["default"].SpatialRelationType={CONTAIN:"CONTAIN",INTERSECT:"INTERSECT",WITHIN:"WITHIN"},b.MeasureMode=e["default"].MeasureMode={DISTANCE:"DISTANCE",AREA:"AREA"},b.Unit=e["default"].Unit={METER:"METER",KILOMETER:"KILOMETER",MILE:"MILE",YARD:"YARD",DEGREE:"DEGREE",MILLIMETER:"MILLIMETER",CENTIMETER:"CENTIMETER",INCH:"INCH",DECIMETER:"DECIMETER",FOOT:"FOOT",SECOND:"SECOND",MINUTE:"MINUTE",RADIAN:"RADIAN"},b.EngineType=e["default"].EngineType={IMAGEPLUGINS:"IMAGEPLUGINS",OGC:"OGC",ORACLEPLUS:"ORACLEPLUS",SDBPLUS:"SDBPLUS",SQLPLUS:"SQLPLUS",UDB:"UDB"},b.ThemeGraphTextFormat=e["default"].ThemeGraphTextFormat={CAPTION:"CAPTION",CAPTION_PERCENT:"CAPTION_PERCENT",CAPTION_VALUE:"CAPTION_VALUE",PERCENT:"PERCENT",VALUE:"VALUE"},b.ThemeGraphType=e["default"].ThemeGraphType={AREA:"AREA",BAR:"BAR",BAR3D:"BAR3D",LINE:"LINE",PIE:"PIE",PIE3D:"PIE3D",POINT:"POINT",RING:"RING",ROSE:"ROSE",ROSE3D:"ROSE3D",STACK_BAR:"STACK_BAR",STACK_BAR3D:"STACK_BAR3D",STEP:"STEP"},b.GraphAxesTextDisplayMode=e["default"].GraphAxesTextDisplayMode={ALL:"ALL",NONE:"NONE",YAXES:"YAXES"},b.GraduatedMode=e["default"].GraduatedMode={CONSTANT:"CONSTANT",LOGARITHM:"LOGARITHM",SQUAREROOT:"SQUAREROOT"},b.RangeMode=e["default"].RangeMode={CUSTOMINTERVAL:"CUSTOMINTERVAL",EQUALINTERVAL:"EQUALINTERVAL",LOGARITHM:"LOGARITHM",QUANTILE:"QUANTILE",SQUAREROOT:"SQUAREROOT",STDDEVIATION:"STDDEVIATION"},b.ThemeType=e["default"].ThemeType={DOTDENSITY:"DOTDENSITY",GRADUATEDSYMBOL:"GRADUATEDSYMBOL",GRAPH:"GRAPH",LABEL:"LABEL",RANGE:"RANGE",UNIQUE:"UNIQUE"},b.ColorGradientType=e["default"].ColorGradientType={BLACK_WHITE:"BLACKWHITE",BLUE_BLACK:"BLUEBLACK",BLUE_RED:"BLUERED",BLUE_WHITE:"BLUEWHITE",CYAN_BLACK:"CYANBLACK",CYAN_BLUE:"CYANBLUE",CYAN_GREEN:"CYANGREEN",CYAN_WHITE:"CYANWHITE",GREEN_BLACK:"GREENBLACK",GREEN_BLUE:"GREENBLUE",GREEN_ORANGE_VIOLET:"GREENORANGEVIOLET",GREEN_RED:"GREENRED",GREEN_WHITE:"GREENWHITE",PINK_BLACK:"PINKBLACK",PINK_BLUE:"PINKBLUE",PINK_RED:"PINKRED",PINK_WHITE:"PINKWHITE",RAIN_BOW:"RAINBOW",RED_BLACK:"REDBLACK",RED_WHITE:"REDWHITE",SPECTRUM:"SPECTRUM",TERRAIN:"TERRAIN",YELLOW_BLACK:"YELLOWBLACK",YELLOW_BLUE:"YELLOWBLUE",YELLOW_GREEN:"YELLOWGREEN",YELLOW_RED:"YELLOWRED",YELLOW_WHITE:"YELLOWWHITE"},b.TextAlignment=e["default"].TextAlignment={TOPLEFT:"TOPLEFT",TOPCENTER:"TOPCENTER",TOPRIGHT:"TOPRIGHT",BASELINELEFT:"BASELINELEFT",BASELINECENTER:"BASELINECENTER",BASELINERIGHT:"BASELINERIGHT",BOTTOMLEFT:"BOTTOMLEFT",BOTTOMCENTER:"BOTTOMCENTER",BOTTOMRIGHT:"BOTTOMRIGHT",MIDDLELEFT:"MIDDLELEFT",MIDDLECENTER:"MIDDLECENTER",MIDDLERIGHT:"MIDDLERIGHT"},b.FillGradientMode=e["default"].FillGradientMode={NONE:"NONE",LINEAR:"LINEAR",RADIAL:"RADIAL",CONICAL:"CONICAL",SQUARE:"SQUARE"},b.AlongLineDirection=e["default"].AlongLineDirection={NORMAL:"ALONG_LINE_NORMAL",LB_TO_RT:"LEFT_BOTTOM_TO_RIGHT_TOP",LT_TO_RB:"LEFT_TOP_TO_RIGHT_BOTTOM",RB_TO_LT:"RIGHT_BOTTOM_TO_LEFT_TOP",RT_TO_LB:"RIGHT_TOP_TO_LEFT_BOTTOM"},b.LabelBackShape=e["default"].LabelBackShape={DIAMOND:"DIAMOND",ELLIPSE:"ELLIPSE",MARKER:"MARKER",NONE:"NONE",RECT:"RECT",ROUNDRECT:"ROUNDRECT",TRIANGLE:"TRIANGLE"},b.LabelOverLengthMode=e["default"].LabelOverLengthMode={NEWLINE:"NEWLINE",NONE:"NONE",OMIT:"OMIT"},b.DirectionType=e["default"].DirectionType={EAST:"EAST",NONE:"NONE",NORTH:"NORTH",SOURTH:"SOURTH",WEST:"WEST"},b.SideType=e["default"].SideType={LEFT:"LEFT",MIDDLE:"MIDDLE",NONE:"NONE",RIGHT:"RIGHT"},b.SupplyCenterType=e["default"].SupplyCenterType={FIXEDCENTER:"FIXEDCENTER",NULL:"NULL",OPTIONALCENTER:"OPTIONALCENTER"},b.TurnType=e["default"].TurnType={AHEAD:"AHEAD",BACK:"BACK",END:"END",LEFT:"LEFT",NONE:"NONE",RIGHT:"RIGHT"},b.BufferEndType=e["default"].BufferEndType={FLAT:"FLAT",ROUND:"ROUND"},b.OverlayOperationType=e["default"].OverlayOperationType={CLIP:"CLIP",ERASE:"ERASE",IDENTITY:"IDENTITY",INTERSECT:"INTERSECT",UNION:"UNION",UPDATE:"UPDATE",XOR:"XOR"},b.SmoothMethod=e["default"].SmoothMethod={BSPLINE:"BSPLINE",POLISH:"POLISH"},b.SurfaceAnalystMethod=e["default"].SurfaceAnalystMethod={ISOLINE:"ISOLINE",ISOREGION:"ISOREGION"},b.DataReturnMode=e["default"].DataReturnMode={DATASET_AND_RECORDSET:"DATASET_AND_RECORDSET",DATASET_ONLY:"DATASET_ONLY",RECORDSET_ONLY:"RECORDSET_ONLY"},b.EditType=e["default"].EditType={ADD:"add",UPDATE:"update",DELETE:"delete"},b.TransferTactic=e["default"].TransferTactic={LESS_TIME:"LESS_TIME",LESS_TRANSFER:"LESS_TRANSFER",LESS_WALK:"LESS_WALK",MIN_DISTANCE:"MIN_DISTANCE"},b.TransferPreference=e["default"].TransferPreference={BUS:"BUS",SUBWAY:"SUBWAY",NO_SUBWAY:"NO_SUBWAY",NONE:"NONE"},b.GridType=e["default"].GridType={CROSS:"CROSS",GRID:"GRID",POINT:"POINT"},b.ColorSpaceType=e["default"].ColorSpaceType={CMYK:"CMYK",RGB:"RGB"},b.LayerType=e["default"].LayerType={UGC:"UGC",WMS:"WMS",WFS:"WFS",CUSTOM:"CUSTOM"},b.UGCLayerType=e["default"].UGCLayerType={THEME:"THEME",VECTOR:"VECTOR",GRID:"GRID",IMAGE:"IMAGE"},b.StatisticMode=e["default"].StatisticMode={AVERAGE:"AVERAGE",MAX:"MAX",MIN:"MIN",STDDEVIATION:"STDDEVIATION",SUM:"SUM",VARIANCE:"VARIANCE"},b.PixelFormat=e["default"].PixelFormat={BIT16:"BIT16",BIT32:"BIT32",BIT64:"BIT64",SINGLE:"SINGLE",DOUBLE:"DOUBLE",UBIT1:"UBIT1",UBIT4:"UBIT4",UBIT8:"UBIT8",UBIT24:"UBIT24",UBIT32:"UBIT32"},b.SearchMode=e["default"].SearchMode={KDTREE_FIXED_COUNT:"KDTREE_FIXED_COUNT",KDTREE_FIXED_RADIUS:"KDTREE_FIXED_RADIUS",NONE:"NONE",QUADTREE:"QUADTREE"},b.InterpolationAlgorithmType=e["default"].InterpolationAlgorithmType={KRIGING:"KRIGING",SimpleKriging:"SimpleKriging",UniversalKriging:"UniversalKriging"},b.VariogramMode=e["default"].VariogramMode={EXPONENTIAL:"EXPONENTIAL",GAUSSIAN:"GAUSSIAN",SPHERICAL:"SPHERICAL"},b.Exponent=e["default"].Exponent={EXP1:"EXP1",EXP2:"EXP2"},b.ClientType=e["default"].ClientType={IP:"IP",REFERER:"Referer",REQUESTIP:"RequestIP",NONE:"NONE",SERVER:"SERVER",WEB:"WEB"},b.ChartType=e["default"].ChartType={BAR:"Bar",BAR3D:"Bar3D",CIRCLE:"Circle",PIE:"Pie",POINT:"Point",LINE:"Line",RING:"Ring"},b.ClipAnalystMode=e["default"].ClipAnalystMode={CLIP:"clip",INTERSECT:"intersect"},b.AnalystAreaUnit=e["default"].AnalystAreaUnit={SQUAREMETER:"SquareMeter",SQUAREKILOMETER:"SquareKiloMeter",HECTARE:"Hectare",ARE:"Are",ACRE:"Acre",SQUAREFOOT:"SquareFoot",SQUAREYARD:"SquareYard",SQUAREMILE:"SquareMile"},b.AnalystSizeUnit=e["default"].AnalystSizeUnit={METER:"Meter",KILOMETER:"Kilometer",YARD:"Yard",FOOT:"Foot",MILE:"Mile"},b.StatisticAnalystMode=e["default"].StatisticAnalystMode={MAX:"max",MIN:"min",AVERAGE:"average",SUM:"sum",VARIANCE:"variance",STDDEVIATION:"stdDeviation"},b.SummaryType=e["default"].SummaryType={SUMMARYMESH:"SUMMARYMESH",SUMMARYREGION:"SUMMARYREGION"}
},function(a){a.exports=function(a){return Math.abs(a)>1&&(a=a>1?1:-1),Math.asin(a)}},function(a){a.exports=function(a,b,c){var d=a*b;return c/Math.sqrt(1-d*d)}},function(c,d,e){"use strict";function o(a){return a&&a.__esModule?a:{"default":a}}function p(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function q(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function r(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function t(a,b,c){var e,d=[];for(d[0]=[],d[1]=[],d[2]=[],e=0;3>e;e++)d[0][e]=new j["default"],d[0][e].x=(a[b+e].x+a[b+e+1].x)/2,d[0][e].y=(a[b+e].y+a[b+e+1].y)/2;for(e=0;2>e;e++)d[1][e]=new j["default"],d[1][e].x=(d[0][e].x+d[0][e+1].x)/2,d[1][e].y=(d[0][e].y+d[0][e+1].y)/2;return d[2][0]=new j["default"],d[2][0].x=(d[1][0].x+d[1][1].x)/2,d[2][0].y=(d[1][0].y+d[1][1].y)/2,c[0]=a[b],c[1]=d[0][0],c[2]=d[1][0],c[3]=d[2][0],c[4]=d[1][1],c[5]=d[0][2],c[6]=a[b+3],!0}function u(a,b){var d,c=0;for(d=1;4>d;d++)Math.abs(a[b+d].x-a[b+d-1].x)>c&&(c=Math.abs(a[b+d].x-a[b+d-1].x)),Math.abs(a[b+d].y-a[b+d-1].y)>c&&(c=Math.abs(a[b+d].y-a[b+d-1].y));return c}var f,g,h,i,j,k,l,m,n,s;Object.defineProperty(d,"__esModule",{value:!0}),f=function(){function a(a,b){var c,d;for(c=0;c<b.length;c++)d=b[c],d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),g=e(0),h=o(g),i=e(3),j=o(i),k=e(4),l=o(k),m=e(58),n=o(m),s=function(c){function d(a){p(this,d);var b=q(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,a));return b.CLASS_NAME="SuperMap.Geometry.LineString",b}return r(d,c),f(d,[{key:"removeComponent",value:function(){var b=this.components&&this.components.length>2;return b&&l["default"].prototype.removeComponent.apply(this,arguments),b}},{key:"intersects",value:function(a){var d,e,f,g,i,j,k,l,m,n,o,p,q,r,b=!1,c=a.CLASS_NAME;if("SuperMap.Geometry.LineString"===c||"SuperMap.Geometry.LinearRing"===c||"SuperMap.Geometry.Point"===c){d=this.getSortedSegments(),e="SuperMap.Geometry.Point"===c?[{x1:a.x,y1:a.y,x2:a.x,y2:a.y}]:a.getSortedSegments();a:for(o=0,p=d.length;p>o;++o)for(f=d[o],g=f.x1,i=f.x2,j=f.y1,k=f.y2,q=0,r=e.length;r>q&&(l=e[q],!(l.x1>i));++q)if(!(l.x2<g||(m=l.y1,n=l.y2,Math.min(m,n)>Math.max(j,k)||Math.max(m,n)<Math.min(j,k)||!h["default"].Geometry.segmentsIntersect(f,l)))){b=!0;break a}}else b=a.intersects(this);return b}},{key:"getSortedSegments",value:function(){function f(a,b){return a.x1-b.x1}var c,d,e,a=this.components.length-1,b=new Array(a);for(e=0;a>e;++e)c=this.components[e],d=this.components[e+1],b[e]=c.x<d.x?{x1:c.x,y1:c.y,x2:d.x,y2:d.y}:{x1:d.x,y1:d.y,x2:c.x,y2:c.y};return b.sort(f)}},{key:"splitWithSegment",value:function(a,b){var m,n,o,q,r,u,v,w,x,c=!(b&&b.edge===!1),e=b&&b.tolerance,f=[],g=this.getVertices(),i=[],k=[],l=!1,s={point:!0,tolerance:e},t=null;for(u=0,v=g.length-2;v>=u;++u)if(m=g[u],i.push(m.clone()),n=g[u+1],r={x1:m.x,y1:m.y,x2:n.x,y2:n.y},o=h["default"].Geometry.segmentsIntersect(a,r,s),o instanceof j["default"]&&(q=o.x===a.x1&&o.y===a.y1||o.x===a.x2&&o.y===a.y2||o.equals(m)||o.equals(n)?!0:!1,q||c)){if(o.equals(k[k.length-1])||k.push(o.clone()),0===u&&o.equals(m))continue;if(o.equals(n))continue;l=!0,o.equals(m)||i.push(o),f.push(new d(i)),i=[o.clone()]}return l&&(i.push(n.clone()),f.push(new d(i))),k.length>0&&(w=a.x1<a.x2?1:-1,x=a.y1<a.y2?1:-1,t={lines:f,points:k.sort(function(a,b){return w*a.x-w*b.x||x*a.y-x*b.y})}),t}},{key:"split",value:function(a,b){var f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,c=null,e=b&&b.mutual;if(a instanceof d){for(j=this.getVertices(),q=[],h=[],r=0,s=j.length-2;s>=r;++r)for(k=j[r],l=j[r+1],m={x1:k.x,y1:k.y,x2:l.x,y2:l.y},i=i||[a],e&&q.push(k.clone()),t=0;t<i.length;++t)if(n=i[t].splitWithSegment(m,b),n&&(o=n.lines,o.length>0&&(o.unshift(t,1),Array.prototype.splice.apply(i,o),t+=o.length-2),e))for(u=0,v=n.points.length;v>u;++u)p=n.points[u],p.equals(k)||(q.push(p),h.push(new d(q)),q=p.equals(l)?[]:[p.clone()]);e&&h.length>0&&q.length>0&&(q.push(l.clone()),h.push(new d(q)))}else c=a.splitWith(this,b);return i&&i.length>1?g=!0:i=[],h&&h.length>1?f=!0:h=[],(g||f)&&(c=e?[h,i]:i),c}},{key:"splitWith",value:function(a,b){return a.split(this,b)}},{key:"getVertices",value:function(a){var b;return b=a===!0?[this.components[0],this.components[this.components.length-1]]:a===!1?this.components.slice(1,this.components.length-1):this.components.slice()}},{key:"distanceTo",value:function(a,b){var f,i,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,c=!(b&&b.edge===!1),e=c&&b&&b.details,g={},h=Number.POSITIVE_INFINITY;if(a instanceof j["default"]){for(i=this.getSortedSegments(),k=a.x,l=a.y,n=0,o=i.length;o>n;++n)if(m=i[n],f=Supermap.Geometry.distanceToSegment(a,m),f.distance<h){if(h=f.distance,g=f,0===h)break}else if(m.x2>k&&(l>m.y1&&l<m.y2||l<m.y1&&l>m.y2))break;g=e?{distance:g.distance,x0:g.x,y0:g.y,x1:k,y1:l}:g.distance}else if(a instanceof d){p=this.getSortedSegments(),q=a.getSortedSegments(),w=q.length,x={point:!0};a:for(n=0,o=p.length;o>n;++n)for(r=p[n],u=r.x1,v=r.y1,y=0;w>y;++y){if(s=q[y],t=Supermap.Geometry.segmentsIntersect(r,s,x)){h=0,g={distance:0,x0:t.x,y0:t.y,x1:t.x,y1:t.y};break a}f=Supermap.Geometry.distanceToSegment({x:u,y:v},s),f.distance<h&&(h=f.distance,g={distance:h,x0:u,y0:v,x1:f.x,y1:f.y})}e||(g=g.distance),0!==h&&r&&(f=a.distanceTo(new j["default"](r.x2,r.y2),b),z=e?f.distance:f,h>z&&(g=e?{distance:h,x0:f.x1,y0:f.y1,x1:f.x0,y1:f.y0}:z))}else g=a.distanceTo(this,b),e&&(g={distance:g.distance,x0:g.x1,y0:g.y1,x1:g.x0,y1:g.y0});return g}},{key:"simplify",value:function(c){var e;return this&&null!==this?(e=this.getVertices(),e.length<3?this:a-b):this}}],[{key:"createCurve",value:function(c,e,f,g){var i,k,l,m,h="lanczos";for(void 0!=e&&(h=e),i=10,void 0!=f&&(i=f),k={method:h,clip:"mirror",lanczosFilterSize:i,cubicTension:0},l=[],m=0;m<c.length;m++)l.push([c[m].x,c[m].y]);return Math.sqrt(Math.pow(a[0]-b[0],2)+Math.pow(a[1]-b[1],2))}},{key:"createBspline",value:function(a,b){var c,e,f,g,h,i,k,l,m,n,o,p,q,r,s,t,u;if(a.length<2)return null;for(c=[],e=10,void 0!=b&&(e=b),l=1/e,q=Math.sqrt((Math.pow(a[1].x-a[0].x,2)+Math.pow(a[1].y-a[0].y,2))/2),r=new j["default"](a[0].x-q,a[0].y-q),s=[],s[0]=r,f=0;f<a.length-1;f++)for(t=[],t[0]=a[f],u=new j["default"](2*a[f].x-s[f].x,2*a[f].y-s[f].y),t[1]=u,s[f+1]=u,t[2]=a[f+1],c.push(t[0]),g=0;e>=g;g++)m=g*l,n=m*m,h=(n-2*m+1)/2,i=(2*m-2*n+1)/2,k=n/2,o=h*t[0].x+i*t[1].x+k*t[2].x,p=h*t[0].y+i*t[1].y+k*t[2].y,c.push(new j["default"](o,p));return c.push(a[a.length-1]),new d(c)}},{key:"createBezier1",value:function(a,b,c){var e,f,g,h,i,j,k,l,m;if(c)return d.createBezier3(a,c);for(e=[],f=0;f<a.length;f++)e[f]=a[f];for(i=0,k=e.length,l=[],m=!0;m;){for(j=!0,g=0;k-3>g;g+=3){if(u(e,g)>b){for(j=!1,t(e,g,l),e.splice(g+1,2),h=0;5>h;h++)e.splice(g+1+h,0,l[h+1]);g-=3,k=e.length}if(j)break}for(;k-1>i;)e[i]===e[i+1]&&(e.splice(i+1,1),k--),i++;m=!1}return new d(e)}},{key:"calculatePointsFBZ2",value:function(a,b){var c,d,e,f,g,h,i,k,l,m,n,o;for(b||(b=20),c=[],d=.05,b>0&&(d=1/b),e=0;e<a.length-2;){for(f=a[e],g=a[e+1],h=a[e+2],c.push(f),i=0;1>i;)k=(1-i)*(1-i)*f.x+2*i*(1-i)*g.x+i*i*h.x,l=(1-i)*(1-i)*f.y+2*i*(1-i)*g.y+i*i*h.y,m=new j["default"](k,l),c.push(m),i+=d;e+=2,e>=a.length&&c.push(f)}return n=c[c.length-1],o=a[a.length-1],n.equals(o)||c.push(o.clone()),c}},{key:"calculatePointsFBZ3",value:function(a,b){var c,d,e,f,g,h,i,k,l,m,n,o,p;for(b||(b=20),c=[],d=.05,b>0&&(d=1/b),e=0;e<a.length-3;){for(f=a[e],g=a[e+1],h=a[e+2],i=a[e+3],c.push(f),k=0;1>k;)l=(1-k)*(1-k)*(1-k)*f.x+3*k*(1-k)*(1-k)*g.x+3*k*k*(1-k)*h.x+k*k*k*i.x,m=(1-k)*(1-k)*(1-k)*f.y+3*k*(1-k)*(1-k)*g.y+3*k*k*(1-k)*h.y+k*k*k*i.y,n=new j["default"](l,m),c.push(n),k+=d;e+=3,e>=a.length&&c.push(f)}return o=c[c.length-1],p=a[a.length-1],o.equals(p)||c.push(p.clone()),c}},{key:"calculatePointsFBZN",value:function(a,b){var c,e,f,g,h,i,k,l,m,n,o;for(b||(b=8*a.length),c=[],e=.05,b>0&&(e=1/b),f=0;1>=f;){for(g=0,h=0,i=a.length,k=0;k<a.length;k++)l=d.BEZ(i-1,k,f),g+=a[k].x*l,h+=a[k].y*l;m=new j["default"](g,h),c.push(m),f+=e}return n=c[c.length-1],o=a[a.length-1],n.equals(o)||c.push(o.clone()),c}},{key:"createBezier2",value:function(a,b){var c=d.calculatePointsFBZ2(a,b);return new d(c)}},{key:"createBezier3",value:function(a,b){var c=d.calculatePointsFBZ3(a,b);return new d(c)}},{key:"createBezier",value:function(a,b){var e,f,g,i,h,j,k,c=[];for(e=0;e<a.length;e++)c[e]=a[e];for(h=0,j=c.length,k=[];;){for(i=!0,f=0;j-3>f;f+=3){if(u(c,f)>b){for(i=!1,t(c,f,k),c.splice(f+1,2),g=0;5>g;g++)c.splice(f+1+g,0,k[g+1]);f-=3,j=c.length}if(i)break}for(;j-1>h;)c[h]===c[h+1]&&(c.splice(h+1,1),j--),h++;return new d(c)}}},{key:"createBezierN",value:function(a,b){var c=d.calculatePointsFBZN(a,b);return new d(c)}},{key:"BEZ",value:function(a,b,c){return d.combSort(a,b)*Math.pow(c,b)*Math.pow(1-c,a-b)}},{key:"combSort",value:function(a,b){var c=d.factorial(a),e=d.factorial(b)*d.factorial(a-b);return c/e}},{key:"factorial",value:function(a){var c,b=1;for(c=1;a>=c;c++)b*=c;return b}},{key:"calculateCardinalPoints",value:function(a){var b,c,d,e,f,g,h,i,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F;if(null==a||a.length<3)return a;for(b=a,c=[],d=.4,e=.5,f=.005,g=b.length-1,h=0;g+1-3>=h;h++)i=b[h],k=b[h+1],l=b[h+2],m=new j["default"],n=new j["default"],o=new j["default"](k.x-i.x,k.y-i.y),p=new j["default"](l.x-k.x,l.y-k.y),q=Math.sqrt(o.x*o.x+o.y*o.y),r=Math.sqrt(p.x*p.x+p.y*p.y),s=new j["default"](o.x/q,o.y/q),t=new j["default"](p.x/r,p.y/r),u=new j["default"](s.x+t.x,s.y+t.y),v=Math.sqrt(u.x*u.x+u.y*u.y),w=new j["default"](u.x/v,u.y/v),x=(s.x*t.x+s.y*t.y)/1,Math.abs(1-x)<f?(m.x=k.x-t.x*q*d,m.y=k.y-t.y*q*d,n.x=k.x+s.x*r*d,n.y=k.y+s.y*r*d):(m.x=k.x-w.x*q*d,m.y=k.y-w.y*q*d,n.x=k.x+w.x*r*d,n.y=k.y+w.y*r*d),c[3*h+2+0]=m,c[3*h+2+1]=k,c[3*h+2+2]=n,0==h&&(y=new j["default"],z=new j["default"](m.x-i.x,m.y-i.y),A=Math.sqrt(z.x*z.x+z.y*z.y),B=new j["default"](z.x/A,z.y/A),y.x=i.x+B.x*q*d*e,y.y=i.y+B.y*q*d*e,c[3*h+0]=i,c[3*h+1]=y),h==g+1-3&&(C=new j["default"],D=new j["default"](n.x-l.x,n.y-l.y),E=Math.sqrt(D.x*D.x+D.y*D.y),F=new j["default"](D.x/E,D.y/E),C.x=l.x+F.x*r*d*e,C.y=l.y+F.y*r*d*e,c[3*h+2+3]=C,c[3*h+2+4]=l);return c}},{key:"createCloseCardinal",value:function(a){var b,c,d,e,g,h,i,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y;if(null==a||a.length<3)return a;for(b=a[0],a.push(b),c=a,d=[],e=.4,g=.005,h=c.length-1,i=0;h-1>=i;i++)i==h-1?(k=c[h-1],l=c[0],m=c[1]):(k=c[i],l=c[i+1],m=c[i+2]),n=new j["default"],o=new j["default"],p=new j["default"](l.x-k.x,l.y-k.y),q=new j["default"](m.x-l.x,m.y-l.y),r=Math.sqrt(p.x*p.x+p.y*p.y),s=Math.sqrt(q.x*q.x+q.y*q.y),t=new j["default"](p.x/r,p.y/r),u=new j["default"](q.x/s,q.y/s),v=new j["default"](t.x+u.x,t.y+u.y),w=Math.sqrt(v.x*v.x+v.y*v.y),x=new j["default"](v.x/w,v.y/w),y=(t.x*u.x+t.y*u.y)/1,Math.abs(1-y)<g?(n.x=l.x-u.x*r*e,n.y=l.y-u.y*r*e,o.x=l.x+t.x*s*e,o.y=l.y+t.y*s*e):(n.x=l.x-x.x*r*e,n.y=l.y-x.y*r*e,o.x=l.x+x.x*s*e,o.y=l.y+x.y*s*e),i==h-1?(d[0]=l,d[1]=o,d[3*(h-2)+2+3]=n,d[3*(h-2)+2+4]=c[h]):(d[3*i+2+0]=n,d[3*i+2+1]=l,d[3*i+2+2]=o);return d}},{key:"calculateCircle",value:function(a){var c,d,e,f,g,h,i,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C;if(a.length<3)return a;if(a.length,c={},d=a[0],e=a[1],f=a[2],g=0,h=0,i=!0,k=0,l=0,m=0,n=72,c={},o=[],p=(f.y-d.y)/(f.x-d.x),q=f.y-p*f.x,f.x!=d.x&&f.y!=d.y&&e.y==p*e.x+q||f.x==d.x&&e.x==d.x||f.y==d.y&&e.y==d.y||f.x==d.x&&f.y==d.y||f.x==e.x&&f.y==e.y||d.x==e.x&&d.y==e.y)o.push(d),o.push(e),o.push(f);else{for(r=(e.x*e.x+e.y*e.y-(d.x*d.x+d.y*d.y))*2*(f.y-d.y)-(f.x*f.x+f.y*f.y-(d.x*d.x+d.y*d.y))*2*(e.y-d.y),s=2*(e.x-d.x)*(f.x*f.x+f.y*f.y-(d.x*d.x+d.y*d.y))-2*(f.x-d.x)*(e.x*e.x+e.y*e.y-(d.x*d.x+d.y*d.y)),t=4*((e.x-d.x)*(f.y-d.y)-(f.x-d.x)*(e.y-d.y)),c.x=r/t,c.y=s/t,g=Math.sqrt((d.x-c.x)*(d.x-c.x)+(d.y-c.y)*(d.y-c.y)),u=(d.x-f.x)*(d.x-f.x)+(d.y-f.y)*(d.y-f.y),v=(2*g*g-u)/(2*g*g),v=v>=1?1:v,v=-1>=v?-1:v,m=180*Math.acos(v)/Math.PI,m=f.x==d.x?c.x>d.x&&e.x>d.x||c.x<d.x&&e.x<d.x?360-m:m:c.y>p*c.x+q&&e.y>p*e.x+q||c.y<p*c.x+q&&e.y<p*e.x+q?360-m:m,h=m/72,f.y!=d.y?f.x==d.x?f.y>d.y?e.x<d.x&&(i=!1):e.x>d.x&&(i=!1):f.x<d.x?e.y<p*e.x+q&&(i=!1):e.y>p*e.x+q&&(i=!1):f.x>d.x?e.y>d.y&&(i=!1):e.y<d.y&&(i=!1),w=(d.y-c.y)/(d.x-c.x),x=w>=0?180*Math.atan(w)/Math.PI:Math.abs(180*Math.atan(w)/Math.PI)+90,y=Math.abs(c.y),d.y==y&&y==f.y&&d.x<f.x&&(x+=180),z=d.y-c.y,o.push(d),A=1;n>A;A++)k=h*A,l=x,i?z>=0?w>=0?l+=k:l=180-(l-90)+k:l=w>0?l-180+k:90-l+k:z>=0?w>=0?l-=k:l=180-(l-90)-k:l=w>=0?l-180-k:90-l-k,l=l*Math.PI/180,B=c.x+g*Math.cos(l),C=c.y+g*Math.sin(l),o.push(new j["default"](B,C));o.push(f)}return o}},{key:"createLineEPS",value:function(a){var f,g,h,b=[],e=a.length;if(null==a||2>e)return a;for(f=0;e>f;)g=a[f].type,"LTypeArc"==g?(h=d.createLineArc(b,f,e,a),b=h[0],f=h[1]):(b.push(a[f]),f++);return b}},{key:"createLineArc",value:function(a,b,c,e){var f,g,h;return 0==b?(f=d.addPointEPS(e,b,c,"LTypeArc"),Array.prototype.push.apply(a,f[0]),b=f[1]+1):b==c-1?(g=[e[b-1],e[b]],h=d.calculateCircle(g),Array.prototype.push.apply(a,h),b++):(f=d.addPointEPS(e,b,c,"LTypeArc"),a.pop(),Array.prototype.push.apply(a,f[0]),b=f[1]+1),[a,b]}},{key:"createLineCurve",value:function(a,b,c,e){var f,g,h;return 0==b?(f=d.addPointEPS(e,b,c,"LTypeCurve"),Array.prototype.push.apply(a,f[0]),b=f[1]+1):b==c-1?(g=[e[b-1],e[b]],h=d.calculatePointsFBZN(g),Array.prototype.push.apply(a,h),b++):(f=d.addPointEPS(e,b,c,"LTypeCurve"),a.pop(),Array.prototype.push.apply(a,f[0]),b=f[1]+1),[a,b]}},{key:"addPointEPS",value:function(a,b,c,e){var h,f=[],g=b+1;return 0==b?Array.prototype.push.apply(f,[a[b],a[b+1]]):b==c-1?Array.prototype.push.apply(f,[a[b-1],a[b]]):Array.prototype.push.apply(f,[a[b-1],a[b],a[b+1]]),"LTypeCurve"==e?h=d.calculatePointsFBZN(f):"LTypeArc"==e&&(h=d.calculateCircle(f)),[h,g]}}]),d}(n["default"]),d["default"]=s,h["default"].Geometry.LineString=s},function(a,b,c){var d=Math.PI/2,e=c(16);a.exports=function(a){return Math.abs(a)<d?a:a-e(a)*Math.PI}},function(a){a.exports=function(a){return 1-.25*a*(1+a/16*(3+1.25*a))}},function(a){a.exports=function(a){return.375*a*(1+.25*a*(1+.46875*a))}},function(a){a.exports=function(a){return.05859375*a*a*(1+.75*a)}},function(a){a.exports=function(a){return a*a*a*(35/3072)}},function(a){a.exports=function(a,b,c,d,e){return a*e-b*Math.sin(2*e)+c*Math.sin(4*e)-d*Math.sin(6*e)}},function(a){a.exports=function(a){return 0>a?-1:1}},function(a,b,c){"use strict";function n(a){return a&&a.__esModule?a:{"default":a}}function o(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function p(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function q(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}var d,e,f,g,h,i,j,k,l,m,r;Object.defineProperty(b,"__esModule",{value:!0}),d=function(){function a(a,b){var c,d;for(c=0;c<b.length;c++)d=b[c],d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=n(e),g=c(4),h=n(g),i=c(9),j=n(i),k=c(3),l=n(k),m=c(29),r=function(a){function b(a){o(this,b);var c=p(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));return c.componentTypes=["SuperMap.Geometry.Point"],c.CLASS_NAME="SuperMap.Geometry.LinearRing",c}return q(b,a),d(b,[{key:"addComponent",value:function(a,b){var e,c=!1,d=this.components.pop();return null==b&&a.equals(d)||(c=h["default"].prototype.addComponent.apply(this,arguments)),e=this.components[0],h["default"].prototype.addComponent.apply(this,[e]),c}},{key:"removeComponent",value:function(){var c,b=this.components&&this.components.length>3;return b&&(this.components.pop(),h["default"].prototype.removeComponent.apply(this,arguments),c=this.components[0],h["default"].prototype.addComponent.apply(this,[c])),b}},{key:"move",value:function(a,b){for(var c=0,d=this.components.length;d-1>c;c++)this.components[c].move(a,b)}},{key:"rotate",value:function(a,b){for(var c=0,d=this.components.length;d-1>c;++c)this.components[c].rotate(a,b)}},{key:"resize",value:function(a,b,c){for(var d=0,e=this.components.length;e-1>d;++d)this.components[d].resize(a,b,c);return this}},{key:"getCentroid",value:function(){var a,b,c,d,e,f,g,h,i,j,k;if(this.components){if(a=this.components.length,a>0&&2>=a)return this.components.clone();if(a>2){if(b=0,c=0,d=this.components[0].x,e=this.components[0].y,f=-1*this.getArea(),0!=f){for(g=0;a-1>g;g++)h=this.components[g],i=this.components[g+1],b+=(h.x+i.x-2*d)*((h.x-d)*(i.y-e)-(i.x-d)*(h.y-e)),c+=(h.y+i.y-2*e)*((h.x-d)*(i.y-e)-(i.x-d)*(h.y-e));j=d+b/(6*f),k=e+c/(6*f)}else{for(g=0;a-1>g;g++)b+=this.components[g].x,c+=this.components[g].y;j=b/(a-1),k=c/(a-1)}return new l["default"](j,k)}return null}}},{key:"getArea",value:function(){var b,c,d,e,f,a=0;if(this.components&&this.components.length>2){for(b=0,c=0,d=this.components.length;d-1>c;c++)e=this.components[c],f=this.components[c+1],b+=(e.x+f.x)*(f.y-e.y);a=-b/2}return a}},{key:"containsPoint",value:function(a){function f(a,b,c,d,e){return(a-e)*((d-b)/(e-c))+d}var h,i,j,k,l,n,o,r,s,b=m.NumberExt.limitSigDigs,c=14,d=b(a.x,c),e=b(a.y,c),g=this.components.length-1,q=0;for(r=0;g>r;++r)if(h=this.components[r],j=b(h.x,c),k=b(h.y,c),i=this.components[r+1],l=b(i.x,c),n=b(i.y,c),k!==n){if(o=b(f(e,j,k,l,n),c),o===d&&(n>k&&e>=k&&n>=e||k>n&&k>=e&&e>=n)){q=-1;break}d>=o||j!==l&&(o<Math.min(j,l)||o>Math.max(j,l))||(n>k&&e>=k&&n>e||k>n&&k>e&&e>=n)&&++q}else if(e===k&&(l>=j&&d>=j&&l>=d||j>=l&&j>=d&&d>=l)){q=-1;break}return s=-1===q?1:!!(1&q)}},{key:"intersects",value:function(a){var c,d,b=!1;if("SuperMap.Geometry.Point"===a.CLASS_NAME)b=this.containsPoint(a);else if("SuperMap.Geometry.LineString"===a.CLASS_NAME)b=a.intersects(this);else if("SuperMap.Geometry.LinearRing"===a.CLASS_NAME)b=j["default"].prototype.intersects.apply(this,[a]);else for(c=0,d=a.components.length;d>c&&!(b=a.components[c].intersects(this));++c);return b}},{key:"getVertices",value:function(a){return a===!0?[]:this.components.slice(0,this.components.length-1)}}]),b}(j["default"]),b["default"]=r,f["default"].Geometry.LinearRing=r},function(a){var c=Math.PI/2;a.exports=function(a,b){var e,f,h,d=.5*a,g=c-2*Math.atan(b);for(h=0;15>=h;h++)if(e=a*Math.sin(g),f=c-2*Math.atan(b*Math.pow((1-e)/(1+e),d))-g,g+=f,Math.abs(f)<=1e-10)return g;return-9999}},function(a){var c=Math.PI/2;a.exports=function(a,b,d){var e=a*d,f=.5*a;return e=Math.pow((1-e)/(1+e),f),Math.tan(.5*(c-b))/e}},function(a,b,c){"use strict";function i(a){return a&&a.__esModule?a:{"default":a}}function j(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function k(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function l(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}var d,e,f,g,h,m;Object.defineProperty(b,"__esModule",{value:!0}),d=function(){function a(a,b){var c,d;for(c=0;c<b.length;c++)d=b[c],d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=i(e),g=c(4),h=i(g),m=function(a){function b(a){j(this,b);var c=k(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));return c.componentTypes=["SuperMap.Geometry.Point"],c.CLASS_NAME="SuperMap.Geometry.MultiPoint",c}return l(b,a),d(b,[{key:"addPoint",value:function(a,b){this.addComponent(a,b)}},{key:"removePoint",value:function(a){this.removeComponent(a)}}]),b}(h["default"]),b["default"]=m,f["default"].Geometry.MultiPoint=m},function(a,b,c){"use strict";function p(a){return a&&a.__esModule?a:{"default":a}}function q(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function r(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function s(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}var d,e,f,g,h,i,j,k,l,m,n,o,t;Object.defineProperty(b,"__esModule",{value:!0}),d=function(){function a(a,b){var c,d;for(c=0;c<b.length;c++)d=b[c],d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=function u(a,b,c){var d,e,f;return null===a&&(a=Function.prototype),d=Object.getOwnPropertyDescriptor(a,b),void 0===d?(e=Object.getPrototypeOf(a),null===e?void 0:u(e,b,c)):"value"in d?d.value:(f=d.get,void 0===f?void 0:f.call(c))},f=c(0),g=p(f),h=c(4),i=p(h),j=c(3),k=p(j),l=c(9),m=p(l),n=c(17),o=p(n),t=function(a){function b(a){q(this,b);var c=r(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));return c.componentTypes=["SuperMap.Geometry.LinearRing"],c.CLASS_NAME="SuperMap.Geometry.Polygon",c}return s(b,a),d(b,[{key:"getArea",value:function(){var b,c,a=0;if(this.components&&this.components.length>0)for(a+=Math.abs(this.components[0].getArea()),b=1,c=this.components.length;c>b;b++)a-=Math.abs(this.components[b].getArea());return a}},{key:"getGeodesicArea",value:function(a){var c,d,b=0;if(this.components&&this.components.length>0)for(b+=Math.abs(this.components[0].getGeodesicArea(a)),c=1,d=this.components.length;d>c;c++)b-=Math.abs(this.components[c].getGeodesicArea(a));return b}},{key:"containsPoint",value:function(a){var d,e,b=this.components.length,c=!1;if(b>0&&(c=this.components[0].containsPoint(a),1!==c&&c&&b>1))for(e=1;b>e;++e)if(d=this.components[e].containsPoint(a)){c=1===d?1:!1;break}return c}},{key:"intersects",value:function(a){var c,d,e,b=!1;if("SuperMap.Geometry.Point"===a.CLASS_NAME)b=this.containsPoint(a);else if("SuperMap.Geometry.LineString"===a.CLASS_NAME||"SuperMap.Geometry.LinearRing"===a.CLASS_NAME){for(c=0,d=this.components.length;d>c&&!(b=a.intersects(this.components[c]));++c);if(!b)for(c=0,d=a.components.length;d>c&&!(b=this.containsPoint(a.components[c]));++c);}else for(c=0,d=a.components.length;d>c&&!(b=this.intersects(a.components[c]));++c);if(!b&&"SuperMap.Geometry.Polygon"===a.CLASS_NAME)for(e=this.components[0],c=0,d=e.components.length;d>c&&!(b=a.containsPoint(e.components[c]));++c);return b}},{key:"distanceTo",value:function(a,c){var f,d=!(c&&c.edge===!1);return f=!d&&this.intersects(a)?0:e(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"distanceTo",this).call(this,a,c)}}],[{key:"createRegularPolygon",value:function(a,c,d,e){var g,h,i,j,l,m,f=Math.PI*(1/d-.5);for(e&&(f+=e/180*Math.PI),j=[],l=0;d>l;++l)g=f+2*l*Math.PI/d,h=a.x+c*Math.cos(g),i=a.y+c*Math.sin(g),j.push(new k["default"](h,i));return m=new o["default"](j),new b([m])}},{key:"createRegularPolygonCurve",value:function(a,c,d,e,f,g){var h,i,j,l,m,n,p,q;for(void 0==g&&(g=1),h=e*Math.PI/(180*d),m=[],n=0;d>n;++n)i=h*n,j=a.x+c*g*Math.cos(i),l=a.y+c*g*Math.sin(i),m.push(new k["default"](j,l));return i=e*Math.PI/180,j=a.x+c*g*Math.cos(i),l=a.y+c*g*Math.sin(i),m.push(new k["default"](j,l)),m.push(a),p=new o["default"](m),p.rotate(parseFloat(f),a),q=new b([p]),q.origin=a,q.radius=c,q.r=e,q.angel=f,q.sides=d,q.polygonType="Curve",q}},{key:"createRegularPolygonTriangle",value:function(a,b,c,d,e,f){var g,h,j,l,n;return void 0==f&&(f=1),g=[],g.push(a),g.push(new k["default"](a.x+d*f,a.y)),h=new m["default"](g),h.rotate(parseFloat(e),a),j=[],j.push(new k["default"](a.x+b*f,a.y)),j.push(new k["default"](a.x+d*f,a.y+c*f/2)),j.push(new k["default"](a.x+d*f,a.y-c*f/2)),l=new o["default"](j),l.rotate(parseFloat(e),a),n=new i["default"]([h,l]),n.origin=a,n.height=b,n.width=c,n.lineLength=d,n.angel=e,n.polygonType="Triangle",n}},{key:"createBsplinesurface",value:function(a,b,c,d,e,f){var g,h,j,l,m,n,p,q,r,s,t,u,v,w,x;for(void 0==e&&(e=1),void 0==f&&(f=10),g=[],g.push(a),g.push(a),g.push(new k["default"](a.x+2*b*e/3,a.y+c*e/2)),g.push(new k["default"](a.x+b*e,a.y+c*e/2)),g.push(new k["default"](a.x+b*e,a.y-c*e/2)),g.push(new k["default"](a.x+2*b*e/3,a.y-c*e/2)),g.push(a),g.push(a),h=[],v=g.length,q=1/f,h.push(new k["default"]((g[0].x+g[1].x)/2,(g[0].y+g[1].y)/2)),j=1;v-1>j;j++)for(l=0;f>=l;l++)r=l*q,s=r*r,m=(s-2*r+1)/2,n=(2*r-2*s+1)/2,p=s/2,t=m*g[j-1].x+n*g[j].x+p*g[j+1].x,u=m*g[j-1].y+n*g[j].y+p*g[j+1].y,h.push(new k["default"](t,u));return w=new o["default"](h),w.rotate(parseFloat(d),a),x=new i["default"]([w]),x.origin=a,x.height=b,x.width=c,x.angel=d,x.polygonType="Bspline",x}}]),b}(i["default"]),b["default"]=t,g["default"].Geometry.Polygon=t},function(a,b,c){"use strict";function f(a){return a&&a.__esModule?a:{"default":a}}var d=c(5),e=f(d);c(73),c(74),c(72),e["default"].supermap=e["default"].supermap||{},e["default"].supermap.control=e["default"].supermap.control||{}},function(a,b,c){function h(a,b){var c,f,i;return this instanceof h?(b=b||function(a){if(a)throw a},c=d(a),"object"!=typeof c?(b(a),void 0):(f=g(c),i=h.projections.get(f.projName),i?(e(this,f),e(this,i),this.init(),b(null,this)):b(a),void 0)):new h(a)}var d=c(92),e=c(27),f=c(93),g=c(88);h.projections=f,h.projections.start(),a.exports=h},function(a){a.exports=function(a,b,c){var d=b*c;return a/Math.sqrt(1-d*d)}},function(a){a.exports=function(a,b,c,d,e){var g,h,f=a/b;for(h=0;15>h;h++)if(g=(a-(b*f-c*Math.sin(2*f)+d*Math.sin(4*f)-e*Math.sin(6*f)))/(b-2*c*Math.cos(2*f)+4*d*Math.cos(4*f)-6*e*Math.cos(6*f)),f+=g,Math.abs(g)<=1e-10)return f;return 0/0}},function(a){a.exports=function(a,b){var c;return a>1e-7?(c=a*b,(1-a*a)*(b/(1-c*c)-.5/a*Math.log((1-c)/(1+c)))):2*b}},function(a){a.exports=function(a,b){a=a||{};var c,d;if(!b)return a;for(d in b)c=b[d],void 0!==c&&(a[d]=c);return a}},function(a,b){"use strict";function l(a){return a*(Math.PI/180)}function m(a){return 180*(a/Math.PI)}function n(a){var g,h,i,j,k,m,n,r,t,u,b=a.lat,c=a.lon,d=6378137,e=.00669438,f=.9996,o=l(b),q=l(c),s=Math.floor((c+180)/6)+1;return 180===c&&(s=60),b>=56&&64>b&&c>=3&&12>c&&(s=32),b>=72&&84>b&&(c>=0&&9>c?s=31:c>=9&&21>c?s=33:c>=21&&33>c?s=35:c>=33&&42>c&&(s=37)),g=6*(s-1)-180+3,r=l(g),h=e/(1-e),i=d/Math.sqrt(1-e*Math.sin(o)*Math.sin(o)),j=Math.tan(o)*Math.tan(o),k=h*Math.cos(o)*Math.cos(o),m=Math.cos(o)*(q-r),n=d*((1-e/4-3*e*e/64-5*e*e*e/256)*o-(3*e/8+3*e*e/32+45*e*e*e/1024)*Math.sin(2*o)+(15*e*e/256+45*e*e*e/1024)*Math.sin(4*o)-35*e*e*e/3072*Math.sin(6*o)),t=f*i*(m+(1-j+k)*m*m*m/6+(5-18*j+j*j+72*k-58*h)*m*m*m*m*m/120)+5e5,u=f*(n+i*Math.tan(o)*(m*m/2+(5-j+9*k+4*k*k)*m*m*m*m/24+(61-58*j+j*j+600*k-330*h)*m*m*m*m*m*m/720)),0>b&&(u+=1e7),{northing:Math.round(u),easting:Math.round(t),zoneNumber:s,zoneLetter:p(b)}}function o(a){var f,g,h,i,j,k,l,n,p,q,r,s,t,u,v,w,x,y,z,A,b=a.northing,c=a.easting,d=a.zoneLetter,e=a.zoneNumber;return 0>e||e>60?null:(f=.9996,g=6378137,h=.00669438,j=(1-Math.sqrt(1-h))/(1+Math.sqrt(1-h)),v=c-5e5,w=b,"N">d&&(w-=1e7),s=6*(e-1)-180+3,i=h/(1-h),r=w/f,t=r/(g*(1-h/4-3*h*h/64-5*h*h*h/256)),u=t+(3*j/2-27*j*j*j/32)*Math.sin(2*t)+(21*j*j/16-55*j*j*j*j/32)*Math.sin(4*t)+151*j*j*j/96*Math.sin(6*t),k=g/Math.sqrt(1-h*Math.sin(u)*Math.sin(u)),l=Math.tan(u)*Math.tan(u),n=i*Math.cos(u)*Math.cos(u),p=g*(1-h)/Math.pow(1-h*Math.sin(u)*Math.sin(u),1.5),q=v/(k*f),x=u-k*Math.tan(u)/p*(q*q/2-(5+3*l+10*n-4*n*n-9*i)*q*q*q*q/24+(61+90*l+298*n+45*l*l-252*i-3*n*n)*q*q*q*q*q*q/720),x=m(x),y=(q-(1+2*l+n)*q*q*q/6+(5-2*n+28*l-3*n*n+8*i+24*l*l)*q*q*q*q*q/120)/Math.cos(u),y=s+m(y),a.accuracy?(A=o({northing:a.northing+a.accuracy,easting:a.easting+a.accuracy,zoneLetter:a.zoneLetter,zoneNumber:a.zoneNumber}),z={top:A.lat,right:A.lon,bottom:x,left:y}):z={lat:x,lon:y},z)}function p(a){var b="Z";return 84>=a&&a>=72?b="X":72>a&&a>=64?b="W":64>a&&a>=56?b="V":56>a&&a>=48?b="U":48>a&&a>=40?b="T":40>a&&a>=32?b="S":32>a&&a>=24?b="R":24>a&&a>=16?b="Q":16>a&&a>=8?b="P":8>a&&a>=0?b="N":0>a&&a>=-8?b="M":-8>a&&a>=-16?b="L":-16>a&&a>=-24?b="K":-24>a&&a>=-32?b="J":-32>a&&a>=-40?b="H":-40>a&&a>=-48?b="G":-48>a&&a>=-56?b="F":-56>a&&a>=-64?b="E":-64>a&&a>=-72?b="D":-72>a&&a>=-80&&(b="C"),b}function q(a,b){var c="00000"+a.easting,d="00000"+a.northing;return a.zoneNumber+a.zoneLetter+r(a.easting,a.northing,a.zoneNumber)+c.substr(c.length-5,b)+d.substr(d.length-5,b)}function r(a,b,c){var d=s(c),e=Math.floor(a/1e5),f=Math.floor(b/1e5)%20;return t(e,f,d)}function s(a){var b=a%d;return 0===b&&(b=d),b}function t(a,b,c){var q,d=c-1,l=e.charCodeAt(d),m=f.charCodeAt(d),n=l+a-1,o=m+b,p=!1;return n>k&&(n=n-k+g-1,p=!0),(n===h||h>l&&n>h||(n>h||h>l)&&p)&&n++,(n===i||i>l&&n>i||(n>i||i>l)&&p)&&(n++,n===h&&n++),n>k&&(n=n-k+g-1),o>j?(o=o-j+g-1,p=!0):p=!1,(o===h||h>m&&o>h||(o>h||h>m)&&p)&&o++,(o===i||i>m&&o>i||(o>i||i>m)&&p)&&(o++,o===h&&o++),o>j&&(o=o-j+g-1),q=String.fromCharCode(n)+String.fromCharCode(o)}function u(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,t,u;if(a&&0===a.length)throw"MGRSPoint coverting from nothing";for(b=a.length,c=null,d="",f=0;!/[A-Z]/.test(e=a.charAt(f));){if(f>=2)throw"MGRSPoint bad conversion from: "+a;d+=e,f++}if(g=parseInt(d,10),0===f||f+3>b)throw"MGRSPoint bad conversion from: "+a;if(h=a.charAt(f++),"A">=h||"B"===h||"Y"===h||h>="Z"||"I"===h||"O"===h)throw"MGRSPoint zone letter "+h+" not handled: "+a;for(c=a.substring(f,f+=2),i=s(g),j=v(c.charAt(0),i),k=w(c.charAt(1),i);k<x(h);)k+=2e6;if(l=b-f,0!==l%2)throw"MGRSPoint has to have an even number \nof digits after the zone letter and two 100km letters - front \nhalf for easting meters, second half for \nnorthing meters"+a;return m=l/2,n=0,o=0,m>0&&(p=1e5/Math.pow(10,m),q=a.substring(f,f+m),n=parseFloat(q)*p,r=a.substring(f+m),o=parseFloat(r)*p),t=n+j,u=o+k,{easting:t,northing:u,zoneLetter:h,zoneNumber:g,accuracy:p}}function v(a,b){for(var c=e.charCodeAt(b-1),d=1e5,f=!1;c!==a.charCodeAt(0);){if(c++,c===h&&c++,c===i&&c++,c>k){if(f)throw"Bad character: "+a;c=g,f=!0}d+=1e5}return d}function w(a,b){var c,d,e;if(a>"V")throw"MGRSPoint given invalid Northing "+a;for(c=f.charCodeAt(b-1),d=0,e=!1;c!==a.charCodeAt(0);){if(c++,c===h&&c++,c===i&&c++,c>j){if(e)throw"Bad character: "+a;c=g,e=!0}d+=1e5}return d}function x(a){var b;switch(a){case"C":b=11e5;break;case"D":b=2e6;break;case"E":b=28e5;break;case"F":b=37e5;break;case"G":b=46e5;break;case"H":b=55e5;break;case"J":b=64e5;break;case"K":b=73e5;break;case"L":b=82e5;break;case"M":b=91e5;break;case"N":b=0;break;case"P":b=8e5;break;case"Q":b=17e5;break;case"R":b=26e5;break;case"S":b=35e5;break;case"T":b=44e5;break;case"U":b=53e5;break;case"V":b=62e5;break;case"W":b=7e6;break;case"X":b=79e5;break;default:b=-1}if(b>=0)return b;throw"Invalid zone letter: "+a}var d=6,e="AJSAJS",f="AFAFAF",g=65,h=73,i=79,j=86,k=90;b.forward=function(a,b){return b=b||5,q(n({lat:a[1],lon:a[0]}),b)},b.inverse=function(a){var b=o(u(a.toUpperCase()));return b.lat&&b.lon?[b.lon,b.lat,b.lon,b.lat]:[b.left,b.bottom,b.right,b.top]},b.toPoint=function(a){var b=o(u(a.toUpperCase()));return b.lat&&b.lon?[b.lon,b.lat]:[(b.left+b.right)/2,(b.top+b.bottom)/2]}},function(a,b,c){"use strict";function f(a){return a&&a.__esModule?a:{"default":a}}function g(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var d,e,i;Object.defineProperty(b,"__esModule",{value:!0}),b.ArrayExt=b.FunctionExt=b.NumberExt=b.StringExt=void 0,d=c(0),e=f(d),e["default"].inherit=function(a,b){var d,f,g,c=function(){};
  for(c.prototype=b.prototype,a.prototype=new c,d=2,f=arguments.length;f>d;d++)g=arguments[d],"function"==typeof g&&(g=g.prototype),e["default"].Util.extend(a.prototype,g)},e["default"].mixin=function(){function h(a,b){var d,e,f,c=Object.getOwnPropertyNames(b);for(Object.getOwnPropertySymbols&&(c=c.concat(Object.getOwnPropertySymbols(b))),d=0;d<c.length;d++)e=c[d],"constructor"!==e&&"prototype"!==e&&"name"!==e&&"length"!==e&&(f=Object.getOwnPropertyDescriptor(b,e),Object.defineProperty(a,e,f))}var a,b,c,d,e,f;for(a=arguments.length,b=Array(a),c=0;a>c;c++)b[c]=arguments[c];for(d=function i(a){g(this,i);for(var c=0;c<b.length;c++)h(this,new b[c](a))},e=0;e<b.length;e++)f=b[e],h(d,f),h(d.prototype,f.prototype),h(d.prototype,new f);return d},b.StringExt=e["default"].String={startsWith:function(a,b){return 0==a.indexOf(b)},contains:function(a,b){return-1!=a.indexOf(b)},trim:function(a){return a.replace(/^\s\s*/,"").replace(/\s\s*$/,"")},camelize:function(a){var d,e,f,b=a.split("-"),c=b[0];for(d=1,e=b.length;e>d;d++)f=b[d],c+=f.charAt(0).toUpperCase()+f.substring(1);return c},format:function(a,b,c){b||(b=window);var d=function(a,d){var e,g,f=d.split(/\.+/);for(g=0;g<f.length;g++)0==g&&(e=b),e=e[f[g]];return"function"==typeof e&&(e=c?e.apply(null,c):e()),"undefined"==typeof e?"undefined":e};return a.replace(e["default"].String.tokenRegEx,d)},tokenRegEx:/\$\{([\w.]+?)\}/g,numberRegEx:/^([+-]?)(?=\d|\.\d)\d*(\.\d*)?([Ee]([+-]?\d+))?$/,isNumeric:function(a){return e["default"].String.numberRegEx.test(a)},numericIf:function(a){return e["default"].String.isNumeric(a)?parseFloat(a):a}},i=b.NumberExt=e["default"].Number={decimalSeparator:".",thousandsSeparator:",",limitSigDigs:function(a,b){var c=0;return b>0&&(c=parseFloat(a.toPrecision(b))),c},format:function(a,b,c,d){var f,g,h,i,j;if(b="undefined"!=typeof b?b:0,c="undefined"!=typeof c?c:e["default"].Number.thousandsSeparator,d="undefined"!=typeof d?d:e["default"].Number.decimalSeparator,null!=b&&(a=parseFloat(a.toFixed(b))),f=a.toString().split("."),1===f.length&&null==b&&(b=0),g=f[0],c)for(h=/(-?[0-9]+)([0-9]{3})/;h.test(g);)g=g.replace(h,"$1"+c+"$2");return 0==b?i=g:(j=f.length>1?f[1]:"0",null!=b&&(j+=new Array(b-j.length+1).join("0")),i=g+d+j),i}},Number.prototype.limitSigDigs||(Number.prototype.limitSigDigs=function(a){return i.limitSigDigs(this,a)}),b.FunctionExt=e["default"].Function={bind:function(a,b){var c=Array.prototype.slice.apply(arguments,[2]);return function(){var d=c.concat(Array.prototype.slice.apply(arguments,[0]));return a.apply(b,d)}},bindAsEventListener:function(a,b){return function(c){return a.call(b,c||window.event)}},False:function(){return!1},True:function(){return!0},Void:function(){}},b.ArrayExt=e["default"].Array={filter:function(a,b,c){var e,f,g,d=[];if(Array.prototype.filter)d=a.filter(b,c);else{if(e=a.length,"function"!=typeof b)throw new TypeError;for(f=0;e>f;f++)f in a&&(g=a[f],b.call(c,g,f,a)&&d.push(g))}return d}}},function(a,b,c){"use strict";function t(a){return a&&a.__esModule?a:{"default":a}}function u(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,v;Object.defineProperty(b,"__esModule",{value:!0}),d=function(){function a(a,b){var c,d;for(c=0;c<b.length;c++)d=b[c],d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=t(e),g=c(56),h=t(g),i=c(55),j=t(i),k=c(54),l=t(k),m=c(3),n=t(m),o=c(17),p=t(o),q=c(21),r=t(q),s=c(2),v=function(){function a(b,c,d,e){u(this,a),this.left=null,this.bottom=null,this.right=null,this.top=null,this.centerLonLat=null,this.CLASS_NAME="SuperMap.Bounds",s.Util.isArray(b)&&(e=b[3],d=b[2],c=b[1],b=b[0]),this.left=null!=b?s.Util.toFloat(b):this.left,this.bottom=null!=c?s.Util.toFloat(c):this.bottom,this.right=null!=d?s.Util.toFloat(d):this.right,this.top=null!=e?s.Util.toFloat(e):this.top}return d(a,[{key:"clone",value:function(){return new a(this.left,this.bottom,this.right,this.top)}},{key:"equals",value:function c(a){var c=!1;return null!=a&&(c=this.left===a.left&&this.right===a.right&&this.top===a.top&&this.bottom===a.bottom),c}},{key:"toString",value:function(){return[this.left,this.bottom,this.right,this.top].join(",")}},{key:"toArray",value:function(a){return a===!0?[this.bottom,this.left,this.top,this.right]:[this.left,this.bottom,this.right,this.top]}},{key:"toBBOX",value:function(a,b){var c,d,e,f,g;return null==a&&(a=6),c=Math.pow(10,a),d=Math.round(this.left*c)/c,e=Math.round(this.bottom*c)/c,f=Math.round(this.right*c)/c,g=Math.round(this.top*c)/c,b===!0?e+","+d+","+g+","+f:d+","+e+","+f+","+g}},{key:"toGeometry",value:function(){return new r["default"]([new p["default"]([new n["default"](this.left,this.bottom),new n["default"](this.right,this.bottom),new n["default"](this.right,this.top),new n["default"](this.left,this.top)])])}},{key:"getWidth",value:function(){return this.right-this.left}},{key:"getHeight",value:function(){return this.top-this.bottom}},{key:"getSize",value:function(){return new h["default"](this.getWidth(),this.getHeight())}},{key:"getCenterPixel",value:function(){return new j["default"]((this.left+this.right)/2,(this.bottom+this.top)/2)}},{key:"getCenterLonLat",value:function(){return this.centerLonLat||(this.centerLonLat=new l["default"]((this.left+this.right)/2,(this.bottom+this.top)/2)),this.centerLonLat}},{key:"scale",value:function(b,c){var d,e,f,g,h,i;return b=b?b:1,null==c&&(c=this.getCenterLonLat()),"SuperMap.LonLat"===c.CLASS_NAME?(d=c.lon,e=c.lat):(d=c.x,e=c.y),f=(this.left-d)*b+d,g=(this.bottom-e)*b+e,h=(this.right-d)*b+d,i=(this.top-e)*b+e,new a(f,g,h,i)}},{key:"add",value:function(b,c){if(null==b||null==c)throw new TypeError("Bounds.add cannot receive null values");return new a(this.left+b,this.bottom+c,this.right+b,this.top+c)}},{key:"extend",value:function(b){var c=null;if(b){switch(b.CLASS_NAME){case"SuperMap.LonLat":c=new a(b.lon,b.lat,b.lon,b.lat);break;case"SuperMap.Geometry.Point":c=new a(b.x,b.y,b.x,b.y);break;case"SuperMap.Bounds":c=b}c&&(this.centerLonLat=null,(null==this.left||c.left<this.left)&&(this.left=c.left),(null==this.bottom||c.bottom<this.bottom)&&(this.bottom=c.bottom),(null==this.right||c.right>this.right)&&(this.right=c.right),(null==this.top||c.top>this.top)&&(this.top=c.top))}}},{key:"containsLonLat",value:function(a,b){var c,d,e,f,g;return"boolean"==typeof b&&(b={inclusive:b}),b=b||{},c=this.contains(a.lon,a.lat,b.inclusive),d=b.worldBounds,d&&!c&&(e=d.getWidth(),f=(d.left+d.right)/2,g=Math.round((a.lon-f)/e),c=this.containsLonLat({lon:a.lon-g*e,lat:a.lat},{inclusive:b.inclusive})),c}},{key:"containsPixel",value:function(a,b){return this.contains(a.x,a.y,b)}},{key:"contains",value:function A(a,b,c){if(null==c&&(c=!0),null==a||null==b)return!1;a=s.Util.toFloat(a),b=s.Util.toFloat(b);var A=!1;return A=c?a>=this.left&&a<=this.right&&b>=this.bottom&&b<=this.top:a>this.left&&a<this.right&&b>this.bottom&&b<this.top}},{key:"intersectsBounds",value:function(a,b){var c,d,e,f,g,h,i,j,k,l,m;return"boolean"==typeof b&&(b={inclusive:b}),b=b||{},b.worldBounds?(c=this.wrapDateLine(b.worldBounds),a=a.wrapDateLine(b.worldBounds)):c=this,null==b.inclusive&&(b.inclusive=!0),d=!1,e=c.left===a.right||c.right===a.left||c.top===a.bottom||c.bottom===a.top,(b.inclusive||!e)&&(f=a.bottom>=c.bottom&&a.bottom<=c.top||c.bottom>=a.bottom&&c.bottom<=a.top,g=a.top>=c.bottom&&a.top<=c.top||c.top>a.bottom&&c.top<a.top,h=a.left>=c.left&&a.left<=c.right||c.left>=a.left&&c.left<=a.right,i=a.right>=c.left&&a.right<=c.right||c.right>=a.left&&c.right<=a.right,d=(f||g)&&(h||i)),b.worldBounds&&!d&&(j=b.worldBounds,k=j.getWidth(),l=!j.containsBounds(c),m=!j.containsBounds(a),l&&!m?(a=a.add(-k,0),d=c.intersectsBounds(a,{inclusive:b.inclusive})):m&&!l&&(c=c.add(-k,0),d=a.intersectsBounds(c,{inclusive:b.inclusive}))),d}},{key:"containsBounds",value:function(a,b,c){var d,e,f,g;return null==b&&(b=!1),null==c&&(c=!0),d=this.contains(a.left,a.bottom,c),e=this.contains(a.right,a.bottom,c),f=this.contains(a.left,a.top,c),g=this.contains(a.right,a.top,c),b?d||e||f||g:d&&e&&f&&g}},{key:"determineQuadrant",value:function(a){var b="",c=this.getCenterLonLat();return b+=a.lat<c.lat?"b":"t",b+=a.lon<c.lon?"l":"r"}},{key:"wrapDateLine",value:function(a,b){var c,d,e,f,g;if(b=b||{},c=b.leftTolerance||0,d=b.rightTolerance||0,e=this.clone(),a){for(f=a.getWidth();e.left<a.left&&e.right-d<=a.left;)e=e.add(f,0);for(;e.left+c>=a.right&&e.right>a.right;)e=e.add(-f,0);g=e.left+c,g<a.right&&g>a.left&&e.right-d>a.right&&(e=e.add(-f,0))}return e}},{key:"toServerJSONObject",value:function(){var a={rightTop:{x:this.right,y:this.top},leftBottom:{x:this.left,y:this.bottom},left:this.left,right:this.right,top:this.top,bottom:this.bottom};return a}},{key:"destroy",value:function(){this.left=null,this.right=null,this.top=null,this.bottom=null,this.centerLonLat=null}}],[{key:"fromString",value:function(b,c){var d=b.split(",");return a.fromArray(d,c)}},{key:"fromArray",value:function(b,c){return c===!0?new a(b[1],b[0],b[3],b[2]):new a(b[0],b[1],b[2],b[3])}},{key:"fromSize",value:function(b){return new a(0,b.h,b.w,0)}},{key:"oppositeQuadrant",value:function(a){var b="";return b+="t"===a.charAt(0)?"b":"t",b+="l"===a.charAt(1)?"r":"l"}}]),a}(),b["default"]=v,f["default"].Bounds=v},function(a,b,c){"use strict";function l(a){return a&&a.__esModule?a:{"default":a}}function m(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var d,e,f,g,h,i,j,k,n;Object.defineProperty(b,"__esModule",{value:!0}),d=function(){function a(a,b){var c,d;for(c=0;c<b.length;c++)d=b[c],d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=l(e),g=c(61),h=l(g),i=c(57),j=l(i),k=c(2),n=function(){function a(){m(this,a),this.id=null,this.parent=null,this.bounds=null,this.SRID=null,this.CLASS_NAME="SuperMap.Geometry",this.id=k.Util.createUniqueID(this.CLASS_NAME+"_")}return d(a,[{key:"destroy",value:function(){this.id=null,this.bounds=null,this.SRID=null}},{key:"clone",value:function(){return new a}},{key:"setBounds",value:function(a){a&&(this.bounds=a.clone())}},{key:"clearBounds",value:function(){this.bounds=null,this.parent&&this.parent.clearBounds()}},{key:"extendBounds",value:function(a){var b=this.getBounds();b?this.bounds.extend(a):this.setBounds(a)}},{key:"getBounds",value:function(){return null==this.bounds&&this.calculateBounds(),this.bounds}},{key:"calculateBounds",value:function(){}},{key:"distanceTo",value:function(){}},{key:"getVertices",value:function(){}},{key:"atPoint",value:function q(a,b,c){var e,g,h,q=!1,d=this.getBounds();return null!=d&&null!=a&&(e=null!=b?b:0,g=null!=c?c:0,h=new f["default"].Bounds(this.bounds.left-e,this.bounds.bottom-g,this.bounds.right+e,this.bounds.top+g),q=h.containsLonLat(a)),q}},{key:"getLength",value:function(){return 0}},{key:"getArea",value:function(){return 0}},{key:"getCentroid",value:function(){return null}},{key:"toString",value:function(){var a,b;return h["default"]?(b=new h["default"],a=b.write(new j["default"](this))):a=Object.prototype.toString.call(this),a}}],[{key:"fromWKT",value:function(b){var c,d,e,f,g,i;if(h["default"])if(d=a.fromWKT.format,d||(d=new h["default"],a.fromWKT.format=d),e=d.read(b),e instanceof j["default"])c=e.geometry;else if(k.Util.isArray(e)){for(f=e.length,g=new Array(f),i=0;f>i;++i)g[i]=e[i].geometry;c=new a.Collection(g)}return c}},{key:"segmentsIntersect",value:function(b,c,d){var q,r,s,t,u,v,w,x,y,z,A,B,C,e=d&&d.point,f=d&&d.tolerance,g=!1,h=b.x1-c.x1,i=b.y1-c.y1,j=b.x2-b.x1,k=b.y2-b.y1,l=c.y2-c.y1,m=c.x2-c.x1,n=l*j-m*k,o=m*i-l*h,p=j*i-k*h;if(0==n?0==o&&0==p&&(g=!0):(q=o/n,r=p/n,q>=0&&1>=q&&r>=0&&1>=r&&(e?(s=b.x1+q*j,t=b.y1+q*k,g=new a.Point(s,t)):g=!0)),f)if(g){if(e){v=[b,c];a:for(x=0;2>x;++x)for(w=v[x],y=1;3>y;++y)if(s=w["x"+y],t=w["y"+y],u=Math.sqrt(Math.pow(s-g.x,2)+Math.pow(t-g.y,2)),f>u){g.x=s,g.y=t;break a}}}else{v=[b,c];a:for(x=0;2>x;++x)for(z=v[x],A=v[(x+1)%2],y=1;3>y;++y)if(B={x:z["x"+y],y:z["y"+y]},C=a.distanceToSegment(B,A),C.distance<f){g=e?new a.Point(B.x,B.y):!0;break a}}return g}},{key:"distanceToSegment",value:function(a,b){var l,m,c=a.x,d=a.y,e=b.x1,f=b.y1,g=b.x2,h=b.y2,i=g-e,j=h-f,k=(i*(c-e)+j*(d-f))/(Math.pow(i,2)+Math.pow(j,2));return 0>=k?(l=e,m=f):k>=1?(l=g,m=h):(l=e+k*i,m=f+k*j),{distance:Math.sqrt(Math.pow(l-c,2)+Math.pow(m-d,2)),x:l,y:m}}}]),a}(),b["default"]=n,f["default"].Geometry=n},function(a,b,c){"use strict";function k(a){return a&&a.__esModule?a:{"default":a}}function l(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function m(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function n(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}var d,e,f,g,h,i,j,o;Object.defineProperty(b,"__esModule",{value:!0}),d=function(){function a(a,b){var c,d;for(c=0;c<b.length;c++)d=b[c],d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=k(e),g=c(4),h=k(g),i=c(9),j=k(i),o=function(a){function b(a){l(this,b);var c=m(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));return c.componentTypes=["SuperMap.Geometry.LineString"],c.CLASS_NAME="SuperMap.Geometry.MultiLineString",c}return n(b,a),d(b,[{key:"split",value:function(a,c){var f,g,h,i,j,m,n,o,p,q,d=null,e=c&&c.mutual,k=[],l=[a];for(m=0,n=this.components.length;n>m;++m){for(g=this.components[m],i=!1,o=0;o<l.length;++o)if(f=g.split(l[o],c)){if(e){for(h=f[0],p=0,q=h.length;q>p;++p)0===p&&k.length?k[k.length-1].addComponent(h[p]):k.push(new b([h[p]]));i=!0,f=f[1]}if(f.length){f.unshift(o,1),Array.prototype.splice.apply(l,f);break}}i||(k.length?k[k.length-1].addComponent(g.clone()):k=[new b(g.clone())])}return k&&k.length>1?i=!0:k=[],l&&l.length>1?j=!0:l=[],(i||j)&&(d=e?[k,l]:l),d}},{key:"splitWith",value:function(a,c){var f,g,h,i,k,l,m,n,o,p,q,r,d=null,e=c&&c.mutual;if(a instanceof j["default"])for(m=[],l=[a],n=0,o=this.components.length;o>n;++n){for(k=!1,g=this.components[n],p=0;p<l.length;++p)if(f=l[p].split(g,c)){for(e&&(h=f[0],h.length&&(h.unshift(p,1),Array.prototype.splice.apply(l,h),p+=h.length-2),f=f[1],0===f.length&&(f=[g.clone()])),q=0,r=f.length;r>q;++q)0===q&&m.length?m[m.length-1].addComponent(f[q]):m.push(new b([f[q]]));k=!0}k||(m.length?m[m.length-1].addComponent(g.clone()):m=[new b([g.clone()])])}else d=a.split(this);return l&&l.length>1?i=!0:l=[],m&&m.length>1?k=!0:m=[],(i||k)&&(d=e?[l,m]:m),d}}]),b}(h["default"]),b["default"]=o,f["default"].Geometry.MultiLineString=o},function(a,b,c){"use strict";function h(a){return a&&a.__esModule?a:{"default":a}}function i(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function j(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function k(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}var d,e,f,g,l;Object.defineProperty(b,"__esModule",{value:!0}),d=c(0),e=h(d),f=c(4),g=h(f),l=function(a){function b(a){i(this,b);var c=j(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));return c.componentTypes=["SuperMap.Geometry.Polygon"],c.CLASS_NAME="SuperMap.Geometry.MultiPolygon",c}return k(b,a),b}(g["default"]),b["default"]=l,e["default"].Geometry.MultiPolygon=l},function(a,b,c){"use strict";function g(a){return a&&a.__esModule?a:{"default":a}}function h(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var d,e,f,i;Object.defineProperty(b,"__esModule",{value:!0}),d=function(){function a(a,b){var c,d;for(c=0;c<b.length;c++)d=b[c],d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=g(e),i=function(){function a(b){h(this,a),this.options=null,this.data=null,this.keepData=!1,this.CLASS_NAME="SuperMap.Format",f["default"].Util.extend(this,b),this.options=b}return d(a,[{key:"destroy",value:function(){}},{key:"read",value:function(){}},{key:"write",value:function(){}}]),a}(),b["default"]=i,f["default"].Format=i},function(a,b,c){"use strict";function C(a){return a&&a.__esModule?a:{"default":a}}function D(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var d,e,f,g,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,E;Object.defineProperty(b,"__esModule",{value:!0}),d=function(){function a(a,b){var c,d;for(c=0;c<b.length;c++)d=b[c],d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=C(e),g=c(30),C(g),i=c(3),j=C(i),k=c(20),l=C(k),m=c(17),n=C(m),o=c(9),p=C(o),q=c(32),r=C(q),s=c(21),t=C(s),u=c(33),v=C(u),w=c(65),x=C(w),y=c(63),z=C(y),A=c(2),B=c(6),E=function(){function a(b){D(this,a),this.id=0,this.style=null,this.parts=null,this.points=null,this.type=null,this.prjCoordSys=null,this.CLASS_NAME="SuperMap.ServerGeometry",b&&A.Util.extend(this,b)}return d(a,[{key:"destroy",value:function(){var a=this;a.id=null,a.style=null,a.parts=null,a.partTopo=null,a.points=null,a.type=null,a.prjCoordSys=null}},{key:"toGeometry",value:function(){var a=this,b=a.type;switch(b){case B.GeometryType.POINT:return a.toGeoPoint();case B.GeometryType.LINE:return a.toGeoLine();case B.GeometryType.LINEM:return a.toGeoLinem();case B.GeometryType.REGION:return a.toGeoRegion();case B.GeometryType.POINTEPS:return a.toGeoPoint();case B.GeometryType.LINEEPS:return a.toGeoLineEPS();case B.GeometryType.REGIONEPS:return a.toGeoRegionEPS()}}},{key:"toGeoPoint",value:function(){var e,f,a=this,b=a.parts||[],c=a.points||[],d=b.length;if(d>0){if(1===d)return new j["default"](c[0].x,c[0].y);for(e=0,f=[];d>e;e++)f.push(new j["default"](c[e].x,c[e].y));return new l["default"](f)}return null}},{key:"toGeoLine",value:function(){var e,f,g,h,a=this,b=a.parts||[],c=a.points||[],d=b.length;if(d>0){if(1===d){for(e=0,f=[];e<b[0];e++)f.push(new j["default"](c[e].x,c[e].y));return f[0].equals(f[b[0]-1])?new n["default"](f):new p["default"](f)}for(e=0,g=[];d>e;e++){for(h=0,f=[];h<b[e];h++)f.push(new j["default"](c[h].x,c[h].y));g.push(new p["default"](f)),c.splice(0,b[e])}return new r["default"](g)}return null}},{key:"toGeoLineEPS",value:function(){var d,e,g,h,i,a=this,b=a.parts||[],c=a.points||[],k=b.length;if(k>0){if(1===k){for(d=0,g=[];d<b[0];d++)g.push(new j["default"](c[d].x,c[d].y,c[d].type));return g[0].equals(g[b[0]-1])?(i=p["default"].createLineEPS(g),new f["default"].Geometry.LineRing(i)):(i=p["default"].createLineEPS(g),new p["default"](i))}for(d=0,h=[];k>d;d++){for(e=0,g=[];e<b[d];e++)g.push(new j["default"](c[e].x,c[e].y));i=p["default"].createLineEPS(g),h.push(new p["default"](i)),c.splice(0,b[d])}return new r["default"](h)}return null}},{key:"toGeoLinem",value:function(){var a=this;return new z["default"].fromJson(a)}},{key:"toGeoRegion",value:function(){var g,h,i,k,l,m,o,p,q,r,s,u,w,x,b=this,c=b.parts||[],d=b.partTopo||[],e=b.points||[],f=c.length;if(0>=f)return null;if(g=[],h=[],1==f){for(i=0;i<e.length;i++)h.push(new j["default"](e[i].x,e[i].y));return g.push(new t["default"]([new n["default"](h)])),h=[],new v["default"](g)}for(k=[],l=[],m=[],o=[],i=0,p=0;f>i;i++){for(q=0;q<c[i];q++)h.push(new j["default"](e[p+q].x,e[p+q].y));p+=c[i],r=new t["default"]([new n["default"](h)]),h=[],m.push(r),o.push(1),l.push(r.getArea())}if(a.bubbleSort(l,m,d),0===d.length){for(s=[],i=1;i<m.length;i++)for(q=i-1;q>=0;q--)if(s[i]=-1,m[q].getBounds().containsBounds(m[i].getBounds())){o[i]=-1*o[q],o[i]<0&&(s[i]=q);break}for(i=0;i<m.length;i++)o[i]>0?g.push(m[i]):(g[s[i]].components=g[s[i]].components.concat(m[i].components),g.push(""))}else for(g=new Array,i=0;i<m.length;i++)if(d[i]&&-1==d[i]?k=k.concat(m[i].components):(k.length>0&&g.length>0&&(g[g.length-1].components=g[g.length-1].components.concat(k),k=[]),g.push(m[i])),i==f-1)if(u=g.length)g[u-1].components=g[u-1].components.concat(k);else for(w=0,x=k.length;x>w;w++)g.push(new t["default"](k));return new v["default"](g)}},{key:"toGeoRegionEPS",value:function(){var g,h,i,k,l,m,o,q,r,s,u,w,x,y,z,b=this,c=b.parts||[],d=b.partTopo||[],e=b.points||[],f=c.length;if(0>=f)return null;if(g=[],h=[],1==f){for(k=0;k<e.length;k++)h.push(new j["default"](e[k].x,e[k].y));return i=p["default"].createLineEPS(h),g.push(new t["default"]([new n["default"](i)])),h=[],new v["default"](g)}for(l=[],m=[],o=[],q=[],k=0,r=0;f>k;k++){for(s=0;s<c[k];s++)h.push(new j["default"](e[r+s].x,e[r+s].y));r+=c[k],i=p["default"].createLineEPS(h),u=new t["default"]([new n["default"](i)]),h=[],o.push(u),q.push(1),m.push(u.getArea())}if(a.bubbleSort(m,o,d),0===d.length){for(w=[],k=1;k<o.length;k++)for(s=k-1;s>=0;s--)if(w[k]=-1,o[s].getBounds().containsBounds(o[k].getBounds())){q[k]=-1*q[s],q[k]<0&&(w[k]=s);break}for(k=0;k<o.length;k++)q[k]>0?g.push(o[k]):(g[w[k]].components=g[w[k]].components.concat(o[k].components),g.push(""))}else for(g=new Array,k=0;k<o.length;k++)if(d[k]&&-1==d[k]?l=l.concat(o[k].components):(l.length>0&&g.length>0&&(g[g.length-1].components=g[g.length-1].components.concat(l),l=[]),g.push(o[k])),k==f-1)if(x=g.length)g[x-1].components=g[x-1].components.concat(l);else for(y=0,z=l.length;z>y;y++)g.push(new t["default"](l));return new v["default"](g)}}],[{key:"fromJson",value:function(b){return b?new a({id:b.id,style:x["default"].fromJson(b.style),parts:b.parts,partTopo:b.partTopo,points:b.points,center:b.center,length:b.length,maxM:b.maxM,minM:b.minM,type:b.type}):void 0}},{key:"fromGeometry",value:function(b){var c,d,e,f,g,h,i,k,m,o,p,q,s,u,w,x;if(b){if(c=0,d=[],e=[],f=null,g=b.components,h=b.CLASS_NAME,i={epsgCode:b.SRID},isNaN(b.id)||(c=b.id),"SuperMap.Geometry.LinearRing"!=h&&"SuperMap.Geometry.LineString"!=h&&(b instanceof l["default"]||b instanceof r["default"])){for(k=g.length,m=0;k>m;m++)for(o=g[m].getVertices().length,d.push(o),p=0;o>p;p++)e.push(new j["default"](g[m].getVertices()[p].x,g[m].getVertices()[p].y));f="SuperMap.Geometry.MultiPoint"==h?B.GeometryType.POINT:B.GeometryType.LINE}else if(b instanceof v["default"]){for(k=g.length,m=0;k>m;m++)for(q=g[m],s=q.components,u=s.length,p=0;u>p;p++){for(o=s[p].getVertices().length+1,d.push(o),w=0;o-1>w;w++)e.push(new j["default"](s[p].getVertices()[w].x,s[p].getVertices()[w].y));e.push(new j["default"](s[p].getVertices()[0].x,s[p].getVertices()[0].y))}f=B.GeometryType.REGION}else if(b instanceof t["default"]){for(k=g.length,m=0;k>m;m++){for(o=g[m].getVertices().length+1,d.push(o),p=0;o-1>p;p++)e.push(new j["default"](g[m].getVertices()[p].x,g[m].getVertices()[p].y));e.push(new j["default"](g[m].getVertices()[0].x,g[m].getVertices()[0].y))}f=B.GeometryType.REGION}else{for(x=b.getVertices().length,p=0;x>p;p++)e.push(new j["default"](b.getVertices()[p].x,b.getVertices()[p].y));b instanceof n["default"]&&(e.push(new j["default"](b.getVertices()[0].x,b.getVertices()[0].y)),x++),d.push(x),f=b instanceof j["default"]?B.GeometryType.POINT:B.GeometryType.LINE}return new a({id:c,style:null,parts:d,points:e,type:f,prjCoordSys:i})}}},{key:"IsClockWise",value:function(a){var c,d,b=a.length;if(3>b)return 0;for(c=a[0].y*(a[b-1].x-a[1].x),a.push(a[0]),d=1;b>d;d++)c+=a[d].y*(a[d-1].x-a[d+1].x);return.5*c}},{key:"bubbleSort",value:function(a,b,c){var d,e,f,g,h;for(d=0;d<a.length;d++)for(e=0;e<a.length;e++)a[d]>a[e]&&(f=a[e],a[e]=a[d],a[d]=f,g=b[e],b[e]=b[d],b[d]=g,c&&c.length>0&&(h=c[e],c[e]=c[d],c[d]=h))}}]),a}(),b["default"]=E,f["default"].ServerGeometry=E},function(a,b,c){"use strict";function j(a){return a&&a.__esModule?a:{"default":a}}var d,e,f,g,h,i,k,l,m,n,o,p,q,r;Object.defineProperty(b,"__esModule",{value:!0}),b.NormalizeScale=b.GetResolutionFromScaleDpi=b.getMeterPerMapUnit=b.scaleToResolution=b.resolutionToScale=b.toSuperMapGeometry=b.toGeoJSON=b.supermap_callbacks=void 0,d=c(5),e=j(d),f=c(59),g=j(f),h=c(0),i=j(h),k=b.supermap_callbacks={},e["default"].Util.supermap_callbacks=k,l=b.toGeoJSON=function(a){return a?JSON.parse((new g["default"]).write(a)):a},m=b.toSuperMapGeometry=function(a){var b,c,d,f;return a?(c=new g["default"],-1!=["FeatureCollection","Feature","Geometry"].indexOf(a.type)?b=c.read(a,a.type):"function"==typeof a.toGeoJSON&&(d=a.toGeoJSON(),b=d?c.read(d,d.type):a),f=b,e["default"].Util.isArray(b)&&(1===b.length?f=b[0]:b.length>1&&(f=[],b.map(function(a){f.push(a.geometry)}))),f&&f.geometry?f.geometry:f):a},n=b.resolutionToScale=function(a,b,c){var d=1/.0254,e=p(c),f=a*b*d*e;return f=1/f},o=b.scaleToResolution=function(a,b,c){var d=1/.0254,e=p(c),f=a*b*d*e;return f=1/f},p=b.getMeterPerMapUnit=function(a){var c,b=6378137;if(a===i["default"].Unit.METER)c=1;else if(a===i["default"].Unit.DEGREE)c=2*Math.PI*b/360;else if(a===i["default"].Unit.KILOMETER)c=.001;else if(a===i["default"].Unit.INCH)c=1/.025399999918;else{if(a!==i["default"].Unit.FOOT)return c;c=.3048}return c},q=b.GetResolutionFromScaleDpi=function(a,b,c,d){var f=null,g=1e4;return d=d||6378137,c=c||"",a>0&&b>0?(a=e["default"].Util.NormalizeScale(a),f="degree"===c.toLowerCase()||"degrees"===c.toLowerCase()||"dd"===c.toLowerCase()?.0254*g/b/a/(2*Math.PI*d/360)/g:.0254*g/b/a/g):-1},r=b.NormalizeScale=function(a){return a>1?1/a:a},e["default"].Util.toGeoJSON=l,e["default"].Util.toSuperMapGeometry=m,e["default"].Util.resolutionToScale=n,e["default"].Util.scaleToResolution=o,e["default"].Util.getMeterPerMapUnit=p,e["default"].Util.GetResolutionFromScaleDpi=q,e["default"].Util.NormalizeScale=r},function(a){a.exports=function(a,b,c,d){return c*=b,b*=b,d[0]*a-c*(d[1]+b*(d[2]+b*(d[3]+b*d[4])))}},function(a){a.exports=function(a){var b={x:a[0],y:a[1]};return a.length>2&&(b.z=a[2]),a.length>3&&(b.m=a[3]),b}},function(a,b,c){function g(a){var c,b=this;if(2===arguments.length)c=arguments[1],g[a]="string"==typeof c?"+"===c.charAt(0)?e(arguments[1]):f(arguments[1]):c;else if(1===arguments.length){if(Array.isArray(a))return a.map(function(a){Array.isArray(a)?g.apply(b,a):g(a)});if("string"==typeof a){if(a in g)return g[a]}else"EPSG"in a?g["EPSG:"+a.EPSG]=a:"ESRI"in a?g["ESRI:"+a.ESRI]=a:"IAU2000"in a?g["IAU2000:"+a.IAU2000]=a:console.log(a);return}}var d=c(89),e=c(40),f=c(43);d(g),a.exports=g},function(a,b,c){var d=.017453292519943295,e=c(83),f=c(84);a.exports=function(a){var g,h,i,j,b={},c={};a.split("+").map(function(a){return a.trim()}).filter(function(a){return a}).forEach(function(a){var b=a.split("=");b.push(!0),c[b[0].toLowerCase()]=b[1]}),j={proj:"projName",datum:"datumCode",rf:function(a){b.rf=parseFloat(a)},lat_0:function(a){b.lat0=a*d},lat_1:function(a){b.lat1=a*d},lat_2:function(a){b.lat2=a*d},lat_ts:function(a){b.lat_ts=a*d},lon_0:function(a){b.long0=a*d},lon_1:function(a){b.long1=a*d},lon_2:function(a){b.long2=a*d},alpha:function(a){b.alpha=parseFloat(a)*d},lonc:function(a){b.longc=a*d},x_0:function(a){b.x0=parseFloat(a)},y_0:function(a){b.y0=parseFloat(a)},k_0:function(a){b.k0=parseFloat(a)},k:function(a){b.k0=parseFloat(a)},a:function(a){b.a=parseFloat(a)},b:function(a){b.b=parseFloat(a)},r_a:function(){b.R_A=!0},zone:function(a){b.zone=parseInt(a,10)},south:function(){b.utmSouth=!0},towgs84:function(a){b.datum_params=a.split(",").map(function(a){return parseFloat(a)})},to_meter:function(a){b.to_meter=parseFloat(a)},units:function(a){b.units=a,f[a]&&(b.to_meter=f[a].to_meter)},from_greenwich:function(a){b.from_greenwich=a*d},pm:function(a){b.from_greenwich=(e[a]?e[a]:parseFloat(a))*d},nadgrids:function(a){"@null"===a?b.datumCode="none":b.nadgrids=a},axis:function(a){var c="ewnsud";3===a.length&&-1!==c.indexOf(a.substr(0,1))&&-1!==c.indexOf(a.substr(1,1))&&-1!==c.indexOf(a.substr(2,1))&&(b.axis=a)}};for(g in c)h=c[g],g in j?(i=j[g],"function"==typeof i?i(h):b[i]=h):b[g]=h;return"string"==typeof b.datumCode&&"WGS84"!==b.datumCode&&(b.datumCode=b.datumCode.toLowerCase()),b}},function(a,b,c){var d=c(11),e=c(12),f=c(13),g=c(14),h=c(15),i=c(1),j=Math.PI/2,k=1e-10,l=c(16),m=c(7);b.init=function(){this.e0=d(this.es),this.e1=e(this.es),this.e2=f(this.es),this.e3=g(this.es),this.ml0=this.a*h(this.e0,this.e1,this.e2,this.e3,this.lat0)},b.forward=function(a){var e,f,g,l,m,n,o,p,q,r,s,b=a.x,c=a.y,d=i(b-this.long0),j=Math.sin(c),k=Math.cos(c);if(this.sphere){if(l=k*Math.sin(d),Math.abs(Math.abs(l)-1)<1e-10)return 93;f=.5*this.a*this.k0*Math.log((1+l)/(1-l)),e=Math.acos(k*Math.cos(d)/Math.sqrt(1-l*l)),0>c&&(e=-e),g=this.a*this.k0*(e-this.lat0)}else m=k*d,n=Math.pow(m,2),o=this.ep2*Math.pow(k,2),p=Math.tan(c),q=Math.pow(p,2),e=1-this.es*Math.pow(j,2),r=this.a/Math.sqrt(e),s=this.a*h(this.e0,this.e1,this.e2,this.e3,c),f=this.k0*r*m*(1+n/6*(1-q+o+n/20*(5-18*q+Math.pow(q,2)+72*o-58*this.ep2)))+this.x0,g=this.k0*(s-this.ml0+r*p*n*(.5+n/24*(5-q+9*o+4*Math.pow(o,2)+n/30*(61-58*q+Math.pow(q,2)+600*o-330*this.ep2))))+this.y0;return a.x=f,a.y=g,a},b.inverse=function(a){var b,c,d,e,g,h,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,f=6;if(this.sphere)n=Math.exp(a.x/(this.a*this.k0)),o=.5*(n-1/n),p=this.lat0+a.y/(this.a*this.k0),q=Math.cos(p),b=Math.sqrt((1-q*q)/(1+o*o)),g=m(b),0>p&&(g=-g),h=0===o&&0===q?this.long0:i(Math.atan2(o,q)+this.long0);else{for(r=a.x-this.x0,s=a.y-this.y0,b=(this.ml0+s/this.k0)/this.a,c=b,e=0;!0&&(d=(b+this.e1*Math.sin(2*c)-this.e2*Math.sin(4*c)+this.e3*Math.sin(6*c))/this.e0-c,c+=d,!(Math.abs(d)<=k));e++)if(e>=f)return 95;Math.abs(c)<j?(t=Math.sin(c),u=Math.cos(c),v=Math.tan(c),w=this.ep2*Math.pow(u,2),x=Math.pow(w,2),y=Math.pow(v,2),z=Math.pow(y,2),b=1-this.es*Math.pow(t,2),A=this.a/Math.sqrt(b),B=A*(1-this.es)/b,C=r/(A*this.k0),D=Math.pow(C,2),g=c-A*v*D/B*(.5-D/24*(5+3*y+10*w-4*x-9*this.ep2-D/30*(61+90*y+298*w+45*z-252*this.ep2-3*x))),h=i(this.long0+C*(1-D/6*(1+2*y+w-D/20*(5-2*w+28*y-3*x+8*this.ep2+24*z)))/u)):(g=j*l(s),h=this.long0)}return a.x=h,a.y=g,a},b.names=["Transverse_Mercator","Transverse Mercator","tmerc"]},function(a,b,c){var d=.017453292519943295,e=57.29577951308232,f=1,g=2,h=c(87),i=c(76),j=c(23),k=c(38);a.exports=function l(a,b,c){function n(a,b){return(a.datum.datum_type===f||a.datum.datum_type===g)&&"WGS84"!==b.datumCode}var m;return Array.isArray(c)&&(c=k(c)),a.datum&&b.datum&&(n(a,b)||n(b,a))&&(m=new j("WGS84"),l(a,m,c),a=m),"enu"!==a.axis&&i(a,!1,c),"longlat"===a.projName?(c.x*=d,c.y*=d):(a.to_meter&&(c.x*=a.to_meter,c.y*=a.to_meter),a.inverse(c)),a.from_greenwich&&(c.x+=a.from_greenwich),c=h(a.datum,b.datum,c),b.from_greenwich&&(c.x-=b.from_greenwich),"longlat"===b.projName?(c.x*=e,c.y*=e):(b.forward(c),b.to_meter&&(c.x/=b.to_meter,c.y/=b.to_meter)),"enu"!==b.axis&&i(b,!0,c),c}},function(a,b,c){function f(a,b,c){a[b]=c.map(function(a){var b={};return g(a,b),b}).reduce(function(a,b){return e(a,b)},{})}function g(a,b){var c;return Array.isArray(a)?(c=a.shift(),"PARAMETER"===c&&(c=a.shift()),1===a.length?Array.isArray(a[0])?(b[c]={},g(a[0],b[c])):b[c]=a[0]:a.length?"TOWGS84"===c?b[c]=a:(b[c]={},["UNIT","PRIMEM","VERT_DATUM"].indexOf(c)>-1?(b[c]={name:a[0].toLowerCase(),convert:a[1]},3===a.length&&(b[c].auth=a[2])):"SPHEROID"===c?(b[c]={name:a[0],a:a[1],rf:a[2]},4===a.length&&(b[c].auth=a[3])):["GEOGCS","GEOCCS","DATUM","VERT_CS","COMPD_CS","LOCAL_CS","FITTED_CS","LOCAL_DATUM"].indexOf(c)>-1?(a[0]=["name",a[0]],f(b,c,a)):a.every(function(a){return Array.isArray(a)})?f(b,c,a):g(a,b[c])):b[c]=!0,void 0):(b[a]=!0,void 0)}function h(a,b){var c=b[0],d=b[1];!(c in a)&&d in a&&(a[c]=a[d],3===b.length&&(a[c]=b[2](a[c])))
}function i(a){return a*d}function j(a){function b(b){var c=a.to_meter||1;return parseFloat(b,10)*c}var c,d;"GEOGCS"===a.type?a.projName="longlat":"LOCAL_CS"===a.type?(a.projName="identity",a.local=!0):a.projName="object"==typeof a.PROJECTION?Object.keys(a.PROJECTION)[0]:a.PROJECTION,a.UNIT&&(a.units=a.UNIT.name.toLowerCase(),"metre"===a.units&&(a.units="meter"),a.UNIT.convert&&("GEOGCS"===a.type?a.DATUM&&a.DATUM.SPHEROID&&(a.to_meter=parseFloat(a.UNIT.convert,10)*a.DATUM.SPHEROID.a):a.to_meter=parseFloat(a.UNIT.convert,10))),a.GEOGCS&&(a.datumCode=a.GEOGCS.DATUM?a.GEOGCS.DATUM.name.toLowerCase():a.GEOGCS.name.toLowerCase(),"d_"===a.datumCode.slice(0,2)&&(a.datumCode=a.datumCode.slice(2)),("new_zealand_geodetic_datum_1949"===a.datumCode||"new_zealand_1949"===a.datumCode)&&(a.datumCode="nzgd49"),"wgs_1984"===a.datumCode&&("Mercator_Auxiliary_Sphere"===a.PROJECTION&&(a.sphere=!0),a.datumCode="wgs84"),"_ferro"===a.datumCode.slice(-6)&&(a.datumCode=a.datumCode.slice(0,-6)),"_jakarta"===a.datumCode.slice(-8)&&(a.datumCode=a.datumCode.slice(0,-8)),~a.datumCode.indexOf("belge")&&(a.datumCode="rnb72"),a.GEOGCS.DATUM&&a.GEOGCS.DATUM.SPHEROID&&(a.ellps=a.GEOGCS.DATUM.SPHEROID.name.replace("_19","").replace(/[Cc]larke\_18/,"clrk"),"international"===a.ellps.toLowerCase().slice(0,13)&&(a.ellps="intl"),a.a=a.GEOGCS.DATUM.SPHEROID.a,a.rf=parseFloat(a.GEOGCS.DATUM.SPHEROID.rf,10)),~a.datumCode.indexOf("osgb_1936")&&(a.datumCode="osgb36")),a.b&&!isFinite(a.b)&&(a.b=a.a),c=function(b){return h(a,b)},d=[["standard_parallel_1","Standard_Parallel_1"],["standard_parallel_2","Standard_Parallel_2"],["false_easting","False_Easting"],["false_northing","False_Northing"],["central_meridian","Central_Meridian"],["latitude_of_origin","Latitude_Of_Origin"],["latitude_of_origin","Central_Parallel"],["scale_factor","Scale_Factor"],["k0","scale_factor"],["latitude_of_center","Latitude_of_center"],["lat0","latitude_of_center",i],["longitude_of_center","Longitude_Of_Center"],["longc","longitude_of_center",i],["x0","false_easting",b],["y0","false_northing",b],["long0","central_meridian",i],["lat0","latitude_of_origin",i],["lat0","standard_parallel_1",i],["lat1","standard_parallel_1",i],["lat2","standard_parallel_2",i],["alpha","azimuth",i],["srsCode","name"]],d.forEach(c),a.long0||!a.longc||"Albers_Conic_Equal_Area"!==a.projName&&"Lambert_Azimuthal_Equal_Area"!==a.projName||(a.long0=a.longc),a.lat_ts||!a.lat1||"Stereographic_South_Pole"!==a.projName&&"Polar Stereographic (variant B)"!==a.projName||(a.lat0=i(a.lat1>0?90:-90),a.lat_ts=a.lat1)}var d=.017453292519943295,e=c(27);a.exports=function(a,b){var h,c=JSON.parse((","+a).replace(/\s*\,\s*([A-Z_0-9]+?)(\[)/g,',["$1",').slice(1).replace(/\s*\,\s*([A-Z_0-9]+?)\]/g,',"$1"]').replace(/,\["VERTCS".+/,"")),d=c.shift(),f=c.shift();return c.unshift(["name",f]),c.unshift(["type",d]),c.unshift("output"),h={},g(c,h),j(h.output),e(b,h.output)}},function(a,b,c){"use strict";function j(a){return a&&a.__esModule?a:{"default":a}}var d,e,f,g,h,i,k,l;Object.defineProperty(b,"__esModule",{value:!0}),b.imageMapLayer=b.ImageMapLayer=void 0,c(22),d=c(5),e=j(d),f=c(0),g=j(f),h=c(35),i=j(h),k=b.ImageMapLayer=e["default"].TileLayer.extend({options:{layersID:null,redirect:!1,transparent:null,cacheEnabled:null,clipRegionEnabled:!1,prjCoordSys:null,overlapDisplayed:!0,overlapDisplayedOptions:null,tileversion:null,crs:null,serverType:g["default"].ServerType.ISERVER,attribution:"Map Data <span>Â© <a href='http://support.supermap.com.cn/product/iServer.aspx' target='_blank'>SuperMap iServer</a></span> with <span>Â© <a href='http://iclient.supermapol.com' target='_blank'>SuperMap iClient</a></span>"},initialize:function(a,b){this.url=this._url=a,e["default"].TileLayer.prototype.initialize.apply(this,arguments),e["default"].setOptions(this,b),e["default"].stamp(this)},onAdd:function(a){this._crs=this.options.crs||a.options.crs,this._initLayerUrl(),e["default"].TileLayer.prototype.onAdd.call(this,a)},getTileUrl:function(a){var b=this._tileCoordsToBounds(a),c=this._crs.project(b.getNorthWest()),d=this._crs.project(b.getSouthEast()),e=this._layerUrl+"&viewBounds="+'{"leftBottom" : {"x":'+c.x+',"y":'+d.y+'},"rightTop" : {"x":'+d.x+',"y":'+c.y+"}}";return encodeURI(e)},_initLayerUrl:function(){var a=this,b=a.url+"/image.png?";b+=a._initAllRequestParams().join("&"),b=this._appendCredential(b),this._layerUrl=b},_initAllRequestParams:function(){var f,h,j,a=this,b=a.options||{},c=[],d=this.options.tileSize;return c.push("width="+d),c.push("height="+d),f=b.redirect===!0?b.redirect:!1,c.push("redirect="+f),h=b.transparent===!0?b.transparent:!1,c.push("transparent="+h),j=b.cacheEnabled===!1?b.cacheEnabled:!0,c.push("cacheEnabled="+j),b.prjCoordSys&&c.push("prjCoordSys="+JSON.stringify(b.prjCoordSys)),b.layersID&&c.push("layersID="+b.layersID),b.clipRegionEnabled&&b.clipRegion instanceof e["default"].Path&&(b.clipRegion=e["default"].Util.toSuperMapGeometry(b.clipRegion.toGeoJSON()),b.clipRegion=g["default"].Util.toJSON(i["default"].fromGeometry(b.clipRegion)),c.push("clipRegionEnabled="+b.clipRegionEnabled),c.push("clipRegion="+JSON.stringify(b.clipRegion))),b.overlapDisplayed===!1?(c.push("overlapDisplayed=false"),b.overlapDisplayedOptions&&c.push("overlapDisplayedOptions="+a.overlapDisplayedOptions.toString())):c.push("overlapDisplayed=true"),b.cacheEnabled===!0&&b.tileversion&&c.push("tileversion="+b.tileversion),c},_appendCredential:function(a){var c,d,b=a;switch(this.options.serverType){case g["default"].ServerType.ISERVER:d=g["default"].SecurityManager.getToken(a),c=d?new g["default"].Credential(d,"token"):null;break;case g["default"].ServerType.IPORTAL:d=g["default"].SecurityManager.getToken(a),c=d?new g["default"].Credential(d,"token"):null,c||(d=g["default"].SecurityManager.getKey(a),c=d?new g["default"].Credential(d,"key"):null);break;case g["default"].ServerType.ONLINE:d=g["default"].SecurityManager.getKey(a),c=d?new g["default"].Credential(d,"key"):null;break;default:d=g["default"].SecurityManager.getToken(a),c=d?new g["default"].Credential(d,"token"):null}return c&&(b+="&"+c.getUrlParameters()),b}}),l=b.imageMapLayer=function(a,b){return new k(a,b)},e["default"].supermap.imageMapLayer=l},function(a,b,c){"use strict";function k(a){var b,c;if(a&&a.__esModule)return a;if(b={},null!=a)for(c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b["default"]=a,b}function l(a){return a&&a.__esModule?a:{"default":a}}var d,e,f,g,h,i,j,m,n;Object.defineProperty(b,"__esModule",{value:!0}),b.tiledMapLayer=b.TiledMapLayer=void 0,c(22),c(67),d=c(5),e=l(d),f=c(6),g=c(36),h=k(g),i=c(35),j=l(i),m=b.TiledMapLayer=e["default"].TileLayer.extend({options:{layersID:null,redirect:!1,transparent:null,cacheEnabled:null,clipRegionEnabled:!1,prjCoordSys:null,overlapDisplayed:!1,overlapDisplayedOptions:null,tileversion:null,crs:null,serverType:f.ServerType.ISERVER,attribution:"Map Data <span>Â© <a href='http://support.supermap.com.cn/product/iServer.aspx' target='_blank'>SuperMap iServer</a></span> with <span>Â© <a href='http://iclient.supermapol.com' target='_blank'>SuperMap iClient</a></span>"},initialize:function(a,b){this._url=a,e["default"].TileLayer.prototype.initialize.apply(this,arguments),e["default"].setOptions(this,b),e["default"].stamp(this),this.tileSetsIndex=-1,this.tempIndex=-1},onAdd:function(a){this._crs=this.options.crs||a.options.crs,e["default"].TileLayer.prototype.onAdd.call(this,a)},getTileUrl:function(a){var b=this.getScaleFromCoords(a),c=this._getLayerUrl(),d=c+"&scale="+b+"&x="+a.x+"&y="+a.y;return encodeURI(d)},getScale:function(a){var b=this,c=a||b._map.getZoom();return b.scales[c]},getScaleFromCoords:function(a){var c,b=this;return b.scales&&b.scales[a.z]?b.scales[a.z]:(b.scales=b.scales||{},c=b.getDefaultScale(a),b.scales[a.z]=c,c)},getDefaultScale:function(a){var d,e,g,i,j,k,l,m,b=this,c=b._crs;return c.options&&c.options.resolutions?d=c.options.resolutions[a.z]:(e=b._tileCoordsToBounds(a),g=c.project(e.getNorthEast()),i=c.project(e.getSouthWest()),j=b.options.tileSize,d=Math.max(Math.abs(g.x-i.x)/j,Math.abs(g.y-i.y)/j)),k=f.Unit.METER,c.code&&(l=c.code.split(":"),l&&l.length>1&&(m=parseInt(l[1]),k=m&&m>=4e3&&5e3>=m?f.Unit.DEGREE:f.Unit.METER)),h.resolutionToScale(d,96,k)},setTileSetsInfo:function(a){this.tileSets=a,e["default"].Util.isArray(this.tileSets)&&(this.tileSets=this.tileSets[0]),this.tileSets&&(this.fire("tilesetsinfoloaded",{tileVersions:this.tileSets.tileVersions}),this.changeTilesVersion())},lastTilesVersion:function(){this.tempIndex=this.tileSetsIndex-1,this.changeTilesVersion()},nextTilesVersion:function(){this.tempIndex=this.tileSetsIndex+1,this.changeTilesVersion()},changeTilesVersion:function(){var b,c,d,a=this;null!=a.tileSets&&(a.tempIndex===a.tileSetsIndex||this.tempIndex<0||(b=a.tileSets.tileVersions,b&&a.tempIndex<b.length&&a.tempIndex>=0&&(c=b[a.tempIndex].name,d=a.mergeTileVersionParam(c),d&&(a.tileSetsIndex=a.tempIndex,a.fire("tileversionschanged",{tileVersion:b[a.tempIndex]})))))},updateCurrentTileSetsIndex:function(a){this.tempIndex=a},mergeTileVersionParam:function(a){return a?(this.requestParams["tileversion"]=a,this._paramsChanged=!0,this.redraw(),this._paramsChanged=!1,!0):!1},_getLayerUrl:function(){return this._paramsChanged&&(this._layerUrl=this._createLayerUrl()),this._layerUrl||this._createLayerUrl()},_createLayerUrl:function(){var a=this,b=a._url+"/tileImage.png?";return b+=a._getRequestParamString(),b=this._appendCredential(b),this._layerUrl=b,b},_getRequestParamString:function(){var a,b;this.requestParams=this.requestParams||this._getAllRequestParams(),a=[];for(b in this.requestParams)a.push(b+"="+this.requestParams[b]);return a.join("&")},_getAllRequestParams:function(){var f,g,i,a=this,b=a.options||{},c={},d=this.options.tileSize;return c["width"]=d.toString(),c["height"]=d.toString(),c["redirect"]=b.redirect===!0,c["transparent"]=b.transparent===!0,c["cacheEnabled"]=!(b.cacheEnabled===!1),b.prjCoordSys&&(c["prjCoordSys"]=JSON.stringify(b.prjCoordSys)),b.layersID&&(c["layersID"]=b.layersID.toString()),b.clipRegionEnabled&&b.clipRegion instanceof e["default"].Path&&(b.clipRegion=h.toSuperMapGeometry(b.clipRegion.toGeoJSON()),b.clipRegion=SuperMap.Util.toJSON(j["default"].fromGeometry(b.clipRegion)),c["clipRegionEnabled"]=b.clipRegionEnabled,c["clipRegion"]=JSON.stringify(b.clipRegion)),f=a._crs,f.projection&&f.projection.bounds&&(g=f.projection.bounds,i=e["default"].point(g.min.x,g.max.y),c["origin"]=JSON.stringify({x:i.x,y:i.y})),b.overlapDisplayed===!1?(c["overlapDisplayed"]=!1,b.overlapDisplayedOptions&&(c["overlapDisplayedOptions"]=a.overlapDisplayedOptions.toString())):c["overlapDisplayed"]=!0,b.cacheEnabled===!0&&b.tileversion&&(c["tileversion"]=b.tileversion.toString()),c},_appendCredential:function(a){var c,d,b=a;switch(this.options.serverType){case SuperMap.ServerType.ISERVER:d=SuperMap.SecurityManager.getToken(a),c=d?new SuperMap.Credential(d,"token"):null;break;case SuperMap.ServerType.IPORTAL:d=SuperMap.SecurityManager.getToken(a),c=d?new SuperMap.Credential(d,"token"):null,c||(d=SuperMap.SecurityManager.getKey(a),c=d?new SuperMap.Credential(d,"key"):null);break;case SuperMap.ServerType.ONLINE:d=SuperMap.SecurityManager.getKey(a),c=d?new SuperMap.Credential(d,"key"):null;break;default:d=SuperMap.SecurityManager.getToken(a),c=d?new SuperMap.Credential(d,"token"):null}return c&&(b+="&"+c.getUrlParameters()),b}}),n=b.tiledMapLayer=function(a,b){return new m(a,b)},e["default"].supermap.tiledMapLayer=n},function(a,b){"use strict";var d,e,f;!function(c,g){e=[b,a],d=g,f="function"==typeof d?d.apply(b,e):d,!(void 0!==f&&(a.exports=f))}(void 0,function(a,b){function d(){return"jsonp_"+Date.now()+"_"+Math.ceil(1e5*Math.random())}function e(a){try{delete window[a]}catch(b){window[a]=void 0}}function f(a){var b=document.getElementById(a);document.getElementsByTagName("head")[0].removeChild(b)}function g(a){var b=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],g=a,h=b.timeout||c.timeout,i=b.jsonpCallback||c.jsonpCallback,j=void 0;return new Promise(function(c,k){var n,l=b.jsonpCallbackFunction||d(),m=i+"_"+l;window[l]=function(a){c({ok:!0,json:function(){return Promise.resolve(a)}}),j&&clearTimeout(j),f(m),e(l)},g+=-1===g.indexOf("?")?"?":"&",n=document.createElement("script"),n.setAttribute("src",""+g+i+"="+l),n.id=m,document.getElementsByTagName("head")[0].appendChild(n),j=setTimeout(function(){k(new Error("JSONP request to "+a+" timed out")),e(l),f(m)},h)})}var c={timeout:5e3,jsonpCallback:"callback",jsonpCallbackFunction:null};b.exports=g})},function(a,b,c){"use strict";function e(a,b){this._id=a,this._clearFn=b}var d=Function.prototype.apply;b.setTimeout=function(){return new e(d.call(setTimeout,window,arguments),clearTimeout)},b.setInterval=function(){return new e(d.call(setInterval,window,arguments),clearInterval)},b.clearTimeout=b.clearInterval=function(a){a&&a.close()},e.prototype.unref=e.prototype.ref=function(){},e.prototype.close=function(){this._clearFn.call(window,this._id)},b.enroll=function(a,b){clearTimeout(a._idleTimeoutId),a._idleTimeout=b},b.unenroll=function(a){clearTimeout(a._idleTimeoutId),a._idleTimeout=-1},b._unrefActive=b.active=function(a){clearTimeout(a._idleTimeoutId);var b=a._idleTimeout;b>=0&&(a._idleTimeoutId=setTimeout(function(){a._onTimeout&&a._onTimeout()},b))},c(50),b.setImmediate=setImmediate,b.clearImmediate=clearImmediate},function(a){"use strict";function g(){throw new Error("setTimeout has not been defined")}function h(){throw new Error("clearTimeout has not been defined")}function i(a){if(e===setTimeout)return setTimeout(a,0);if((e===g||!e)&&setTimeout)return e=setTimeout,setTimeout(a,0);try{return e(a,0)}catch(b){try{return e.call(null,a,0)}catch(b){return e.call(this,a,0)}}}function j(a){if(f===clearTimeout)return clearTimeout(a);if((f===h||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(a);try{return f(a)}catch(b){try{return f.call(null,a)}catch(b){return f.call(this,a)}}}function o(){l&&m&&(l=!1,m.length?k=m.concat(k):n=-1,k.length&&p())}function p(){var a,b;if(!l){for(a=i(o),l=!0,b=k.length;b;){for(m=k,k=[];++n<b;)m&&m[n].run();n=-1,b=k.length}m=null,l=!1,j(a)}}function q(a,b){this.fun=a,this.array=b}function r(){}var e,f,k,l,m,n,d=a.exports={};!function(){try{e="function"==typeof setTimeout?setTimeout:g}catch(a){e=g}try{f="function"==typeof clearTimeout?clearTimeout:h}catch(a){f=h}}(),k=[],l=!1,n=-1,d.nextTick=function(a){var c,b=new Array(arguments.length-1);if(arguments.length>1)for(c=1;c<arguments.length;c++)b[c-1]=arguments[c];k.push(new q(a,b)),1!==k.length||l||i(p)},q.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={},d.on=r,d.addListener=r,d.once=r,d.off=r,d.removeListener=r,d.removeAllListeners=r,d.emit=r,d.prependListener=r,d.prependOnceListener=r,d.listeners=function(){return[]},d.binding=function(){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}},function(a,b,c){"use strict";!function(b){var c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};!function(d){function f(){}function g(a,b){return function(){a.apply(b,arguments)}}function h(a){if("object"!==c(this))throw new TypeError("Promises must be constructed via new");if("function"!=typeof a)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],n(a,this)}function i(a,b){for(;3===a._state;)a=a._value;return 0===a._state?(a._deferreds.push(b),void 0):(a._handled=!0,h._immediateFn(function(){var d,c=1===a._state?b.onFulfilled:b.onRejected;if(null===c)return(1===a._state?j:k)(b.promise,a._value),void 0;try{d=c(a._value)}catch(e){return k(b.promise,e),void 0}j(b.promise,d)}),void 0)}function j(a,b){try{if(b===a)throw new TypeError("A promise cannot be resolved with itself.");if(b&&("object"===("undefined"==typeof b?"undefined":c(b))||"function"==typeof b)){var d=b.then;if(b instanceof h)return a._state=3,a._value=b,l(a),void 0;if("function"==typeof d)return n(g(d,b),a),void 0}a._state=1,a._value=b,l(a)}catch(e){k(a,e)}}function k(a,b){a._state=2,a._value=b,l(a)}function l(a){2===a._state&&0===a._deferreds.length&&h._immediateFn(function(){a._handled||h._unhandledRejectionFn(a._value)});for(var b=0,c=a._deferreds.length;c>b;b++)i(a,a._deferreds[b]);a._deferreds=null}function m(a,b,c){this.onFulfilled="function"==typeof a?a:null,this.onRejected="function"==typeof b?b:null,this.promise=c}function n(a,b){var c=!1;try{a(function(a){c||(c=!0,j(b,a))},function(a){c||(c=!0,k(b,a))})}catch(d){if(c)return;c=!0,k(b,d)}}var e=setTimeout;h.prototype["catch"]=function(a){return this.then(null,a)},h.prototype.then=function(a,b){var c=new this.constructor(f);return i(this,new m(a,b,c)),c},h.all=function(a){var b=Array.prototype.slice.call(a);return new h(function(a,d){function f(g,h){try{if(h&&("object"===("undefined"==typeof h?"undefined":c(h))||"function"==typeof h)){var i=h.then;if("function"==typeof i)return i.call(h,function(a){f(g,a)},d),void 0}b[g]=h,0===--e&&a(b)}catch(j){d(j)}}var e,g;if(0===b.length)return a([]);for(e=b.length,g=0;g<b.length;g++)f(g,b[g])})},h.resolve=function(a){return a&&"object"===("undefined"==typeof a?"undefined":c(a))&&a.constructor===h?a:new h(function(b){b(a)})},h.reject=function(a){return new h(function(b,c){c(a)})},h.race=function(a){return new h(function(b,c){for(var d=0,e=a.length;e>d;d++)a[d].then(b,c)})},h._immediateFn="function"==typeof b&&function(a){b(a)}||function(a){e(a,0)},h._unhandledRejectionFn=function(a){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",a)},h._setImmediateFn=function(a){h._immediateFn=a},h._setUnhandledRejectionFn=function(a){h._unhandledRejectionFn=a},"undefined"!=typeof a&&a.exports?a.exports=h:d.Promise||(d.Promise=h)}(void 0)}.call(b,c(47).setImmediate)},function(a,b,c){"use strict";!function(a,b){!function(a,c){function i(a){var b,c,f;for("function"!=typeof a&&(a=new Function(""+a)),b=new Array(arguments.length-1),c=0;c<b.length;c++)b[c]=arguments[c+1];return f={callback:a,args:b},e[d]=f,h(d),d++}function j(a){delete e[a]}function k(a){var b=a.callback,d=a.args;switch(d.length){case 0:b();break;case 1:b(d[0]);break;case 2:b(d[0],d[1]);break;case 3:b(d[0],d[1],d[2]);break;default:b.apply(c,d)}}function l(a){if(f)setTimeout(l,0,a);else{var b=e[a];if(b){f=!0;try{k(b)}finally{j(a),f=!1}}}}function m(){h=function(a){b.nextTick(function(){l(a)})}}function n(){var b,c;return a.postMessage&&!a.importScripts?(b=!0,c=a.onmessage,a.onmessage=function(){b=!1},a.postMessage("","*"),a.onmessage=c,b):void 0}function o(){var b="setImmediate$"+Math.random()+"$",c=function(c){c.source===a&&"string"==typeof c.data&&0===c.data.indexOf(b)&&l(+c.data.slice(b.length))};a.addEventListener?a.addEventListener("message",c,!1):a.attachEvent("onmessage",c),h=function(c){a.postMessage(b+c,"*")}}function p(){var a=new MessageChannel;a.port1.onmessage=function(a){var b=a.data;l(b)},h=function(b){a.port2.postMessage(b)}}function q(){var a=g.documentElement;h=function(b){var c=g.createElement("script");c.onreadystatechange=function(){l(b),c.onreadystatechange=null,a.removeChild(c),c=null},a.appendChild(c)}}function r(){h=function(a){setTimeout(l,0,a)}}var d,e,f,g,h,s;a.setImmediate||(d=1,e={},f=!1,g=a.document,s=Object.getPrototypeOf&&Object.getPrototypeOf(a),s=s&&s.setTimeout?s:a,"[object process]"==={}.toString.call(a.process)?m():n()?o():a.MessageChannel?p():g&&"onreadystatechange"in g.createElement("script")?q():r(),s.setImmediate=i,s.clearImmediate=j)}("undefined"==typeof self?"undefined"==typeof a?void 0:a:self)}.call(b,c(51),c(48))},function(a){"use strict";var d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},e=function(){return this}();try{e=e||Function("return this")()||(1,eval)("this")}catch(f){"object"===("undefined"==typeof window?"undefined":d(window))&&(e=window)}a.exports=e},function(a){"use strict";var d=function(a){function c(a){if("string"!=typeof a&&(a=String(a)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(a))throw new TypeError("Invalid character in header field name");return a.toLowerCase()}function d(a){return"string"!=typeof a&&(a=String(a)),a}function e(a){var c={next:function(){var b=a.shift();return{done:void 0===b,value:b}}};return b.iterable&&(c[Symbol.iterator]=function(){return c}),c}function f(a){this.map={},a instanceof f?a.forEach(function(a,b){this.append(b,a)},this):a&&Object.getOwnPropertyNames(a).forEach(function(b){this.append(b,a[b])},this)}function g(a){return a.bodyUsed?Promise.reject(new TypeError("Already read")):(a.bodyUsed=!0,void 0)}function h(a){return new Promise(function(b,c){a.onload=function(){b(a.result)},a.onerror=function(){c(a.error)}})}function i(a){var b=new FileReader;return b.readAsArrayBuffer(a),h(b)}function j(a){var b=new FileReader;return b.readAsText(a),h(b)}function k(){return this.bodyUsed=!1,this._initBody=function(a){if(this._bodyInit=a,"string"==typeof a)this._bodyText=a;else if(b.blob&&Blob.prototype.isPrototypeOf(a))this._bodyBlob=a;else if(b.formData&&FormData.prototype.isPrototypeOf(a))this._bodyFormData=a;else if(b.searchParams&&URLSearchParams.prototype.isPrototypeOf(a))this._bodyText=a.toString();else if(a){if(!b.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(a))throw new Error("unsupported BodyInit type")}else this._bodyText="";this.headers.get("content-type")||("string"==typeof a?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):b.searchParams&&URLSearchParams.prototype.isPrototypeOf(a)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},b.blob?(this.blob=function(){var a=g(this);if(a)return a;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this.blob().then(i)},this.text=function(){var a=g(this);if(a)return a;if(this._bodyBlob)return j(this._bodyBlob);if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)}):this.text=function(){var a=g(this);return a?a:Promise.resolve(this._bodyText)},b.formData&&(this.formData=function(){return this.text().then(o)}),this.json=function(){return this.text().then(JSON.parse)},this}function m(a){var b=a.toUpperCase();return l.indexOf(b)>-1?b:a}function n(a,b){b=b||{};var c=b.body;if(n.prototype.isPrototypeOf(a)){if(a.bodyUsed)throw new TypeError("Already read");this.url=a.url,this.credentials=a.credentials,b.headers||(this.headers=new f(a.headers)),this.method=a.method,this.mode=a.mode,c||(c=a._bodyInit,a.bodyUsed=!0)}else this.url=a;if(this.credentials=b.credentials||this.credentials||"omit",(b.headers||!this.headers)&&(this.headers=new f(b.headers)),this.method=m(b.method||this.method||"GET"),this.mode=b.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&c)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(c)}function o(a){var b=new FormData;return a.trim().split("&").forEach(function(a){var c,d,e;a&&(c=a.split("="),d=c.shift().replace(/\+/g," "),e=c.join("=").replace(/\+/g," "),b.append(decodeURIComponent(d),decodeURIComponent(e)))}),b}function p(a){var b=new f,c=(a.getAllResponseHeaders()||"").trim().split("\n");return c.forEach(function(a){var c=a.trim().split(":"),d=c.shift().trim(),e=c.join(":").trim();b.append(d,e)}),b}function q(a,b){b||(b={}),this.type="default",this.status=b.status,this.ok=this.status>=200&&this.status<300,this.statusText=b.statusText,this.headers=b.headers instanceof f?b.headers:new f(b.headers),this.url=b.url||"",this._initBody(a)}var l,r,s,b={searchParams:"URLSearchParams"in a,iterable:"Symbol"in a&&"iterator"in Symbol,blob:"FileReader"in a&&"Blob"in a&&function(){try{return new Blob,!0}catch(a){return!1}}(),formData:"FormData"in a,arrayBuffer:"ArrayBuffer"in a};return f.prototype.append=function(a,b){a=c(a),b=d(b);var e=this.map[a];e||(e=[],this.map[a]=e),e.push(b)},f.prototype["delete"]=function(a){delete this.map[c(a)]},f.prototype.get=function(a){var b=this.map[c(a)];return b?b[0]:null},f.prototype.getAll=function(a){return this.map[c(a)]||[]},f.prototype.has=function(a){return this.map.hasOwnProperty(c(a))},f.prototype.set=function(a,b){this.map[c(a)]=[d(b)]},f.prototype.forEach=function(a,b){Object.getOwnPropertyNames(this.map).forEach(function(c){this.map[c].forEach(function(d){a.call(b,d,c,this)},this)},this)},f.prototype.keys=function(){var a=[];return this.forEach(function(b,c){a.push(c)}),e(a)},f.prototype.values=function(){var a=[];return this.forEach(function(b){a.push(b)}),e(a)},f.prototype.entries=function(){var a=[];return this.forEach(function(b,c){a.push([c,b])}),e(a)},b.iterable&&(f.prototype[Symbol.iterator]=f.prototype.entries),l=["DELETE","GET","HEAD","OPTIONS","POST","PUT"],n.prototype.clone=function(){return new n(this)},k.call(n.prototype),k.call(q.prototype),q.prototype.clone=function(){return new q(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new f(this.headers),url:this.url})},q.error=function(){var a=new q(null,{status:0,statusText:""});return a.type="error",a},r=[301,302,303,307,308],q.redirect=function(a,b){if(-1===r.indexOf(b))throw new RangeError("Invalid status code");return new q(null,{status:b,headers:{location:a}})},s=function(a,c){return c=c||{timeout:3e4},new Promise(function(d,e){function h(){return"responseURL"in g?g.responseURL:/^X-Request-URL:/m.test(g.getAllResponseHeaders())?g.getResponseHeader("X-Request-URL"):void 0}var f,g;f=n.prototype.isPrototypeOf(a)&&!c?a:new n(a,c),g=new XMLHttpRequest,g.onload=function(){var a={status:g.status,statusText:g.statusText,headers:p(g),url:h()},b="response"in g?g.response:g.responseText;d(new q(b,a))},g.onerror=function(){e(new TypeError("Network request failed"))},g.ontimeout=function(){e(new TypeError("Network request failed due to timeout"))},g.open(f.method,f.url,!0),g.timeout=c.timeout||3e4,"include"===f.credentials&&(g.withCredentials=!0),"responseType"in g&&b.blob&&(g.responseType="blob"),f.headers.forEach(function(a,b){g.setRequestHeader(b,a)}),g.send("undefined"==typeof f._bodyInit?null:f._bodyInit)})}}("undefined"!=typeof self?self:void 0);a.exports=d},function(a,b,c){"use strict";function h(a){return a&&a.__esModule?a:{"default":a}}function i(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var d,e,f,g,j;Object.defineProperty(b,"__esModule",{value:!0}),d=function(){function a(a,b){var c,d;for(c=0;c<b.length;c++)d=b[c],d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=h(e),g=c(2),j=function(){function a(b,c,d){i(this,a),this.layer=null,this.id=null,this.lonlat=null,this.data=null,this.CLASS_NAME="SuperMap.Feature",this.layer=b,this.lonlat=c,this.data=null!=d?d:{},this.id=g.Util.createUniqueID(this.CLASS_NAME+"_")}return d(a,[{key:"destroy",value:function(){this.id=null,this.lonlat=null,this.data=null}}]),a}(),b["default"]=j,f["default"].Feature=j},function(a,b,c){"use strict";function h(a){return a&&a.__esModule?a:{"default":a}}function i(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var d,e,f,g,j;Object.defineProperty(b,"__esModule",{value:!0}),d=function(){function a(a,b){var c,d;for(c=0;c<b.length;c++)d=b[c],d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=h(e),g=c(2),j=function(){function a(b,c){i(this,a),this.lon=0,this.lat=0,this.CLASS_NAME="SuperMap.LonLat",g.Util.isArray(b)&&(c=b[1],b=b[0]),this.lon=b?g.Util.toFloat(b):this.lon,this.lat=c?g.Util.toFloat(c):this.lat}return d(a,[{key:"toString",value:function(){return"lon="+this.lon+",lat="+this.lat}},{key:"toShortString",value:function(){return this.lon+","+this.lat}},{key:"clone",value:function(){return new a(this.lon,this.lat)}},{key:"add",value:function(b,c){if(null==b||null==c)throw new TypeError("LonLat.add cannot receive null values");return new a(this.lon+g.Util.toFloat(b),this.lat+g.Util.toFloat(c))}},{key:"equals",value:function h(a){var h=!1;return null!=a&&(h=this.lon===a.lon&&this.lat===a.lat||isNaN(this.lon)&&isNaN(this.lat)&&isNaN(a.lon)&&isNaN(a.lat)),h}},{key:"wrapDateLine",value:function(a){var b=this.clone();if(a){for(;b.lon<a.left;)b.lon+=a.getWidth();for(;b.lon>a.right;)b.lon-=a.getWidth()}return b}},{key:"destroy",value:function(){this.lon=null,this.lat=null}}],[{key:"fromString",value:function(b){var c=b.split(",");return new a(c[0],c[1])}},{key:"fromArray",value:function(b){var c=g.Util.isArray(b),d=c&&b[0],e=c&&b[1];return new a(d,e)}}]),a}(),b["default"]=j,f["default"].LonLat=j},function(a,b,c){"use strict";function g(a){return a&&a.__esModule?a:{"default":a}}function h(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var d,e,f,i;Object.defineProperty(b,"__esModule",{value:!0}),d=function(){function a(a,b){var c,d;for(c=0;c<b.length;c++)d=b[c],d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=g(e),i=function(){function a(b,c,d){h(this,a),this.x=0,this.y=0,this.mode=null,this.CLASS_NAME="SuperMap.Pixel",this.x=b?parseFloat(b):this.x,this.y=c?parseFloat(c):this.y,this.mode=d}return d(a,[{key:"toString",value:function(){return"x="+this.x+",y="+this.y}},{key:"clone",value:function(){return new a(this.x,this.y,this.mode)}},{key:"equals",value:function e(a){var e=!1;return null!=a&&(e=this.x==a.x&&this.y==a.y||isNaN(this.x)&&isNaN(this.y)&&isNaN(a.x)&&isNaN(a.y)),e}},{key:"distanceTo",value:function(a){return Math.sqrt(Math.pow(this.x-a.x,2)+Math.pow(this.y-a.y,2))}},{key:"add",value:function(b,c){if(null==b||null==c)throw new TypeError("Pixel.add cannot receive null values");return new a(this.x+b,this.y+c)}},{key:"offset",value:function(a){var b=this.clone();return a&&(b=this.add(a.x,a.y)),b}},{key:"destroy",value:function(){this.x=null,this.y=null,this.mode=null}}]),a}(),i.Mode={LeftTop:"lefttop",RightTop:"righttop",RightBottom:"rightbottom",LeftBottom:"leftbottom"},b["default"]=i,f["default"].Pixel=i},function(a,b,c){"use strict";function g(a){return a&&a.__esModule?a:{"default":a}}function h(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var d,e,f,i;Object.defineProperty(b,"__esModule",{value:!0}),d=function(){function a(a,b){var c,d;for(c=0;c<b.length;c++)d=b[c],d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=g(e),i=function(){function a(b,c){h(this,a),this.w=0,this.h=0,this.CLASS_NAME="SuperMap.Size",this.w=b?parseFloat(b):this.w,this.h=b?parseFloat(c):this.h}return d(a,[{key:"toString",value:function(){return"w="+this.w+",h="+this.h}},{key:"clone",value:function(){return new a(this.w,this.h)}},{key:"equals",value:function e(a){var e=!1;return null!=a&&(e=this.w===a.w&&this.h===a.h||isNaN(this.w)&&isNaN(this.h)&&isNaN(a.w)&&isNaN(a.h)),e}},{key:"destroy",value:function(){this.w=null,this.h=null}}]),a}(),b["default"]=i,f["default"].Size=i},function(a,b,c){"use strict";function k(a){return a&&a.__esModule?a:{"default":a}}function l(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")
}function m(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function n(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}var d,e,f,g,h,i,j,o;Object.defineProperty(b,"__esModule",{value:!0}),d=function(){function a(a,b){var c,d;for(c=0;c<b.length;c++)d=b[c],d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=function p(a,b,c){var d,e,f;return null===a&&(a=Function.prototype),d=Object.getOwnPropertyDescriptor(a,b),void 0===d?(e=Object.getPrototypeOf(a),null===e?void 0:p(e,b,c)):"value"in d?d.value:(f=d.get,void 0===f?void 0:f.call(c))},f=c(0),g=k(f),h=c(53),i=k(h),j=c(2),g["default"].State={UNKNOWN:"Unknown",INSERT:"Insert",UPDATE:"Update",DELETE:"Delete"},o=function(a){function b(a,c,d){l(this,b);var e=m(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,null,null,c));return e.fid=null,e.geometry=null,e.attributes=null,e.bounds=null,e.state=null,e.style=null,e.url=null,e.renderIntent="default",e.modified=null,e.CLASS_NAME="SuperMap.Feature.Vector",e.lonlat=null,e.geometry=a?a:null,e.state=null,e.attributes={},c&&(e.attributes=j.Util.extend(e.attributes,c)),e.style=d?d:null,e}return n(b,a),d(b,[{key:"destroy",value:function(){this.layer&&(this.layer.removeFeatures(this),this.layer=null),this.geometry=null,this.modified=null,e(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"destroy",this).call(this)}},{key:"clone",value:function(){return new b(this.geometry?this.geometry.clone():null,this.attributes,this.style)}},{key:"onScreen",value:function h(a){var b,c,d,h=!1;return this.layer&&this.layer.map&&(b=this.layer.map.getExtent(),a?(c=this.geometry.getBounds(),h=b.intersectsBounds(c)):(d=b.toGeometry(),h=d.intersects(this.geometry))),h}},{key:"getVisibility",value:function(){return!(this.style&&"none"===this.style.display||!this.layer||this.layer&&this.layer.styleMap&&"none"===this.layer.styleMap.createSymbolizer(this,this.renderIntent).display||this.layer&&!this.layer.getVisibility())}},{key:"createMarker",value:function(){return null}},{key:"destroyMarker",value:function(){}},{key:"createPopup",value:function(){return null}},{key:"atPoint",value:function q(a,b,c){var q=!1;return this.geometry&&(q=this.geometry.atPoint(a,b,c)),q}},{key:"destroyPopup",value:function(){}},{key:"move",value:function(a){var b,c,d;return this.layer&&this.geometry.move?(b="SuperMap.LonLat"===a.CLASS_NAME?this.layer.getViewPortPxFromLonLat(a):a,c=this.layer.getViewPortPxFromLonLat(this.geometry.getBounds().getCenterLonLat()),d=this.layer.map.getResolution(),this.geometry.move(d*(b.x-c.x),d*(c.y-b.y)),this.layer.drawFeature(this),c):void 0}},{key:"toState",value:function(a){if(a===g["default"].State.UPDATE)switch(this.state){case g["default"].State.UNKNOWN:case g["default"].State.DELETE:this.state=a;break;case g["default"].State.UPDATE:case g["default"].State.INSERT:}else if(a===g["default"].State.INSERT)switch(this.state){case g["default"].State.UNKNOWN:break;default:this.state=a}else if(a===g["default"].State.DELETE)switch(this.state){case g["default"].State.INSERT:break;case g["default"].State.DELETE:break;case g["default"].State.UNKNOWN:case g["default"].State.UPDATE:this.state=a}else a===g["default"].State.UNKNOWN&&(this.state=a)}}]),b}(i["default"]),o.style={"default":{fillColor:"#ee9900",fillOpacity:.4,hoverFillColor:"white",hoverFillOpacity:.8,strokeColor:"#ee9900",strokeOpacity:1,strokeWidth:1,strokeLinecap:"round",strokeDashstyle:"solid",hoverStrokeColor:"red",hoverStrokeOpacity:1,hoverStrokeWidth:.2,pointRadius:6,hoverPointRadius:1,hoverPointUnit:"%",pointerEvents:"visiblePainted",cursor:"inherit",fontColor:"#000000",labelAlign:"cm",labelOutlineColor:"white",labelOutlineWidth:3},select:{fillColor:"blue",fillOpacity:.4,hoverFillColor:"white",hoverFillOpacity:.8,strokeColor:"blue",strokeOpacity:1,strokeWidth:2,strokeLinecap:"round",strokeDashstyle:"solid",hoverStrokeColor:"red",hoverStrokeOpacity:1,hoverStrokeWidth:.2,pointRadius:6,hoverPointRadius:1,hoverPointUnit:"%",pointerEvents:"visiblePainted",cursor:"pointer",fontColor:"#000000",labelAlign:"cm",labelOutlineColor:"white",labelOutlineWidth:3},temporary:{fillColor:"#66cccc",fillOpacity:.2,hoverFillColor:"white",hoverFillOpacity:.8,strokeColor:"#66cccc",strokeOpacity:1,strokeLinecap:"round",strokeWidth:2,strokeDashstyle:"solid",hoverStrokeColor:"red",hoverStrokeOpacity:1,hoverStrokeWidth:.2,pointRadius:6,hoverPointRadius:1,hoverPointUnit:"%",pointerEvents:"visiblePainted",cursor:"default",fontColor:"#000000",labelAlign:"cm",labelOutlineColor:"white",labelOutlineWidth:3},"delete":{display:"none"}},b["default"]=o,g["default"].Feature.Vector=o},function(a,b,c){"use strict";function i(a){return a&&a.__esModule?a:{"default":a}}function j(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function k(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function l(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}var d,e,f,g,m;Object.defineProperty(b,"__esModule",{value:!0}),d=c(0),e=i(d),f=c(20),g=i(f),c(2),m=function(a){function b(a){j(this,b);var c=k(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));return c.componentTypes=["SuperMap.Geometry.Point","SuperMap.PointWithMeasure"],c.CLASS_NAME="SuperMap.Geometry.Curve",c}return l(b,a),b}(g["default"]),b["default"]=m,e["default"].Geometry.Curve=m},function(a,b,c){"use strict";function y(a){return a&&a.__esModule?a:{"default":a}}function z(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function A(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function B(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}var d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,C;Object.defineProperty(b,"__esModule",{value:!0}),d=function(){function a(a,b){var c,d;for(c=0;c<b.length;c++)d=b[c],d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=function D(a,b,c){var d,e,f;return null===a&&(a=Function.prototype),d=Object.getOwnPropertyDescriptor(a,b),void 0===d?(e=Object.getPrototypeOf(a),null===e?void 0:D(e,b,c)):"value"in d?d.value:(f=d.get,void 0===f?void 0:f.call(c))},f=c(0),g=y(f),h=c(60),i=y(h),j=c(3),k=y(j),l=c(20),m=y(l),n=c(9),o=y(n),p=c(32),q=y(p),r=c(17),s=y(r),t=c(21),u=y(t),v=c(33),w=y(v),x=c(6),C=function(a){function b(){var a,c,d,e,f,g,h;for(z(this,b),f=arguments.length,g=Array(f),h=0;f>h;h++)g[h]=arguments[h];return c=d=A(this,(a=b.__proto__||Object.getPrototypeOf(b)).call.apply(a,[this].concat(g))),d.ignoreExtraDims=!1,d.parseCoords={point:function(a){if(0==this.ignoreExtraDims&&2!=a.length)throw"Only 2D points are supported: "+a;return new k["default"](a[0],a[1])},multipoint:function(a){var d,e,b=[],c=null;for(d=0,e=a.length;e>d;++d){try{c=this.parseCoords["point"].apply(this,[a[d]])}catch(f){throw f}b.push(c)}return new m["default"](b)},linestring:function(a){var d,e,b=[],c=null;for(d=0,e=a.length;e>d;++d){try{c=this.parseCoords["point"].apply(this,[a[d]])}catch(f){throw f}b.push(c)}return new o["default"](b)},multilinestring:function(a){var d,e,b=[],c=null;for(d=0,e=a.length;e>d;++d){try{c=this.parseCoords["linestring"].apply(this,[a[d]])}catch(f){throw f}b.push(c)}return new q["default"](b)},polygon:function(a){var c,d,e,f,b=[];for(e=0,f=a.length;f>e;++e){try{d=this.parseCoords["linestring"].apply(this,[a[e]])}catch(g){throw g}c=new s["default"](d.components),b.push(c)}return new u["default"](b)},multipolygon:function(a){var d,e,b=[],c=null;for(d=0,e=a.length;e>d;++d){try{c=this.parseCoords["polygon"].apply(this,[a[d]])}catch(f){throw f}b.push(c)}return new w["default"](b)},box:function(a){if(2!=a.length)throw"GeoJSON box coordinates must have 2 elements";return new u["default"]([new s["default"]([new k["default"](a[0][0],a[0][1]),new k["default"](a[1][0],a[0][1]),new k["default"](a[1][0],a[1][1]),new k["default"](a[0][0],a[1][1]),new k["default"](a[0][0],a[0][1])])])}},d.extract={feature:function(a){var b=this.extract.geometry.apply(this,[a.geometry]),c={type:"Feature",properties:this.createAttributes(a),geometry:b};return a.geometry&&"TEXT"===a.geometry.type&&(c.properties.texts=a.geometry.texts,c.properties.textStyle=a.geometry.textStyle),null!==a.fid&&(c.id=a.fid),null!==a.ID&&(c.id=a.ID),c},geometry:function(a){var b,c,d,e;return null==a?null:(b=this.toGeometry(a),c=b.type,d=this.extract[c.toLowerCase()].apply(this,[b]),c="TEXT"===c?"Point":c,e="Collection"===c?{type:"GeometryCollection",geometries:d}:{type:c,coordinates:d})},point:function(a){var c,b=[a.x,a.y];for(c in a)"x"===c||"y"===c||isNaN(a[c])||b.push(a[c]);return b},text:function(a){return[a.points[0].x,a.points[0].y]},multipoint:function(a){var c,d,b=[];for(c=0,d=a.components.length;d>c;++c)b.push(this.extract.point.apply(this,[a.components[c]]));return b},linestring:function(a){var c,d,b=[];for(c=0,d=a.components.length;d>c;++c)b.push(this.extract.point.apply(this,[a.components[c]]));return b},multilinestring:function(a){var c,d,b=[];for(c=0,d=a.components.length;d>c;++c)b.push(this.extract.linestring.apply(this,[{components:a.components[c]}]));return b},polygon:function(a){var c,d,b=[];for(c=0,d=a.components.length;d>c;++c)b.push(this.extract.linestring.apply(this,[{components:a.components[c]}]));return b},multipolygon:function(a){var c,d,b=[];for(c=0,d=a.components.length;d>c;++c)b.push(this.extract.polygon.apply(this,[{components:a.components[c]}]));return b},collection:function(a){var d,b=a.components.length,c=new Array(b);for(d=0;b>d;++d)c[d]=this.extract.geometry.apply(this,[{type:"Collection",components:a.components[d]}]);return c}},d.CLASS_NAME="SuperMap.Format.GeoJSON",e=c,A(d,e)}return B(b,a),d(b,[{key:"read",value:function(a,c,d){var f,h,j,k,l;if(c=c?c:"FeatureCollection",f=null,h=null,h="string"==typeof a?e(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"read",this).call(this,a,d):a){if("string"!=typeof h.type);else if(this.isValidType(h,c))switch(c){case"Geometry":try{f=this.parseGeometry(h)}catch(i){}break;case"Feature":try{f=this.parseFeature(h),f.type="Feature"}catch(i){}break;case"FeatureCollection":switch(f=[],h.type){case"Feature":try{f.push(this.parseFeature(h))}catch(i){f=null}break;case"FeatureCollection":for(j=0,k=h.features.length;k>j;++j)try{f.push(this.parseFeature(h.features[j]))}catch(i){f=null}break;default:try{l=this.parseGeometry(h),f.push(new g["default"].Feature.Vector(l))}catch(i){f=null}}}}else;return f}},{key:"isValidType",value:function(a,b){var c=!1;switch(b){case"Geometry":-1==g["default"].Util.indexOf(["Point","MultiPoint","LineString","MultiLineString","Polygon","MultiPolygon","Box","GeometryCollection"],a.type)||(c=!0);break;case"FeatureCollection":c=!0;break;default:a.type==b&&(c=!0)}return c}},{key:"parseFeature",value:function(a){var b,c,d,e;d=a.properties?a.properties:{},e=a.geometry&&a.geometry.bbox||a.bbox;try{c=this.parseGeometry(a.geometry)}catch(f){throw f}return b=new g["default"].Feature.Vector(c,d),e&&(b.bounds=g["default"].Bounds.fromArray(e)),a.id&&(b.fid=a.id),b}},{key:"parseGeometry",value:function(a){var b,c,d,e,f;if(null==a)return null;if(c=!1,"GeometryCollection"==a.type){if(!g["default"].Util.isArray(a.geometries))throw"GeometryCollection must have geometries array: "+a;for(d=a.geometries.length,e=new Array(d),f=0;d>f;++f)e[f]=this.parseGeometry.apply(this,[a.geometries[f]]);b=new g["default"].Geometry.Collection(e),c=!0}else{if(!g["default"].Util.isArray(a.coordinates))throw"Geometry must have coordinates array: "+a;if(!this.parseCoords[a.type.toLowerCase()])throw"Unsupported geometry type: "+a.type;try{b=this.parseCoords[a.type.toLowerCase()].apply(this,[a.coordinates])}catch(h){throw h}}return b}},{key:"write",value:function(a,c){function k(a){return a.hasOwnProperty("parts")&&a.hasOwnProperty("points")}var f,h,i,j,d={type:null};if(g["default"].Util.isArray(a))for(d.type="FeatureCollection",f=a.length,d.features=new Array(f),h=0;f>h;++h)i=a[h],k(i)?(j={},j.geometry=i,d.features[h]=this.extract.feature.apply(this,[j])):d.features[h]=this.extract.feature.apply(this,[i]);else k(a)&&(j={},j.geometry=a,d=this.extract.feature.apply(this,[j]));return e(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"write",this).call(this,d,c)}},{key:"createCRSObject",value:function(a){var d,b=a.layer.projection.toString(),c={};return b.match(/epsg:/i)&&(d=parseInt(b.substring(b.indexOf(":")+1)),c=4326==d?{type:"name",properties:{name:"urn:ogc:def:crs:OGC:1.3:CRS84"}}:{type:"name",properties:{name:"EPSG:"+d}}),c}},{key:"createAttributes",value:function(a){function e(a,b){var c,d,e;if(a.hasOwnProperty("fieldNames")&&a.hasOwnProperty("fieldValues")){c=a.fieldNames,d=a.fieldValues;for(e in c)b[c[e]]=d[e]}}var b,c,d;if(!a)return null;b={},e(a,b),c=["fieldNames","fieldValues","geometry"];for(d in a)c.indexOf(d)>-1||(b[d]=a[d]);return b}},{key:"toGeometry",value:function(a){var b=this,c=a.type;switch("polygon"===c&&(c=x.GeometryType.REGION),c.toUpperCase()){case x.GeometryType.POINT:return b.toGeoPoint(a);case x.GeometryType.LINE:return b.toGeoLine(a);case x.GeometryType.LINEM:return b.toGeoLinem(a);case x.GeometryType.REGION:return b.toGeoRegion(a);case x.GeometryType.POINTEPS:return b.toGeoPoint(a);default:return a}}},{key:"toGeoPoint",value:function(a){var e,f,b=a.points||[],c=a.parts||[b.length],d=c.length;if(1>d)return null;if(1===d)return{type:"Point",x:parseFloat(b[0].x),y:parseFloat(b[0].y)};for(e=0,f=[];d>e;e++)f.push({x:parseFloat(b[e].x),y:parseFloat(b[e].y)});return{type:"MultiPoint",components:f}}},{key:"toGeoLine",value:function(a){var f,g,h,i,j,k,b=this,c=a.points||[],d=a.parts||[c.length],e=d.length;if(1>e)return null;if(1===e){for(f=0,g=[];f<d[0];f++)g.push({x:parseFloat(c[f].x),y:parseFloat(c[f].y)});return b.isPointsEquals(g[0],g[d[0]-1])&&(g.pop(),g.push(g[0])),{type:"LineString",components:g}}for(h=0,i=[];e>h;h++){for(j=0,k=[];j<d[h];j++)k.push({x:parseFloat(c[j].x),y:parseFloat(c[j].y)});i.push(k),c.splice(0,d[h])}return{type:"MultiLineString",components:i}}},{key:"toGeoLinem",value:function(a){var h,i,j,k,b=this,c=a.points||[],d=a.parts||[c.length],e=d.length,f=[];if(1>e)return null;for(h=0,i=0,j=[];e>h;h++){for(k=0;k<d[h];k++)j.push({x:parseFloat(c[i+k].x),y:parseFloat(c[i+k].y),measure:parseFloat(c[i+k].measure)});i+=d[h],b.isPointsEquals(j[0],j[d[0]-1])&&(j.pop(),j.push(j[0])),f.push(j),j=[]}return{type:"MultiLineString",components:f}}},{key:"toGeoRegion",value:function(a){var f,g,h,i,j,k,l,m,n,b=[],c=a.points||[],d=a.parts||[c.length],e=d.length;if(1>e)return null;for(f=new Array,g=0,h=0,i=[];e>g;g++){for(j=0;j<d[g];j++)i.push({x:parseFloat(c[h+j].x),y:parseFloat(c[h+j].y)});if(h+=d[g],k=i.concat(),k.pop(),k.push(k[0]),this.isClockWise(k)>0?b.push(k):f.push([k]),g===e-1)if(l=f.length)f[l-1]=f[l-1].concat(b);else for(m=0,n=b.length;n>m;m++)f.push([b[m]].concat());i=[]}return{type:"MultiPolygon",components:f}}},{key:"isClockWise",value:function(a){var c,d,b=a.length;if(3>b)return 0;for(c=a[0].y*(a[b-1].x-a[1].x),a.push(a[0]),d=1;b>d;d++)c+=a[d].y*(a[d-1].x-a[d+1].x);return.5*c}},{key:"isPointsEquals",value:function(a,b){return a.x===b.x&&a.y===b.y}}]),b}(i["default"]),b["default"]=C,g["default"].Format.GeoJSON=C},function(a,b,c){"use strict";function j(a){return a&&a.__esModule?a:{"default":a}}function k(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function l(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function m(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}var d,e,f,g,h,i,n;Object.defineProperty(b,"__esModule",{value:!0}),d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},e=function(){function a(a,b){var c,d;for(c=0;c<b.length;c++)d=b[c],d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=c(0),g=j(f),h=c(34),i=j(h),n=function(a){function b(){var a,c,d,e,f,h,i;for(k(this,b),f=arguments.length,h=Array(f),i=0;f>i;i++)h[i]=arguments[i];return c=d=l(this,(a=b.__proto__||Object.getPrototypeOf(b)).call.apply(a,[this].concat(h))),d.indent="    ",d.space=" ",d.newline="\n",d.level=0,d.pretty=!1,d.nativeJSON=function(){return!(!window.JSON||"function"!=typeof JSON.parse||"function"!=typeof JSON.stringify)}(),d.serialize={object:function(a){var b,c,d,e,f;if(null==a)return"null";if(a.constructor===Date)return this.serialize.date.apply(this,[a]);if(a.constructor===Array)return this.serialize.array.apply(this,[a]);b=["{"],this.level+=1,f=!1;for(c in a)a.hasOwnProperty(c)&&(d=g["default"].Format.JSON.prototype.write.apply(this,[c,this.pretty]),e=g["default"].Format.JSON.prototype.write.apply(this,[a[c],this.pretty]),null!=d&&null!=e&&(f&&b.push(","),b.push(this.writeNewline(),this.writeIndent(),d,":",this.writeSpace(),e),f=!0));return this.level-=1,b.push(this.writeNewline(),this.writeIndent(),"}"),b.join("")},array:function(a){var b,d,e,c=["["];for(this.level+=1,d=0,e=a.length;e>d;++d)b=g["default"].Format.JSON.prototype.write.apply(this,[a[d],this.pretty]),null!=b&&(d>0&&c.push(","),c.push(this.writeNewline(),this.writeIndent(),b));return this.level-=1,c.push(this.writeNewline(),this.writeIndent(),"]"),c.join("")},string:function(a){var b={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};return/["\\\x00-\x1f]/.test(a)?'"'+a.replace(/([\x00-\x1f\\"])/g,function(a,c){var d=b[c];return d?d:(d=c.charCodeAt(),"\\u00"+Math.floor(d/16).toString(16)+(d%16).toString(16))})+'"':'"'+a+'"'},number:function(a){return isFinite(a)?String(a):"null"},"boolean":function(a){return String(a)},date:function(a){function b(a){return 10>a?"0"+a:a}return'"'+a.getFullYear()+"-"+b(a.getMonth()+1)+"-"+b(a.getDate())+"T"+b(a.getHours())+":"+b(a.getMinutes())+":"+b(a.getSeconds())+'"'}},d.CLASS_NAME="SuperMap.Format.JSON",e=c,l(d,e)}return m(b,a),e(b,[{key:"read",value:function(a,b){var c;if(this.nativeJSON)try{c=JSON.parse(a,b)}catch(d){}return this.keepData&&(this.data=c),c}},{key:"write",value:function(a,b){var c,e;if(this.pretty=!!b,c=null,e="undefined"==typeof a?"undefined":d(a),this.serialize[e])try{c=!this.pretty&&this.nativeJSON?JSON.stringify(a):this.serialize[e].apply(this,[a])}catch(f){}return c}},{key:"writeIndent",value:function(){var b,a=[];if(this.pretty)for(b=0;b<this.level;++b)a.push(this.indent);return a.join("")}},{key:"writeNewline",value:function(){return this.pretty?this.newline:""}},{key:"writeSpace",value:function(){return this.pretty?this.space:""}}]),b}(i["default"]),b["default"]=n,g["default"].Format.JSON=n},function(a,b,c){"use strict";function i(a){return a&&a.__esModule?a:{"default":a}}function j(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function k(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function l(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}var d,e,f,g,h,m;Object.defineProperty(b,"__esModule",{value:!0}),d=function(){function a(a,b){var c,d;for(c=0;c<b.length;c++)d=b[c],d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=i(e),g=c(34),h=i(g),m=function(a){function b(a){j(this,b);var c=k(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));return c.extract={point:function(a){return a.x+" "+a.y},multipoint:function(a){var c,d,b=[];for(c=0,d=a.components.length;d>c;++c)b.push("("+this.extract.point.apply(this,[a.components[c]])+")");return b.join(",")},linestring:function(a){var c,d,b=[];for(c=0,d=a.components.length;d>c;++c)b.push(this.extract.point.apply(this,[a.components[c]]));return b.join(",")},multilinestring:function(a){var c,d,b=[];for(c=0,d=a.components.length;d>c;++c)b.push("("+this.extract.linestring.apply(this,[a.components[c]])+")");return b.join(",")},polygon:function(a){var c,d,b=[];for(c=0,d=a.components.length;d>c;++c)b.push("("+this.extract.linestring.apply(this,[a.components[c]])+")");return b.join(",")},multipolygon:function(a){var c,d,b=[];for(c=0,d=a.components.length;d>c;++c)b.push("("+this.extract.polygon.apply(this,[a.components[c]])+")");return b.join(",")},collection:function(a){var c,d,b=[];for(c=0,d=a.components.length;d>c;++c)b.push(this.extractGeometry.apply(this,[a.components[c]]));return b.join(",")}},c.parse={point:function(a){var b=f["default"].String.trim(a).split(this.regExes.spaces);return new f["default"].Feature.Vector(new Supermap.Point(b[0],b[1]))},multipoint:function(a){var b,e,g,c=f["default"].String.trim(a).split(","),d=[];for(e=0,g=c.length;g>e;++e)b=c[e].replace(this.regExes.trimParens,"$1"),d.push(this.parse.point.apply(this,[b]).geometry);return new f["default"].Feature.Vector(new Supermap.MultiPoint(d))},linestring:function(a){var d,e,b=f["default"].String.trim(a).split(","),c=[];for(d=0,e=b.length;e>d;++d)c.push(this.parse.point.apply(this,[b[d]]).geometry);return new f["default"].Feature.Vector(new Supermap.LineString(c))},multilinestring:function(a){var b,e,g,c=f["default"].String.trim(a).split(this.regExes.parenComma),d=[];for(e=0,g=c.length;g>e;++e)b=c[e].replace(this.regExes.trimParens,"$1"),d.push(this.parse.linestring.apply(this,[b]).geometry);return new f["default"].Feature.Vector(new Supermap.MultiLineString(d))},polygon:function(a){var b,c,d,h,i,e=f["default"].String.trim(a).split(this.regExes.parenComma),g=[];for(h=0,i=e.length;i>h;++h)b=e[h].replace(this.regExes.trimParens,"$1"),c=this.parse.linestring.apply(this,[b]).geometry,d=new Supermap.LinearRing(c.components),g.push(d);return new f["default"].Feature.Vector(new Supermap.Polygon(g))},multipolygon:function(a){var b,e,g,c=f["default"].String.trim(a).split(this.regExes.doubleParenComma),d=[];for(e=0,g=c.length;g>e;++e)b=c[e].replace(this.regExes.trimParens,"$1"),d.push(this.parse.polygon.apply(this,[b]).geometry);return new f["default"].Feature.Vector(new Supermap.MultiPolygon(d))},geometrycollection:function(a){var c,d,e,g;for(a=a.replace(/,\s*([A-Za-z])/g,"|$1"),c=f["default"].String.trim(a).split("|"),d=[],e=0,g=c.length;g>e;++e)d.push(b.read(c[e]));return d}},c.CLASS_NAME="SuperMap.Format.WKT",c.regExes={typeStr:/^\s*(\w+)\s*\(\s*(.*)\s*\)\s*$/,spaces:/\s+/,parenComma:/\)\s*,\s*\(/,doubleParenComma:/\)\s*\)\s*,\s*\(\s*\(/,trimParens:/^\s*\(?(.*?)\)?\s*$/},c}return l(b,a),d(b,[{key:"read",value:function(a){var b,c,d,e;return a=a.replace(/[\n\r]/g," "),e=this.regExes.typeStr.exec(a),e&&(c=e[1].toLowerCase(),d=e[2],this.parse[c]&&(b=this.parse[c].apply(this,[d]))),b}},{key:"write",value:function(a){var b,c,f,g,h,i;for(a.constructor===Array?(b=a,f=!0):(b=[a],f=!1),g=[],f&&g.push("GEOMETRYCOLLECTION("),h=0,i=b.length;i>h;++h)f&&h>0&&g.push(","),c=b[h].geometry,g.push(this.extractGeometry(c));return f&&g.push(")"),g.join("")}},{key:"extractGeometry",value:function(a){var c,d,b=a.CLASS_NAME.split(".")[2].toLowerCase();return this.extract[b]?(c="collection"===b?"GEOMETRYCOLLECTION":b.toUpperCase(),d=c+"("+this.extract[b].apply(this,[a])+")"):null}}]),b}(h["default"]),b["default"]=m,f["default"].Format.WKT=m},function(a,b,c){"use strict";function i(a){return a&&a.__esModule?a:{"default":a}}function j(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function k(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function l(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}var d,e,f,g,h,m;Object.defineProperty(b,"__esModule",{value:!0}),d=function(){function a(a,b){var c,d;for(c=0;c<b.length;c++)d=b[c],d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=i(e),g=c(3),h=i(g),m=function(a){function b(a){j(this,b);var c=k(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));return c.measure=null,c.CLASS_NAME="SuperMap.PointWithMeasure",a&&f["default"].Util.extend(c,a),c}return l(b,a),d(b,[{key:"equals",value:function c(a){var b,d,e,c=!1;return null!=a&&(b=this.x===a.x&&this.y===a.y&&this.measure===a.measure,d=isNaN(this.x)&&isNaN(this.y)&&isNaN(this.measure),e=isNaN(a.x)&&isNaN(a.y)&&isNaN(a.measure),c=b||d&&e),c}},{key:"destroy",value:function(){var a=this;a.measure=null,a.x=null,a.y=null}}],[{key:"fromJson",value:function(a){return a?new f["default"].PointWithMeasure({x:a.x,y:a.y,measure:a.measure}):void 0}}]),b}(h["default"]),b["default"]=m,f["default"].PointWithMeasure=m},function(a,b,c){"use strict";function k(a){return a&&a.__esModule?a:{"default":a}}function l(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function m(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function n(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}var d,e,f,g,h,i,j,o;Object.defineProperty(b,"__esModule",{value:!0}),d=function(){function a(a,b){var c,d;for(c=0;c<b.length;c++)d=b[c],d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=k(e),g=c(62),h=k(g),i=c(4),j=k(i),o=function(a){function b(a,c){l(this,b);var d=m(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c));return d.id=null,d.center=null,d.style=null,d.length=null,d.maxM=null,d.minM=null,d.parts=null,d.points=null,d.type=null,d.componentTypes=["SuperMap.Geometry.LinearRing","SuperMap.Geometry.LineString"],d.CLASS_NAME="SuperMap.Route",c&&f["default"].Util.extend(d,c),d}return n(b,a),d(b,[{key:"toJson",value:function(){var b,c,d,e,f,a="{";if(null!=this.id&&void 0!=this.id&&(a+='"id":'+this.id+","),null!=this.center&&void 0!=this.center&&(a+='"center":'+this.center+","),null!=this.style&&void 0!=this.style&&(a+='"style":'+this.style+","),null!=this.length&&void 0!=this.length&&(a+='"length":'+this.length+","),null!=this.maxM&&void 0!=this.maxM&&(a+='"maxM":'+this.maxM+","),null!=this.minM&&void 0!=this.minM&&(a+='"minM":'+this.minM+","),null!=this.type&&void 0!=this.type&&(a+='"type":"'+this.type+'",'),null!=this.parts&&void 0!=this.parts){for(a+='"parts":['+this.parts[0],b=1;b<this.parts.length;b++)a+=","+this.parts[b];a+="],"}if(null!=this.components&&this.components.length>0){for(a+='"points":[',c=0,d=this.components.length;d>c;c++)for(e=0,f=this.components[c].components.length;f>e;e++)a+=this.components[c].components[e].toJson()+",";a=a.replace(/,$/g,""),a+="]"}return a=a.replace(/,$/g,""),a+="}"}},{key:"destroy",value:function(){var a=this;a.id=null,a.center=null,a.style=null,a.length=null,a.maxM=null,a.minM=null,a.type=null,a.parts=null,a.components.length=0,a.components=null,a.componentTypes=null}}],[{key:"fromJson",value:function(a){var c,d,e,g,i,j,k,l;if(a){if(c=a.parts||[],d=a.points||[],e=c.length,g=[],!(e>0))return null;for(i=0,j=0,k=[];e>i;i++){for(l=0;l<c[i];l++)k.push(h["default"].fromJson(d[j+l]));j+=c[i],k[0].equals(k[c[i]-1])?g.push(new f["default"].Geometry.LinearRing(k)):g.push(new f["default"].Geometry.LineString(k)),k=[]}return new b(g,{id:a.id,center:a.center,style:a.style,length:a.length,maxM:a.maxM,minM:a.minM,type:a.type,parts:a.parts})}}}]),b}(j["default"]),b["default"]=o,f["default"].Route=o},function(a,b,c){"use strict";function g(a){return a&&a.__esModule?a:{"default":a}}function h(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var d,e,f,i;Object.defineProperty(b,"__esModule",{value:!0}),d=function(){function a(a,b){var c,d;for(c=0;c<b.length;c++)d=b[c],d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=g(e),i=function(){function a(b,c,d){h(this,a),this.red=255,this.green=0,this.blue=0,this.CLASS_NAME="SuperMap.ServerColor",this.red=b||0==b?b:255,this.green=c||0==c?c:0,this.blue=d||0==d?d:0}return d(a,[{key:"destroy",value:function(){var a=this;a.red=null,a.green=null,a.blue=null}}],[{key:"fromJson",value:function(b){var c,d,e,f;if(b)return c=new a,d=255,null!==b.red&&(d=Number(b.red)),c.red=d,e=0,null!==b.green&&(e=Number(b.green)),c.green=e,f=0,null!==b.blue&&(f=Number(b.blue)),c.blue=f,c}}]),a}(),b["default"]=i,f["default"].ServerColor=i},function(a,b,c){"use strict";function i(a){return a&&a.__esModule?a:{"default":a}}function j(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var d,e,f,g,h,k;Object.defineProperty(b,"__esModule",{value:!0}),d=function(){function a(a,b){var c,d;for(c=0;c<b.length;c++)d=b[c],d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=i(e),g=c(64),h=i(g),k=function(){function a(b){j(this,a),this.fillBackColor=null,this.fillBackOpaque=!1,this.fillForeColor=null,this.fillGradientMode=null,this.fillGradientAngle=0,this.fillGradientOffsetRatioX=0,this.fillGradientOffsetRatioY=0,this.fillOpaqueRate=100,this.fillSymbolID=0,this.lineColor=null,this.lineSymbolID=0,this.lineWidth=1,this.markerAngle=0,this.markerSize=1,this.markerSymbolID=-1,this.CLASS_NAME="SuperMap.ServerStyle";var c=this;c.fillBackColor=new h["default"](255,255,255),c.fillForeColor=new h["default"](255,0,0),c.lineColor=new h["default"](0,0,0),b&&f["default"].Util.extend(this,b)}return d(a,[{key:"destroy",value:function(){var a=this;
    a.fillBackColor&&(a.fillBackColor.destroy(),a.fillBackColor=null),a.fillBackOpaque=null,a.fillForeColor&&(a.fillForeColor.destroy(),a.fillForeColor=null),a.fillGradientMode=null,a.fillGradientAngle=null,a.fillGradientOffsetRatioX=null,a.fillGradientOffsetRatioY=null,a.fillOpaqueRate=null,a.fillSymbolID=null,a.lineColor&&(a.lineColor.destroy(),a.lineColor=null),a.lineSymbolID=null,a.lineWidth=null,a.markerAngle=null,a.markerSize=null,a.markerSymbolID=null}},{key:"toServerJSONObject",value:function(){var a={};return a=f["default"].Util.copyAttributes(a,this)}}],[{key:"fromJson",value:function(a){return a?new f["default"].ServerStyle({fillBackColor:h["default"].fromJson(a.fillBackColor),fillBackOpaque:a.fillBackOpaque,fillForeColor:h["default"].fromJson(a.fillForeColor),fillGradientMode:a.fillGradientMode,fillGradientAngle:a.fillGradientAngle,fillGradientOffsetRatioX:a.fillGradientOffsetRatioX,fillGradientOffsetRatioY:a.fillGradientOffsetRatioY,fillOpaqueRate:a.fillOpaqueRate,fillSymbolID:a.fillSymbolID,lineColor:h["default"].fromJson(a.lineColor),lineSymbolID:a.lineSymbolID,lineWidth:a.lineWidth,markerAngle:a.markerAngle,markerSize:a.markerSize,markerSymbolID:a.markerSymbolID}):void 0}}]),a}(),b["default"]=k,f["default"].ServerStyle=k},function(a,b,c){"use strict";function h(a){return a&&a.__esModule?a:{"default":a}}function i(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var d,e,f,g,j;Object.defineProperty(b,"__esModule",{value:!0}),d=function(){function a(a,b){var c,d;for(c=0;c<b.length;c++)d=b[c],d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=h(e),g=c(6),j=function(){function a(b){i(this,a),this.name=null,this.serviceIds=null,this.clientType=g.ClientType.SERVER,this.limitation=null,this.CLASS_NAME="SuperMap.KeyServiceParameter",f["default"].Util.extend(this,b)}return d(a,[{key:"toJSON",value:function(){return{name:this.name,serviceIds:this.serviceIds,clientType:this.clientType,limitation:this.limitation}}}]),a}(),b["default"]=j,f["default"].KeyServiceParameter=j},function(a,b,c){"use strict";function m(a){return a&&a.__esModule?a:{"default":a}}var h,j,l,d=c(0),e=m(d),f=c(68);m(f),h=c(69),m(h),j=c(66),m(j),l=c(70),e["default"].SecurityManager={INNER_WINDOW_WIDTH:600,INNER_WINDOW_HEIGHT:600,generateToken:function(a,b){var c=this.servers[a];if(c)return l.FetchRequest.post(c.tokenServiceUrl,JSON.stringify(b.toJSON())).then(function(a){return a.text()})},registerServers:function(a){var b,c;for(this.servers=this.servers||{},e["default"].Util.isArray(a)||(a=[a]),b=0;b<a.length;b++)c=a[b],this.servers[c.server]=c},registerToken:function(a,b){if(this.tokens=this.tokens||{},a&&b){var c=this._getTokenStorageKey(a);this.tokens[c]=b}},registerKey:function(a,b){var c,d;if(this.keys=this.keys||{},a&&!(a.length<1)&&b)for(a=e["default"].Util.isArray(a)?a:[a],c=0;c<a.length;c++)d=this._getUrlRestString(a[0])||a[0],this.keys[d]=b},getServerInfo:function(a){return this.servers=this.servers||{},this.servers[a]},getToken:function(a){if(a){this.tokens=this.tokens||{};var b=this._getTokenStorageKey(a);return this.tokens[b]}},getKey:function(a){this.keys=this.keys||{};var b=this._getUrlRestString(a)||a;return this.keys[b]},loginOnline:function(a,b){var c=e["default"].SecurityManager.SSO+"/login?service="+a;this._open(c,b)},loginiPortal:function(a,b,c){var e,f,d=a.substr(a.length-1,1);return a+="/"===d?"web/login.json":"/web/login.json",e={username:b&&b.toString(),password:c&&c.toString()},e=JSON.stringify(e),f={headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"},withCredentials:!0},l.FetchRequest.post(a,e,f).then(function(a){return a.json()})},logoutiPortal:function(a){var c,b=a.substr(a.length-1,1);return a+="/"===b?"services/security/logout":"/services/security/logout",c={headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"},withCredentials:!0,withoutFormatSuffix:!0},l.FetchRequest.get(a,"",c).then(function(){return!0})["catch"](function(){return!1})},loginManager:function(a,b,c){var d,f,g,h,i,j,k;return e["default"].Util.isInTheSameDomain(a)?(f=a.substr(a.length-1,1),g="/"===f?a+"icloud/security/tokens.json":a+"/icloud/security/tokens.json",h=b||{},i={username:h.userName&&h.userName.toString(),password:h.password&&h.password.toString()},i=JSON.stringify(i),j={headers:{Accept:"*/*","Content-Type":"application/json"}},k=this,l.FetchRequest.post(g,i,j).then(function(a){a.text().then(function(a){return k.imanagerToken=a,a})})):(d=c?c.isNewTab:!0,this._open(a,d),void 0)},destroyAllCredentials:function(){this.keys=null,this.tokens=null,this.servers=null},destroyToken:function(a){if(a){var b=this._getTokenStorageKey(a);this.tokens=this.tokens||{},this.tokens[b]&&delete this.tokens[b]}},destroyKey:function(a){if(a){this.keys=this.keys||{};var b=this._getUrlRestString(a)||a;this.keys[b]&&delete this.keys[b]}},_open:function(a,b){var c,d,e;b=null!=b?b:!0,c=window.screen.availWidth/2-this.INNER_WINDOW_WIDTH/2,d=window.screen.availHeight/2-this.INNER_WINDOW_HEIGHT/2,e="height="+this.INNER_WINDOW_HEIGHT+", width="+this.INNER_WINDOW_WIDTH+",top="+d+", left="+c+",toolbar=no, menubar=no, scrollbars=no, resizable=no, location=no, status=no",b?window.open(a,"login"):window.open(a,"login",e)},_getTokenStorageKey:function(a){var b=/(.*?):\/\/([^\/]+)/i,c=a.match(b);return c?c[0]:a},_getUrlRestString:function(a){var b,c;return a?(b=/http:\/\/(.*\/rest)/i,c=a.match(b),c?c[0]:a):a}},e["default"].SecurityManager.SSO="https://sso.supermap.com",e["default"].SecurityManager.ONLINE="http://www.supermapol.com"},function(a,b,c){"use strict";function g(a){return a&&a.__esModule?a:{"default":a}}function h(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var d,e,f,i;Object.defineProperty(b,"__esModule",{value:!0}),d=c(0),e=g(d),f=c(6),i=function j(a,b){h(this,j),this.type=null,this.server=null,this.tokenServiceUrl=null,this.keyServiceUrl=null,this.CLASS_NAME="SuperMap.ServerInfo",this.type=a||f.ServerType.ISERVER,e["default"].Util.extend(this,b),this.server||console.error("server url require is not  undefined");var c="/services/security/tokens.json";this.type===f.ServerType.ISERVER&&this.server.indexOf("iserver")<0&&(c="/iserver"+c),this.tokenServiceUrl||(this.tokenServiceUrl=this.server+c),this.keyServiceUrl||(this.type===f.ServerType.IPORTAL?this.keyServiceUrl=this.server+"/web/mycontent/keys/register.json":this.type===f.ServerType.ONLINE&&(this.keyServiceUrl=this.server+"/web/mycontent/keys.json"))},b["default"]=i,e["default"].ServerInfo=i},function(a,b,c){"use strict";function h(a){return a&&a.__esModule?a:{"default":a}}function i(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var d,e,f,g,j;Object.defineProperty(b,"__esModule",{value:!0}),d=function(){function a(a,b){var c,d;for(c=0;c<b.length;c++)d=b[c],d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=h(e),g=c(6),j=function(){function a(b){i(this,a),this.userName=null,this.password=null,this.clientType=g.ClientType.NONE,this.ip=null,this.referer=null,this.expiration=60,this.CLASS_NAME="SuperMap.TokenServiceParameter",f["default"].Util.extend(this,b)}return d(a,[{key:"toJSON",value:function(){return{userName:this.userName,password:this.password,clientType:this.clientType,ip:this.ip,referer:this.referer,expiration:this.expiration}}}]),a}(),b["default"]=j,f["default"].TokenServiceParameter=j},function(a,b,c){"use strict";function k(a){return a&&a.__esModule?a:{"default":a}}var d,e,f,g,h,i,j,l;Object.defineProperty(b,"__esModule",{value:!0}),b.FetchRequest=b.Support=void 0,d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},c(71),e=c(52),f=k(e),g=c(46),h=k(g),i=c(0),j=k(i),l=b.Support=j["default"].Support=j["default"].Support||{cors:window.XMLHttpRequest&&"withCredentials"in new window.XMLHttpRequest},b.FetchRequest=j["default"].FetchRequest={commit:function(a,b,c,d){switch(a=a?a.toUpperCase():a){case"GET":return this.get(b,c,d);case"POST":return this.post(b,c,d);case"PUT":return this.put(b,c,d);case"DELETE":return this["delete"](b,c,d);default:return this.get(b,c,d)}},get:function(a,b,c){c=c||{};var d="GET";if(a=this._processUrl(a,c),a=j["default"].Util.urlAppend(a,this._getParameterString(b||{})),!this.urlIsLong(a)){if(j["default"].Util.isInTheSameDomain(a)||l.cors||c.proxy)return this._fetch(a,b,c,d);if(!j["default"].Util.isInTheSameDomain(a))return a=a.replace(".json",".jsonp"),this._fetchJsonp(a,c)}return this._postSimulatie(d,a.substring(0,a.indexOf("?")-1),b,c)},"delete":function(a,b,c){c=c||{};var d="DELETE";return a=this._processUrl(a,c),a=j["default"].Util.urlAppend(a,this._getParameterString(b||{})),!this.urlIsLong(a)&&l.cors?this._fetch(a,b,c,d):this._postSimulatie(d,a.substring(0,a.indexOf("?")-1),b,c)},post:function(a,b,c){return c=c||{},this._fetch(this._processUrl(a,c),b,c,"POST")},put:function(a,b,c){return c=c||{},this._fetch(this._processUrl(a,c),b,c,"PUT")},urlIsLong:function(a){var d,e,b=0,c=null;for(d=0,e=a.length;e>d;d++)c=a.charCodeAt(d),127>c?b++:c>=128&&2047>=c?b+=2:c>=2048&&65535>=c&&(b+=3);return 2e3>b?!1:!0},_postSimulatie:function(a,b,c,d){var e=b.indexOf("?")>-1?"&":"?";return b+=e+"_method= "+a,this.post(b,c,d)},_processUrl:function(a,b){if(this._isMVTRequest(a))return a;if(-1===a.indexOf(".json")&&!b.withoutFormatSuffix)if(a.indexOf("?")<0)a+=".json";else{var c=a.split("?");2===c.length&&(a=c[0]+".json?"+c[1])}return b&&b.proxy&&("function"==typeof b.proxy?a=b.proxy(a):(a=decodeURIComponent(a),a=b.proxy+encodeURIComponent(a))),a},_fetch:function(a,b,c,d){return c=c||{},c.headers=c.headers||{},c.headers["Content-Type"]||(c.headers["Content-Type"]="application/x-www-form-urlencoded;charset=UTF-8"),c.timeout?this._timeout(c.timeout,f["default"](a,{method:d,headers:c.headers,body:"PUT"===d||"POST"===d?b:void 0,credentials:c.withCredentials?"include":"omit",mode:"cors"}).then(function(a){return a})):f["default"](a,{method:d,body:"PUT"===d||"POST"===d?b:void 0,headers:c.headers,credentials:c.withCredentials?"include":"omit",mode:"cors"}).then(function(a){return a})["catch"](function(a){return a})},_fetchJsonp:function(a,b){return b=b||{},h["default"](a,{method:"GET",timeout:b.timeout}).then(function(a){return a})},_timeout:function(a,b){return new Promise(function(c,d){setTimeout(function(){d(new Error("timeout"))},a),b.then(c,d)})},_getParameterString:function(a){var c,e,f,g,h,i,j,b=[];for(c in a)if(e=a[c],null!=e&&"function"!=typeof e){if("object"===("undefined"==typeof e?"undefined":d(e))&&e.constructor===Array){for(g=[],i=0,j=e.length;j>i;i++)h=e[i],g.push(encodeURIComponent(null===h||void 0===h?"":h));f="["+g.join(",")+"]"}else f=encodeURIComponent(e);b.push(encodeURIComponent(c)+"="+f)}return b.join("&")},_isMVTRequest:function(a){return a.indexOf(".mvt")>-1||a.indexOf(".pbf")>-1}}},function(a,b,c){"use strict";function f(a){return a&&a.__esModule?a:{"default":a}}var d=c(49),e=f(d);window.Promise=e["default"]},function(a,b,c){"use strict";function f(a){return a&&a.__esModule?a:{"default":a}}var d,e,g,h,i,j,k,l;for(Object.defineProperty(b,"__esModule",{value:!0}),b.TianDiTu_MercatorCRS=b.TianDiTu_WGS84CRS=b.BaiduCRS=void 0,d=c(5),e=f(d),g=b.BaiduCRS=e["default"].CRS.Baidu=e["default"].extend({},e["default"].CRS.EPSG3857,{code:"Baidu",scale:function(a){return 2*6378137*Math.PI/Math.pow(2,18-a)},transformation:function(){var a=.5/(6378137*Math.PI);return new e["default"].Transformation(a,0,-a,0)}()}),h=[],i=0;20>i;i++)h.push(1.40625/Math.pow(2,i));for(j=b.TianDiTu_WGS84CRS=e["default"].CRS.TianDiTu_WGS84=e["default"].Proj.CRS("EPSG:4326",{origin:[-180,90],resolutions:h,bounds:e["default"].bounds([-180,-90],[180,90])}),k=[],i=0;20>i;i++)k.push(156543.03392804062/Math.pow(2,i));l=b.TianDiTu_MercatorCRS=e["default"].CRS.TianDiTu_Mercator=e["default"].Proj.CRS("EPSG:3857",{origin:[-20037508.3427892,20037508.3427892],resolutions:k,bounds:e["default"].bounds([-20037508.3427892,-20037508.3427892],[20037508.3427892,20037508.3427892])}),e["default"].CRS.BaiduCRS=g,e["default"].CRS.TianDiTu_WGS84CRS=j,e["default"].CRS.TianDiTu_MercatorCRS=l},function(a,b,c){"use strict";function f(a){return a&&a.__esModule?a:{"default":a}}var d,e,g,h,i,j;Object.defineProperty(b,"__esModule",{value:!0}),b.nonEarthCRS=b.NonEarthCRS=b.nonProjection=b.NonProjection=void 0,c(22),d=c(5),e=f(d),e["default"].Projection={},g=b.NonProjection=e["default"].Class.extend({initialize:function(a){this.bounds=a},project:function(a){return new e["default"].Point(a.lng,a.lat)},unproject:function(a){return new e["default"].LatLng(a.y,a.x)}}),h=b.nonProjection=function(a){return new g(a)},i=b.NonEarthCRS=e["default"].Class.extend({includes:e["default"].CRS,initialize:function(a){a.origin&&(this.transformation=new e["default"].Transformation(1,-a.origin.x,-1,a.origin.y)),this.projection=e["default"].Projection.NonProjection(a.bounds),this.bounds=a.bounds,this.origin=a.origin,this.resolutions=a.resolutions},scale:function(a){var b,c;return this.resolutions&&0!==this.resolutions.length?1/this.resolutions[a]:(b=Math.max(this.bounds.getSize().x,this.bounds.getSize().y),c=1/(b/256),c*Math.pow(2,a))},zoom:function(a){var b,c,d;if(!this.resolutions||0===this.resolutions.length)return b=Math.max(this.bounds.getSize().x,this.bounds.getSize().y),c=1/(b/256),a/c;for(d=0;d<this.resolutions.length;d++)if(1/this.resolutions==a)return d;return-1},distance:function(a,b){var c=b.lng-a.lng,d=b.lat-a.lat;return Math.sqrt(c*c+d*d)},infinite:!0}),j=b.nonEarthCRS=function(a){return new i(a)},e["default"].Projection.NonProjection=h,e["default"].CRS.NonEarthCRS=j},function(a,b,c){"use strict";function i(a){return a&&a.__esModule?a:{"default":a}}var d,e,f,g,j,k;Object.defineProperty(b,"__esModule",{value:!0}),b.crs=b.CRS=void 0,d=c(5),e=i(d),f=c(91),g=i(f),c(36),window.Proj4js=g["default"],e["default"].Proj={},e["default"].Proj._isProj4Obj=function(a){return"undefined"!=typeof a.inverse&&"undefined"!=typeof a.forward},e["default"].Proj.Projection=e["default"].Class.extend({initialize:function(a,b,c){var f,d=e["default"].Proj._isProj4Obj(a);this._proj=d?a:this._projFromCodeDef(a,b),f=c,e["default"].Util.isArray(c)&&(f=e["default"].bounds(c)),this.bounds=d?b:f},project:function(a){var b=this._proj.forward([a.lng,a.lat]);return new e["default"].Point(b[0],b[1])},unproject:function(a,b){var c=this._proj.inverse([a.x,a.y]);return new e["default"].LatLng(c[1],c[0],b)},_projFromCodeDef:function(a,b){if(b)g["default"].defs(a,b);else if(void 0===g["default"].defs[a]){var c=a.split(":");if(c.length>3&&(a=c[c.length-3]+":"+c[c.length-1]),void 0===g["default"].defs[a])throw"No projection definition for code "+a}return g["default"](a)},getUnits:function(){return this._proj.oProj.units}}),j=b.CRS=e["default"].Class.extend({includes:e["default"].CRS,options:{transformation:new e["default"].Transformation(1,0,-1,0)},initialize:function(a,b){var c,d,f,g,h;if(e["default"].Proj._isProj4Obj(a)?(d=a,c=d.srsCode,b=b||{},this.projection=new e["default"].Proj.Projection(d,b.bounds)):(c=a,b=b||{},f=b.def||"",this.projection=new e["default"].Proj.Projection(c,f,b.bounds)),e["default"].Util.setOptions(this,b),this.code=c,this.transformation=this.options.transformation,this.options.bounds,this.options.bounds&&(this.options.bounds=e["default"].bounds(this.options.bounds)),!this.options.origin&&this.options.bounds&&(this.options.origin=[this.options.bounds.min.x,this.options.bounds.max.y]),this.options.origin&&(this.options.origin instanceof e["default"].Point&&(this.options.origin=[this.options.origin.x,this.options.origin.y]),this.transformation=new e["default"].Transformation(1,-this.options.origin[0],-1,this.options.origin[1])),this.options.scales&&this.options.scales.length>0)this._scales=this._toProj4Scales(this.options.scales);else if(this.options.scaleDenominators&&this.options.scaleDenominators.length>0){for(g=[],h=0;h<this.options.scaleDenominators.length;h++)g[h]=1/this.options.scaleDenominators[h];this._scales=this._toProj4Scales(g)}else if(this.options.resolutions&&this.options.resolutions.length>0)for(this._scales=[],h=this.options.resolutions.length-1;h>=0;h--)this.options.resolutions[h]&&(this._scales[h]=1/this.options.resolutions[h]);else this.options.bounds&&(this._scales=this._getDefaultProj4ScalesByBounds(this.options.bounds));this.infinite=!this.options.bounds},scale:function(a){var c,d,e,f,b=Math.floor(a);return a===b?this._scales[a]:(c=this._scales[b],d=this._scales[b+1],e=d-c,f=a-b,c+e*f)},zoom:function(a){var d,e,f,b=this._closestElement(this._scales,a),c=this._scales.indexOf(b);return a===b?c:(e=c+1,d=this._scales[e],void 0===d?1/0:(f=d-b,(a-b)/f+c))},distance:e["default"].CRS.Earth.distance,R:e["default"].CRS.Earth.R,_closestElement:function(a,b){var c,d;for(d=a.length;d--;)a[d]<=b&&(void 0===c||c<a[d])&&(c=a[d]);return c},_toProj4Scales:function(a){var c,d,b=[];if(!a)return b;for(c=0;c<a.length;c++)d=this.projection?this._getMeterPerMapUnit(this.projection.getUnits()):1,b[c]=1/(.0254/(96*a[c])/d);return b},_getMeterPerMapUnit:function(a){var b=6378137,c=1;return"meter"===a?c=1:"degrees"===a?c=2*Math.PI*b/360:"kilometer"===a?c=.001:"inch"===a?c=1/.025399999918:"feet"===a&&(c=.3048),c},_getDefaultProj4ScalesByBounds:function(a){var b,c,d,e,f,g;if(!a)return[];for(b=a.getSize(),c=Math.max(b.x,b.y),d=c/256,e=[],f=23,g=0;f>g;g++)e[g]=Math.pow(2,g)/d;return e}}),k=b.crs=function(a,b){return new j(a,b)},e["default"].Proj.CRS=k},function(a,b,c){function e(a,b,c){if(!(this instanceof e))return new e(a,b,c);if(Array.isArray(a))this.x=a[0],this.y=a[1],this.z=a[2]||0;else if("object"==typeof a)this.x=a.x,this.y=a.y,this.z=a.z||0;else if("string"==typeof a&&"undefined"==typeof b){var d=a.split(",");this.x=parseFloat(d[0],10),this.y=parseFloat(d[1],10),this.z=parseFloat(d[2],10)||0}else this.x=a,this.y=b,this.z=c||0;console.warn("proj4.Point will be removed in version 3, use proj4.toPoint")}var d=c(28);e.fromMGRS=function(a){return new e(d.toPoint(a))},e.prototype.toMGRS=function(a){return d.forward([this.x,this.y],a)},a.exports=e},function(a){a.exports=function(a,b,c){var g,h,i,d=c.x,e=c.y,f=c.z||0;for(i=0;3>i;i++)if(!b||2!==i||void 0!==c.z)switch(0===i?(g=d,h="x"):1===i?(g=e,h="y"):(g=f,h="z"),a.axis[i]){case"e":c[h]=g;break;case"w":c[h]=-g;break;case"n":c[h]=g;break;case"s":c[h]=-g;break;case"u":void 0!==c[h]&&(c.z=g);break;case"d":void 0!==c[h]&&(c.z=-g);break;default:return null}return c}},function(a){var c=Math.PI/2;a.exports=function(a,b){var e,f,g,h,i,j,d=1-(1-a*a)/(2*a)*Math.log((1-a)/(1+a));if(Math.abs(Math.abs(b)-d)<1e-6)return 0>b?-1*c:c;for(e=Math.asin(.5*b),j=0;30>j;j++)if(g=Math.sin(e),h=Math.cos(e),i=a*g,f=Math.pow(1-i*i,2)/(2*h)*(b/(1-a*a)-g/(1-i*i)+.5/a*Math.log((1-i)/(1+i))),e+=f,Math.abs(f)<=1e-10)return e;return 0/0}},function(a){var c=1,d=.25,e=.046875,f=.01953125,g=.01068115234375,h=.75,i=.46875,j=.013020833333333334,k=.007120768229166667,l=.3645833333333333,m=.005696614583333333,n=.3076171875;a.exports=function(a){var o,b=[];return b[0]=c-a*(d+a*(e+a*(f+a*g))),b[1]=a*(h-a*(e+a*(f+a*g))),o=a*a,b[2]=o*(i-a*(j+a*k)),o*=a,b[3]=o*(l-a*m),b[4]=o*a*n,b}},function(a,b,c){var d=c(37),e=1e-10,f=20;a.exports=function(a,b,c){var i,j,k,g=1/(1-b),h=a;for(i=f;i;--i)if(j=Math.sin(h),k=1-b*j*j,k=(d(h,j,Math.cos(h),c)-a)*k*Math.sqrt(k)*g,h-=k,Math.abs(k)<e)return h;return h}},function(a){a.exports=function(a,b){return Math.pow((1-a)/(1+a),b)}},function(a,b){b.wgs84={towgs84:"0,0,0",ellipse:"WGS84",datumName:"WGS84"},b.ch1903={towgs84:"674.374,15.056,405.346",ellipse:"bessel",datumName:"swiss"},b.ggrs87={towgs84:"-199.87,74.79,246.62",ellipse:"GRS80",datumName:"Greek_Geodetic_Reference_System_1987"},b.nad83={towgs84:"0,0,0",ellipse:"GRS80",datumName:"North_American_Datum_1983"},b.nad27={nadgrids:"@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat",ellipse:"clrk66",datumName:"North_American_Datum_1927"},b.potsdam={towgs84:"606.0,23.0,413.0",ellipse:"bessel",datumName:"Potsdam Rauenberg 1950 DHDN"},b.carthage={towgs84:"-263.0,6.0,431.0",ellipse:"clark80",datumName:"Carthage 1934 Tunisia"},b.hermannskogel={towgs84:"653.0,-212.0,449.0",ellipse:"bessel",datumName:"Hermannskogel"},b.ire65={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"mod_airy",datumName:"Ireland 1965"},b.rassadiran={towgs84:"-133.63,-157.5,-158.62",ellipse:"intl",datumName:"Rassadiran"},b.nzgd49={towgs84:"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993",ellipse:"intl",datumName:"New Zealand Geodetic Datum 1949"},b.osgb36={towgs84:"446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894",ellipse:"airy",datumName:"Airy 1830"},b.s_jtsk={towgs84:"589,76,480",ellipse:"bessel",datumName:"S-JTSK (Ferro)"},b.beduaram={towgs84:"-106,-87,188",ellipse:"clrk80",datumName:"Beduaram"},b.gunung_segara={towgs84:"-403,684,41",ellipse:"bessel",datumName:"Gunung Segara Jakarta"},b.rnb72={towgs84:"106.869,-52.2978,103.724,-0.33657,0.456955,-1.84218,1",ellipse:"intl",datumName:"Reseau National Belge 1972"}},function(a,b){b.MERIT={a:6378137,rf:298.257,ellipseName:"MERIT 1983"},b.SGS85={a:6378136,rf:298.257,ellipseName:"Soviet Geodetic System 85"},b.GRS80={a:6378137,rf:298.257222101,ellipseName:"GRS 1980(IUGG, 1980)"},b.IAU76={a:6378140,rf:298.257,ellipseName:"IAU 1976"},b.airy={a:6377563.396,b:6356256.91,ellipseName:"Airy 1830"},b.APL4={a:6378137,rf:298.25,ellipseName:"Appl. Physics. 1965"},b.NWL9D={a:6378145,rf:298.25,ellipseName:"Naval Weapons Lab., 1965"},b.mod_airy={a:6377340.189,b:6356034.446,ellipseName:"Modified Airy"},b.andrae={a:6377104.43,rf:300,ellipseName:"Andrae 1876 (Den., Iclnd.)"},b.aust_SA={a:6378160,rf:298.25,ellipseName:"Australian Natl & S. Amer. 1969"},b.GRS67={a:6378160,rf:298.247167427,ellipseName:"GRS 67(IUGG 1967)"},b.bessel={a:6377397.155,rf:299.1528128,ellipseName:"Bessel 1841"},b.bess_nam={a:6377483.865,rf:299.1528128,ellipseName:"Bessel 1841 (Namibia)"},b.clrk66={a:6378206.4,b:6356583.8,ellipseName:"Clarke 1866"},b.clrk80={a:6378249.145,rf:293.4663,ellipseName:"Clarke 1880 mod."},b.clrk58={a:6378293.645208759,rf:294.2606763692654,ellipseName:"Clarke 1858"},b.CPM={a:6375738.7,rf:334.29,ellipseName:"Comm. des Poids et Mesures 1799"},b.delmbr={a:6376428,rf:311.5,ellipseName:"Delambre 1810 (Belgium)"},b.engelis={a:6378136.05,rf:298.2566,ellipseName:"Engelis 1985"},b.evrst30={a:6377276.345,rf:300.8017,ellipseName:"Everest 1830"},b.evrst48={a:6377304.063,rf:300.8017,ellipseName:"Everest 1948"},b.evrst56={a:6377301.243,rf:300.8017,ellipseName:"Everest 1956"},b.evrst69={a:6377295.664,rf:300.8017,ellipseName:"Everest 1969"},b.evrstSS={a:6377298.556,rf:300.8017,ellipseName:"Everest (Sabah & Sarawak)"},b.fschr60={a:6378166,rf:298.3,ellipseName:"Fischer (Mercury Datum) 1960"},b.fschr60m={a:6378155,rf:298.3,ellipseName:"Fischer 1960"},b.fschr68={a:6378150,rf:298.3,ellipseName:"Fischer 1968"},b.helmert={a:6378200,rf:298.3,ellipseName:"Helmert 1906"},b.hough={a:6378270,rf:297,ellipseName:"Hough"},b.intl={a:6378388,rf:297,ellipseName:"International 1909 (Hayford)"},b.kaula={a:6378163,rf:298.24,ellipseName:"Kaula 1961"},b.lerch={a:6378139,rf:298.257,ellipseName:"Lerch 1979"},b.mprts={a:6397300,rf:191,ellipseName:"Maupertius 1738"},b.new_intl={a:6378157.5,b:6356772.2,ellipseName:"New International 1967"},b.plessis={a:6376523,rf:6355863,ellipseName:"Plessis 1817 (France)"},b.krass={a:6378245,rf:298.3,ellipseName:"Krassovsky, 1942"},b.SEasia={a:6378155,b:6356773.3205,ellipseName:"Southeast Asia"},b.walbeck={a:6376896,b:6355834.8467,ellipseName:"Walbeck"},b.WGS60={a:6378165,rf:298.3,ellipseName:"WGS 60"},b.WGS66={a:6378145,rf:298.25,ellipseName:"WGS 66"},b.WGS7={a:6378135,rf:298.26,ellipseName:"WGS 72"},b.WGS84={a:6378137,rf:298.257223563,ellipseName:"WGS 84"},b.sphere={a:6370997,b:6370997,ellipseName:"Normal Sphere (r=6370997)"}},function(a,b){b.greenwich=0,b.lisbon=-9.131906111111,b.paris=2.337229166667,b.bogota=-74.080916666667,b.madrid=-3.687938888889,b.rome=12.452333333333,b.bern=7.439583333333,b.jakarta=106.807719444444,b.ferro=-17.666666666667,b.brussels=4.367975,b.stockholm=18.058277777778,b.athens=23.7163375,b.oslo=10.722916666667},function(a,b){b.ft={to_meter:.3048},b["us-ft"]={to_meter:1200/3937}},function(a,b,c){function g(a,b,c){var d;return Array.isArray(c)?(d=e(a,b,c),3===c.length?[d.x,d.y,d.z]:[d.x,d.y]):e(a,b,c)}function h(a){return a instanceof d?a:a.oProj?a.oProj:d(a)}function i(a,b,c){var d,e;return a=h(a),d=!1,"undefined"==typeof b?(b=a,a=f,d=!0):("undefined"!=typeof b.x||Array.isArray(b))&&(c=b,b=a,a=f,d=!0),b=h(b),c?g(a,b,c):(e={forward:function(c){return g(a,b,c)},inverse:function(c){return g(b,a,c)}},d&&(e.oProj=b),e)}var d=c(23),e=c(42),f=d("WGS84");a.exports=i},function(a){var c=Math.PI/2,d=1,e=2,f=3,g=4,h=5,i=484813681109536e-20,j=1.0026,k=.3826834323650898,l=function(a){return this instanceof l?(this.datum_type=g,a&&(a.datumCode&&"none"===a.datumCode&&(this.datum_type=h),a.datum_params&&(this.datum_params=a.datum_params.map(parseFloat),(0!==this.datum_params[0]||0!==this.datum_params[1]||0!==this.datum_params[2])&&(this.datum_type=d),this.datum_params.length>3&&(0!==this.datum_params[3]||0!==this.datum_params[4]||0!==this.datum_params[5]||0!==this.datum_params[6])&&(this.datum_type=e,this.datum_params[3]*=i,this.datum_params[4]*=i,this.datum_params[5]*=i,this.datum_params[6]=this.datum_params[6]/1e6+1)),this.datum_type=a.grids?f:this.datum_type,this.a=a.a,this.b=a.b,this.es=a.es,this.ep2=a.ep2,this.datum_type===f&&(this.grids=a.grids)),void 0):new l(a)};l.prototype={compare_datums:function(a){return this.datum_type!==a.datum_type?!1:this.a!==a.a||Math.abs(this.es-a.es)>5e-11?!1:this.datum_type===d?this.datum_params[0]===a.datum_params[0]&&this.datum_params[1]===a.datum_params[1]&&this.datum_params[2]===a.datum_params[2]:this.datum_type===e?this.datum_params[0]===a.datum_params[0]&&this.datum_params[1]===a.datum_params[1]&&this.datum_params[2]===a.datum_params[2]&&this.datum_params[3]===a.datum_params[3]&&this.datum_params[4]===a.datum_params[4]&&this.datum_params[5]===a.datum_params[5]&&this.datum_params[6]===a.datum_params[6]:this.datum_type===f||a.datum_type===f?this.nadgrids===a.nadgrids:!0},geodetic_to_geocentric:function(a){var f,g,h,j,k,l,m,b=a.x,d=a.y,e=a.z?a.z:0,i=0;if(-c>d&&d>-1.001*c)d=-c;else if(d>c&&1.001*c>d)d=c;else if(-c>d||d>c)return null;return b>Math.PI&&(b-=2*Math.PI),k=Math.sin(d),m=Math.cos(d),l=k*k,j=this.a/Math.sqrt(1-this.es*l),f=(j+e)*m*Math.cos(b),g=(j+e)*m*Math.sin(b),h=(j*(1-this.es)+e)*k,a.x=f,a.y=g,a.z=h,i},geocentric_to_geodetic:function(a){var h,i,j,k,l,m,n,o,p,q,s,w,x,y,b=1e-12,d=b*b,e=30,t=a.x,u=a.y,v=a.z?a.z:0,r=!1,f=Math.sqrt(t*t+u*u),g=Math.sqrt(t*t+u*u+v*v);if(f/this.a<b){if(r=!0,w=0,g/this.a<b)return x=c,y=-this.b,void 0}else w=Math.atan2(u,t);h=v/g,i=f/g,j=1/Math.sqrt(1-this.es*(2-this.es)*i*i),m=i*(1-this.es)*j,n=h*j,s=0;do s++,l=this.a/Math.sqrt(1-this.es*n*n),y=f*m+v*n-l*(1-this.es*n*n),k=this.es*l/(l+y),j=1/Math.sqrt(1-k*(2-k)*i*i),o=i*(1-k)*j,p=h*j,q=p*m-o*n,m=o,n=p;while(q*q>d&&e>s);return x=Math.atan(p/Math.abs(o)),a.x=w,a.y=x,a.z=y,a},geocentric_to_geodetic_noniter:function(a){var f,g,h,i,l,m,n,o,p,q,r,s,t,u,v,w,x,b=a.x,d=a.y,e=a.z?a.z:0;if(b=parseFloat(b),d=parseFloat(d),e=parseFloat(e),x=!1,0!==b)f=Math.atan2(d,b);else if(d>0)f=c;else if(0>d)f=-c;else if(x=!0,f=0,e>0)g=c;else{if(!(0>e))return g=c,h=-this.b,void 0;g=-c}return l=b*b+d*d,i=Math.sqrt(l),m=e*j,o=Math.sqrt(m*m+l),q=m/o,s=i/o,r=q*q*q,n=e+this.b*this.ep2*r,w=i-this.a*this.es*s*s*s,p=Math.sqrt(n*n+w*w),t=n/p,u=w/p,v=this.a/Math.sqrt(1-this.es*t*t),h=u>=k?i/u-v:-k>=u?i/-u-v:e/t+v*(this.es-1),x===!1&&(g=Math.atan(t/u)),a.x=f,a.y=g,a.z=h,a},geocentric_to_wgs84:function(a){var b,c,f,g,h,i,j,k,l,m;this.datum_type===d?(a.x+=this.datum_params[0],a.y+=this.datum_params[1],a.z+=this.datum_params[2]):this.datum_type===e&&(b=this.datum_params[0],c=this.datum_params[1],f=this.datum_params[2],g=this.datum_params[3],h=this.datum_params[4],i=this.datum_params[5],j=this.datum_params[6],k=j*(a.x-i*a.y+h*a.z)+b,l=j*(i*a.x+a.y-g*a.z)+c,m=j*(-h*a.x+g*a.y+a.z)+f,a.x=k,a.y=l,a.z=m)},geocentric_from_wgs84:function(a){var b,c,f,g,h,i,j,k,l,m;this.datum_type===d?(a.x-=this.datum_params[0],a.y-=this.datum_params[1],a.z-=this.datum_params[2]):this.datum_type===e&&(b=this.datum_params[0],c=this.datum_params[1],f=this.datum_params[2],g=this.datum_params[3],h=this.datum_params[4],i=this.datum_params[5],j=this.datum_params[6],k=(a.x-b)/j,l=(a.y-c)/j,m=(a.z-f)/j,a.x=k+i*l-h*m,a.y=-i*k+l+g*m,a.z=h*k-g*l+m)}},a.exports=l},function(a){var c=1,d=2,e=3,f=5,g=6378137,h=.006694379990141316;a.exports=function(a,b,i){function m(a){return a===c||a===d}var j,k,l,n,o,p,q,r;if(a.compare_datums(b))return i;if(a.datum_type===f||b.datum_type===f)return i;if(n=a.a,o=a.es,p=b.a,q=b.es,r=a.datum_type,r===e)if(0===this.apply_gridshift(a,0,i))a.a=g,a.es=h;else{if(!a.datum_params)return a.a=n,a.es=a.es,i;for(j=1,k=0,l=a.datum_params.length;l>k;k++)j*=a.datum_params[k];if(0===j)return a.a=n,a.es=a.es,i;r=a.datum_params.length>3?d:c}return b.datum_type===e&&(b.a=g,b.es=h),(a.es!==b.es||a.a!==b.a||m(r)||m(b.datum_type))&&(a.geodetic_to_geocentric(i),m(a.datum_type)&&a.geocentric_to_wgs84(i),m(b.datum_type)&&b.geocentric_from_wgs84(i),b.geocentric_to_geodetic(i)),b.datum_type===e&&this.apply_gridshift(b,1,i),a.a=n,a.es=o,b.a=p,b.es=q,i}},function(a,b,c){var d=c(81),e=c(82),f=c(27),g=c(86),h=1e-10,i=.16666666666666666,j=.04722222222222222,k=.022156084656084655;a.exports=function(a){var b,c;return a.datumCode&&"none"!==a.datumCode&&(b=d[a.datumCode],b&&(a.datum_params=b.towgs84?b.towgs84.split(","):null,a.ellps=b.ellipse,a.datumName=b.datumName?b.datumName:a.datumCode)),a.a||(c=e[a.ellps]?e[a.ellps]:e.WGS84,f(a,c)),a.rf&&!a.b&&(a.b=(1-1/a.rf)*a.a),(0===a.rf||Math.abs(a.a-a.b)<h)&&(a.sphere=!0,a.b=a.a),a.a2=a.a*a.a,a.b2=a.b*a.b,a.es=(a.a2-a.b2)/a.a2,a.e=Math.sqrt(a.es),a.R_A&&(a.a*=1-a.es*(i+a.es*(j+a.es*k)),a.a2=a.a*a.a,a.b2=a.b*a.b,a.es=0),a.ep2=(a.a2-a.b2)/a.b2,a.k0||(a.k0=1),a.axis||(a.axis="enu"),a.datum||(a.datum=g(a)),a}},function(a){a.exports=function(a){a("EPSG:4326","+title=WGS 84 (long/lat) +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees"),a("EPSG:4269","+title=NAD83 (long/lat) +proj=longlat +a=6378137.0 +b=6356752.31414036 +ellps=GRS80 +datum=NAD83 +units=degrees"),a("EPSG:3857","+title=WGS 84 / Pseudo-Mercator +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs"),a.WGS84=a["EPSG:4326"],a["EPSG:3785"]=a["EPSG:3857"],a.GOOGLE=a["EPSG:3857"],a["EPSG:900913"]=a["EPSG:3857"],a["EPSG:102113"]=a["EPSG:3857"]}},function(a,b,c){var d=[c(41),c(116),c(115),c(114),c(113),c(110),c(104),c(102),c(96),c(103),c(94),c(101),c(97),c(98),c(111),c(109),c(107),c(112),c(108),c(99),c(117),c(95)];a.exports=function(a){d.forEach(function(b){a.Proj.projections.add(b)})}},function(a,b,c){var d=c(85);d.defaultDatum="WGS84",d.Proj=c(23),d.WGS84=new d.Proj("WGS84"),d.Point=c(75),d.toPoint=c(38),d.defs=c(39),d.transform=c(42),d.mgrs=c(28),d.version=c(118).version,c(90)(d),a.exports=d},function(a,b,c){function g(a){return"string"==typeof a}function h(a){return a in d}function i(a){var b=["GEOGCS","GEOCCS","PROJCS","LOCAL_CS"];return b.reduce(function(b,c){return b+1+a.indexOf(c)},0)}function j(a){return"+"===a[0]}function k(a){return g(a)?h(a)?d[a]:i(a)?e(a):j(a)?f(a):void 0:a}var d=c(39),e=c(43),f=c(40);a.exports=k},function(a,b,c){function g(a,b){var c=f.length;return a.names?(f[c]=a,a.names.forEach(function(a){e[a.toLowerCase()]=c}),this):(console.log(b),!0)}var d=[c(106),c(105)],e={},f=[];b.add=g,b.get=function(a){if(!a)return!1;var b=a.toLowerCase();return"undefined"!=typeof e[b]&&f[e[b]]?f[e[b]]:void 0},b.start=function(){d.forEach(g)}},function(a,b,c){var d=1e-10,e=c(8),f=c(26),g=c(1),h=c(7);
  b.init=function(){Math.abs(this.lat1+this.lat2)<d||(this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e3=Math.sqrt(this.es),this.sin_po=Math.sin(this.lat1),this.cos_po=Math.cos(this.lat1),this.t1=this.sin_po,this.con=this.sin_po,this.ms1=e(this.e3,this.sin_po,this.cos_po),this.qs1=f(this.e3,this.sin_po,this.cos_po),this.sin_po=Math.sin(this.lat2),this.cos_po=Math.cos(this.lat2),this.t2=this.sin_po,this.ms2=e(this.e3,this.sin_po,this.cos_po),this.qs2=f(this.e3,this.sin_po,this.cos_po),this.sin_po=Math.sin(this.lat0),this.cos_po=Math.cos(this.lat0),this.t3=this.sin_po,this.qs0=f(this.e3,this.sin_po,this.cos_po),this.ns0=Math.abs(this.lat1-this.lat2)>d?(this.ms1*this.ms1-this.ms2*this.ms2)/(this.qs2-this.qs1):this.con,this.c=this.ms1*this.ms1+this.ns0*this.qs1,this.rh=this.a*Math.sqrt(this.c-this.ns0*this.qs0)/this.ns0)},b.forward=function(a){var d,e,h,i,j,b=a.x,c=a.y;return this.sin_phi=Math.sin(c),this.cos_phi=Math.cos(c),d=f(this.e3,this.sin_phi,this.cos_phi),e=this.a*Math.sqrt(this.c-this.ns0*d)/this.ns0,h=this.ns0*g(b-this.long0),i=e*Math.sin(h)+this.x0,j=this.rh-e*Math.cos(h)+this.y0,a.x=i,a.y=j,a},b.inverse=function(a){var b,c,d,e,f,h;return a.x-=this.x0,a.y=this.rh-a.y+this.y0,this.ns0>=0?(b=Math.sqrt(a.x*a.x+a.y*a.y),d=1):(b=-Math.sqrt(a.x*a.x+a.y*a.y),d=-1),e=0,0!==b&&(e=Math.atan2(d*a.x,d*a.y)),d=b*this.ns0/this.a,this.sphere?h=Math.asin((this.c-d*d)/(2*this.ns0)):(c=(this.c-d*d)/this.ns0,h=this.phi1z(this.e3,c)),f=g(e/this.ns0+this.long0),a.x=f,a.y=h,a},b.phi1z=function(a,b){var c,e,f,g,i,k,l,j=h(.5*b);if(d>a)return j;for(k=a*a,l=1;25>=l;l++)if(c=Math.sin(j),e=Math.cos(j),f=a*c,g=1-f*f,i=.5*g*g/e*(b/(1-k)-c/g+.5/a*Math.log((1-f)/(1+f))),j+=i,Math.abs(i)<=1e-7)return j;return null},b.names=["Albers_Conic_Equal_Area","Albers","aea"]},function(a,b,c){var d=c(1),e=Math.PI/2,f=1e-10,g=c(15),h=c(11),i=c(12),j=c(13),k=c(14),l=c(24),m=c(7),n=c(25);b.init=function(){this.sin_p12=Math.sin(this.lat0),this.cos_p12=Math.cos(this.lat0)},b.forward=function(a){var p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,b=a.x,c=a.y,m=Math.sin(a.y),n=Math.cos(a.y),o=d(b-this.long0);return this.sphere?Math.abs(this.sin_p12-1)<=f?(a.x=this.x0+this.a*(e-c)*Math.sin(o),a.y=this.y0-this.a*(e-c)*Math.cos(o),a):Math.abs(this.sin_p12+1)<=f?(a.x=this.x0+this.a*(e+c)*Math.sin(o),a.y=this.y0+this.a*(e+c)*Math.cos(o),a):(G=this.sin_p12*m+this.cos_p12*n*Math.cos(o),E=Math.acos(G),F=E/Math.sin(E),a.x=this.x0+this.a*F*n*Math.sin(o),a.y=this.y0+this.a*F*(this.cos_p12*m-this.sin_p12*n*Math.cos(o)),a):(p=h(this.es),q=i(this.es),r=j(this.es),s=k(this.es),Math.abs(this.sin_p12-1)<=f?(t=this.a*g(p,q,r,s,e),u=this.a*g(p,q,r,s,c),a.x=this.x0+(t-u)*Math.sin(o),a.y=this.y0-(t-u)*Math.cos(o),a):Math.abs(this.sin_p12+1)<=f?(t=this.a*g(p,q,r,s,e),u=this.a*g(p,q,r,s,c),a.x=this.x0+(t+u)*Math.sin(o),a.y=this.y0+(t+u)*Math.cos(o),a):(v=m/n,w=l(this.a,this.e,this.sin_p12),x=l(this.a,this.e,m),y=Math.atan((1-this.es)*v+this.es*w*this.sin_p12/(x*n)),z=Math.atan2(Math.sin(o),this.cos_p12*Math.tan(y)-this.sin_p12*Math.cos(o)),H=0===z?Math.asin(this.cos_p12*Math.sin(y)-this.sin_p12*Math.cos(y)):Math.abs(Math.abs(z)-Math.PI)<=f?-Math.asin(this.cos_p12*Math.sin(y)-this.sin_p12*Math.cos(y)):Math.asin(Math.sin(o)*Math.cos(y)/Math.sin(z)),A=this.e*this.sin_p12/Math.sqrt(1-this.es),B=this.e*this.cos_p12*Math.cos(z)/Math.sqrt(1-this.es),C=A*B,D=B*B,I=H*H,J=I*H,K=J*H,L=K*H,E=w*H*(1-I*D*(1-D)/6+J/8*C*(1-2*D)+K/120*(D*(4-7*D)-3*A*A*(1-7*D))-L/48*C),a.x=this.x0+E*Math.sin(z),a.y=this.y0+E*Math.cos(z),a))},b.inverse=function(a){a.x-=this.x0,a.y-=this.y0;var b,c,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I;if(this.sphere){if(b=Math.sqrt(a.x*a.x+a.y*a.y),b>2*e*this.a)return;return c=b/this.a,o=Math.sin(c),p=Math.cos(c),q=this.long0,Math.abs(b)<=f?r=this.lat0:(r=m(p*this.sin_p12+a.y*o*this.cos_p12/b),s=Math.abs(this.lat0)-e,q=Math.abs(s)<=f?this.lat0>=0?d(this.long0+Math.atan2(a.x,-a.y)):d(this.long0-Math.atan2(-a.x,a.y)):d(this.long0+Math.atan2(a.x*o,b*this.cos_p12*p-a.y*this.sin_p12*o))),a.x=q,a.y=r,a}return t=h(this.es),u=i(this.es),v=j(this.es),w=k(this.es),Math.abs(this.sin_p12-1)<=f?(x=this.a*g(t,u,v,w,e),b=Math.sqrt(a.x*a.x+a.y*a.y),y=x-b,r=n(y/this.a,t,u,v,w),q=d(this.long0+Math.atan2(a.x,-1*a.y)),a.x=q,a.y=r,a):Math.abs(this.sin_p12+1)<=f?(x=this.a*g(t,u,v,w,e),b=Math.sqrt(a.x*a.x+a.y*a.y),y=b-x,r=n(y/this.a,t,u,v,w),q=d(this.long0+Math.atan2(a.x,a.y)),a.x=q,a.y=r,a):(b=Math.sqrt(a.x*a.x+a.y*a.y),B=Math.atan2(a.x,a.y),z=l(this.a,this.e,this.sin_p12),C=Math.cos(B),D=this.e*this.cos_p12*C,E=-D*D/(1-this.es),F=3*this.es*(1-E)*this.sin_p12*this.cos_p12*C/(1-this.es),G=b/z,H=G-E*(1+E)*Math.pow(G,3)/6-F*(1+3*E)*Math.pow(G,4)/24,I=1-E*H*H/2-G*H*H*H/6,A=Math.asin(this.sin_p12*Math.cos(H)+this.cos_p12*Math.sin(H)*C),q=d(this.long0+Math.asin(Math.sin(B)*Math.sin(H)/Math.cos(A))),r=Math.atan((1-this.es*I*this.sin_p12/Math.sin(A))*Math.tan(A)/(1-this.es)),a.x=q,a.y=r,a)},b.names=["Azimuthal_Equidistant","aeqd"]},function(a,b,c){var d=c(15),e=c(11),f=c(12),g=c(13),h=c(14),i=c(24),j=c(1),k=c(10),l=c(25),m=Math.PI/2,n=1e-10;b.init=function(){this.sphere||(this.e0=e(this.es),this.e1=f(this.es),this.e2=g(this.es),this.e3=h(this.es),this.ml0=this.a*d(this.e0,this.e1,this.e2,this.e3,this.lat0))},b.forward=function(a){var b,c,g,h,k,l,m,n,o,p,e=a.x,f=a.y;return e=j(e-this.long0),this.sphere?(b=this.a*Math.asin(Math.cos(f)*Math.sin(e)),c=this.a*(Math.atan2(Math.tan(f),Math.cos(e))-this.lat0)):(g=Math.sin(f),h=Math.cos(f),k=i(this.a,this.e,g),l=Math.tan(f)*Math.tan(f),m=e*Math.cos(f),n=m*m,o=this.es*h*h/(1-this.es),p=this.a*d(this.e0,this.e1,this.e2,this.e3,f),b=k*m*(1-n*l*(1/6-(8-l+8*o)*n/120)),c=p-this.ml0+k*g/h*n*(.5+(5-l+6*o)*n/24)),a.x=b+this.x0,a.y=c+this.y0,a},b.inverse=function(a){var b,c,d,e,f,g,h,o,p,q,r,s;if(a.x-=this.x0,a.y-=this.y0,b=a.x/this.a,c=a.y/this.a,this.sphere)f=c+this.lat0,d=Math.asin(Math.sin(f)*Math.cos(b)),e=Math.atan2(Math.tan(b),Math.cos(f));else{if(g=this.ml0/this.a+c,h=l(g,this.e0,this.e1,this.e2,this.e3),Math.abs(Math.abs(h)-m)<=n)return a.x=this.long0,a.y=m,0>c&&(a.y*=-1),a;o=i(this.a,this.e,Math.sin(h)),p=o*o*o/this.a/this.a*(1-this.es),q=Math.pow(Math.tan(h),2),r=b*this.a/o,s=r*r,d=h-o*Math.tan(h)/p*r*r*(.5-(1+3*q)*r*r/24),e=r*(1-s*(q/3+(1+3*q)*q*s/15))/Math.cos(h)}return a.x=j(e+this.long0),a.y=k(d),a},b.names=["Cassini","Cassini_Soldner","cass"]},function(a,b,c){var d=c(1),e=c(26),f=c(8),g=c(77);b.init=function(){this.sphere||(this.k0=f(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)))},b.forward=function(a){var f,g,i,b=a.x,c=a.y,h=d(b-this.long0);return this.sphere?(f=this.x0+this.a*h*Math.cos(this.lat_ts),g=this.y0+this.a*Math.sin(c)/Math.cos(this.lat_ts)):(i=e(this.e,Math.sin(c)),f=this.x0+this.a*this.k0*h,g=this.y0+.5*this.a*i/this.k0),a.x=f,a.y=g,a},b.inverse=function(a){a.x-=this.x0,a.y-=this.y0;var b,c;return this.sphere?(b=d(this.long0+a.x/this.a/Math.cos(this.lat_ts)),c=Math.asin(a.y/this.a*Math.cos(this.lat_ts))):(c=g(this.e,2*a.y*this.k0/this.a),b=d(this.long0+a.x/(this.a*this.k0))),a.x=b,a.y=c,a},b.names=["cea"]},function(a,b,c){var d=c(1),e=c(10);b.init=function(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Equidistant Cylindrical (Plate Carre)",this.rc=Math.cos(this.lat_ts)},b.forward=function(a){var b=a.x,c=a.y,f=d(b-this.long0),g=e(c-this.lat0);return a.x=this.x0+this.a*f*this.rc,a.y=this.y0+this.a*g,a},b.inverse=function(a){var b=a.x,c=a.y;return a.x=d(this.long0+(b-this.x0)/(this.a*this.rc)),a.y=e(this.lat0+(c-this.y0)/this.a),a},b.names=["Equirectangular","Equidistant_Cylindrical","eqc"]},function(a,b,c){var d=c(11),e=c(12),f=c(13),g=c(14),h=c(8),i=c(15),j=c(1),k=c(10),l=c(25),m=1e-10;b.init=function(){Math.abs(this.lat1+this.lat2)<m||(this.lat2=this.lat2||this.lat1,this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=d(this.es),this.e1=e(this.es),this.e2=f(this.es),this.e3=g(this.es),this.sinphi=Math.sin(this.lat1),this.cosphi=Math.cos(this.lat1),this.ms1=h(this.e,this.sinphi,this.cosphi),this.ml1=i(this.e0,this.e1,this.e2,this.e3,this.lat1),Math.abs(this.lat1-this.lat2)<m?this.ns=this.sinphi:(this.sinphi=Math.sin(this.lat2),this.cosphi=Math.cos(this.lat2),this.ms2=h(this.e,this.sinphi,this.cosphi),this.ml2=i(this.e0,this.e1,this.e2,this.e3,this.lat2),this.ns=(this.ms1-this.ms2)/(this.ml2-this.ml1)),this.g=this.ml1+this.ms1/this.ns,this.ml0=i(this.e0,this.e1,this.e2,this.e3,this.lat0),this.rh=this.a*(this.g-this.ml0))},b.forward=function(a){var d,e,f,g,h,b=a.x,c=a.y;return this.sphere?d=this.a*(this.g-c):(e=i(this.e0,this.e1,this.e2,this.e3,c),d=this.a*(this.g-e)),f=this.ns*j(b-this.long0),g=this.x0+d*Math.sin(f),h=this.y0+this.rh-d*Math.cos(f),a.x=g,a.y=h,a},b.inverse=function(a){var b,c,d,e,f,g;return a.x-=this.x0,a.y=this.rh-a.y+this.y0,this.ns>=0?(c=Math.sqrt(a.x*a.x+a.y*a.y),b=1):(c=-Math.sqrt(a.x*a.x+a.y*a.y),b=-1),f=0,0!==c&&(f=Math.atan2(b*a.x,b*a.y)),this.sphere?(e=j(this.long0+f/this.ns),d=k(this.g-c/this.a),a.x=e,a.y=d,a):(g=this.g-c/this.a,d=l(g,this.e0,this.e1,this.e2,this.e3),e=j(this.long0+f/this.ns),a.x=e,a.y=d,a)},b.names=["Equidistant_Conic","eqdc"]},function(a,b,c){var d=Math.PI/4,e=c(80),f=Math.PI/2,g=20;b.init=function(){var a=Math.sin(this.lat0),b=Math.cos(this.lat0);b*=b,this.rc=Math.sqrt(1-this.es)/(1-this.es*a*a),this.C=Math.sqrt(1+this.es*b*b/(1-this.es)),this.phic0=Math.asin(a/this.C),this.ratexp=.5*this.C*this.e,this.K=Math.tan(.5*this.phic0+d)/(Math.pow(Math.tan(.5*this.lat0+d),this.C)*e(this.e*a,this.ratexp))},b.forward=function(a){var b=a.x,c=a.y;return a.y=2*Math.atan(this.K*Math.pow(Math.tan(.5*c+d),this.C)*e(this.e*Math.sin(c),this.ratexp))-f,a.x=this.C*b,a},b.inverse=function(a){var j,b=1e-14,c=a.x/this.C,h=a.y,i=Math.pow(Math.tan(.5*h+d)/this.K,1/this.C);for(j=g;j>0&&(h=2*Math.atan(i*e(this.e*Math.sin(a.y),-.5*this.e))-f,!(Math.abs(h-a.y)<b));--j)a.y=h;return j?(a.x=c,a.y=h,a):null},b.names=["gauss"]},function(a,b,c){var d=c(1),e=1e-10,f=c(7);b.init=function(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0),this.infinity_dist=1e3*this.a,this.rc=1},b.forward=function(a){var j,k,l=a.x,m=a.y,f=d(l-this.long0),b=Math.sin(m),c=Math.cos(m),g=Math.cos(f),i=this.sin_p14*b+this.cos_p14*c*g,h=1;return i>0||Math.abs(i)<=e?(j=this.x0+this.a*h*c*Math.sin(f)/i,k=this.y0+this.a*h*(this.cos_p14*b-this.sin_p14*c*g)/i):(j=this.x0+this.infinity_dist*c*Math.sin(f),k=this.y0+this.infinity_dist*(this.cos_p14*b-this.sin_p14*c*g)),a.x=j,a.y=k,a},b.inverse=function(a){var b,c,e,g,h,i;return a.x=(a.x-this.x0)/this.a,a.y=(a.y-this.y0)/this.a,a.x/=this.k0,a.y/=this.k0,(b=Math.sqrt(a.x*a.x+a.y*a.y))?(g=Math.atan2(b,this.rc),c=Math.sin(g),e=Math.cos(g),i=f(e*this.sin_p14+a.y*c*this.cos_p14/b),h=Math.atan2(a.x*c,b*this.cos_p14*e-a.y*this.sin_p14*c),h=d(this.long0+h)):(i=this.phic0,h=0),a.x=h,a.y=i,a},b.names=["gnom"]},function(a,b,c){var d=c(1);b.init=function(){this.a=6377397.155,this.es=.006674372230614,this.e=Math.sqrt(this.es),this.lat0||(this.lat0=.863937979737193),this.long0||(this.long0=.4334234309119251),this.k0||(this.k0=.9999),this.s45=.785398163397448,this.s90=2*this.s45,this.fi0=this.lat0,this.e2=this.es,this.e=Math.sqrt(this.e2),this.alfa=Math.sqrt(1+this.e2*Math.pow(Math.cos(this.fi0),4)/(1-this.e2)),this.uq=1.04216856380474,this.u0=Math.asin(Math.sin(this.fi0)/this.alfa),this.g=Math.pow((1+this.e*Math.sin(this.fi0))/(1-this.e*Math.sin(this.fi0)),this.alfa*this.e/2),this.k=Math.tan(this.u0/2+this.s45)/Math.pow(Math.tan(this.fi0/2+this.s45),this.alfa)*this.g,this.k1=this.k0,this.n0=this.a*Math.sqrt(1-this.e2)/(1-this.e2*Math.pow(Math.sin(this.fi0),2)),this.s0=1.37008346281555,this.n=Math.sin(this.s0),this.ro0=this.k1*this.n0/Math.tan(this.s0),this.ad=this.s90-this.uq},b.forward=function(a){var j=a.x,k=a.y,l=d(j-this.long0),b=Math.pow((1+this.e*Math.sin(k))/(1-this.e*Math.sin(k)),this.alfa*this.e/2),c=2*(Math.atan(this.k*Math.pow(Math.tan(k/2+this.s45),this.alfa)/b)-this.s45),e=-l*this.alfa,f=Math.asin(Math.cos(this.ad)*Math.sin(c)+Math.sin(this.ad)*Math.cos(c)*Math.cos(e)),g=Math.asin(Math.cos(c)*Math.sin(e)/Math.cos(f)),h=this.n*g,i=this.ro0*Math.pow(Math.tan(this.s0/2+this.s45),this.n)/Math.pow(Math.tan(f/2+this.s45),this.n);return a.y=i*Math.cos(h)/1,a.x=i*Math.sin(h)/1,this.czech||(a.y*=-1,a.x*=-1),a},b.inverse=function(a){var b,c,d,e,f,g,h,i,k,j=a.x;a.x=a.y,a.y=j,this.czech||(a.y*=-1,a.x*=-1),g=Math.sqrt(a.x*a.x+a.y*a.y),f=Math.atan2(a.y,a.x),e=f/Math.sin(this.s0),d=2*(Math.atan(Math.pow(this.ro0/g,1/this.n)*Math.tan(this.s0/2+this.s45))-this.s45),b=Math.asin(Math.cos(this.ad)*Math.sin(d)-Math.sin(this.ad)*Math.cos(d)*Math.cos(e)),c=Math.asin(Math.cos(d)*Math.sin(e)/Math.cos(b)),a.x=this.long0-c/this.alfa,h=b,i=0,k=0;do a.y=2*(Math.atan(Math.pow(this.k,-1/this.alfa)*Math.pow(Math.tan(b/2+this.s45),1/this.alfa)*Math.pow((1+this.e*Math.sin(h))/(1-this.e*Math.sin(h)),this.e/2))-this.s45),Math.abs(h-a.y)<1e-10&&(i=1),h=a.y,k+=1;while(0===i&&15>k);return k>=15?null:a},b.names=["Krovak","krovak"]},function(a,b,c){var d=Math.PI/2,e=Math.PI/4,f=1e-10,g=c(26),h=c(1);b.S_POLE=1,b.N_POLE=2,b.EQUIT=3,b.OBLIQ=4,b.init=function(){var b,a=Math.abs(this.lat0);if(this.mode=Math.abs(a-d)<f?this.lat0<0?this.S_POLE:this.N_POLE:Math.abs(a)<f?this.EQUIT:this.OBLIQ,this.es>0)switch(this.qp=g(this.e,1),this.mmf=.5/(1-this.es),this.apa=this.authset(this.es),this.mode){case this.N_POLE:this.dd=1;break;case this.S_POLE:this.dd=1;break;case this.EQUIT:this.rq=Math.sqrt(.5*this.qp),this.dd=1/this.rq,this.xmf=1,this.ymf=.5*this.qp;break;case this.OBLIQ:this.rq=Math.sqrt(.5*this.qp),b=Math.sin(this.lat0),this.sinb1=g(this.e,b)/this.qp,this.cosb1=Math.sqrt(1-this.sinb1*this.sinb1),this.dd=Math.cos(this.lat0)/(Math.sqrt(1-this.es*b*b)*this.rq*this.cosb1),this.ymf=(this.xmf=this.rq)/this.dd,this.xmf*=this.dd}else this.mode===this.OBLIQ&&(this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0))},b.forward=function(a){var b,c,i,j,k,l,m,n,o,p,q=a.x,r=a.y;if(q=h(q-this.long0),this.sphere){if(k=Math.sin(r),p=Math.cos(r),i=Math.cos(q),this.mode===this.OBLIQ||this.mode===this.EQUIT){if(c=this.mode===this.EQUIT?1+p*i:1+this.sinph0*k+this.cosph0*p*i,f>=c)return null;c=Math.sqrt(2/c),b=c*p*Math.sin(q),c*=this.mode===this.EQUIT?k:this.cosph0*k-this.sinph0*p*i}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(i=-i),Math.abs(r+this.phi0)<f)return null;c=e-.5*r,c=2*(this.mode===this.S_POLE?Math.cos(c):Math.sin(c)),b=c*Math.sin(q),c*=i}}else{switch(m=0,n=0,o=0,i=Math.cos(q),j=Math.sin(q),k=Math.sin(r),l=g(this.e,k),(this.mode===this.OBLIQ||this.mode===this.EQUIT)&&(m=l/this.qp,n=Math.sqrt(1-m*m)),this.mode){case this.OBLIQ:o=1+this.sinb1*m+this.cosb1*n*i;break;case this.EQUIT:o=1+n*i;break;case this.N_POLE:o=d+r,l=this.qp-l;break;case this.S_POLE:o=r-d,l=this.qp+l}if(Math.abs(o)<f)return null;switch(this.mode){case this.OBLIQ:case this.EQUIT:o=Math.sqrt(2/o),c=this.mode===this.OBLIQ?this.ymf*o*(this.cosb1*m-this.sinb1*n*i):(o=Math.sqrt(2/(1+n*i)))*m*this.ymf,b=this.xmf*o*n*j;break;case this.N_POLE:case this.S_POLE:l>=0?(b=(o=Math.sqrt(l))*j,c=i*(this.mode===this.S_POLE?o:-o)):b=c=0}}return a.x=this.a*b+this.x0,a.y=this.a*c+this.y0,a},b.inverse=function(a){var b,c,e,g,i,j,k,l,m,o,n,p;if(a.x-=this.x0,a.y-=this.y0,b=a.x/this.a,c=a.y/this.a,this.sphere){if(n=0,p=0,o=Math.sqrt(b*b+c*c),g=.5*o,g>1)return null;switch(g=2*Math.asin(g),(this.mode===this.OBLIQ||this.mode===this.EQUIT)&&(p=Math.sin(g),n=Math.cos(g)),this.mode){case this.EQUIT:g=Math.abs(o)<=f?0:Math.asin(c*p/o),b*=p,c=n*o;break;case this.OBLIQ:g=Math.abs(o)<=f?this.phi0:Math.asin(n*this.sinph0+c*p*this.cosph0/o),b*=p*this.cosph0,c=(n-Math.sin(g)*this.sinph0)*o;break;case this.N_POLE:c=-c,g=d-g;break;case this.S_POLE:g-=d}e=0!==c||this.mode!==this.EQUIT&&this.mode!==this.OBLIQ?Math.atan2(b,c):0}else{if(m=0,this.mode===this.OBLIQ||this.mode===this.EQUIT){if(b/=this.dd,c*=this.dd,l=Math.sqrt(b*b+c*c),f>l)return a.x=0,a.y=this.phi0,a;j=2*Math.asin(.5*l/this.rq),i=Math.cos(j),b*=j=Math.sin(j),this.mode===this.OBLIQ?(m=i*this.sinb1+c*j*this.cosb1/l,k=this.qp*m,c=l*this.cosb1*i-c*this.sinb1*j):(m=c*j/l,k=this.qp*m,c=l*i)}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(c=-c),k=b*b+c*c,!k)return a.x=0,a.y=this.phi0,a;m=1-k/this.qp,this.mode===this.S_POLE&&(m=-m)}e=Math.atan2(b,c),g=this.authlat(Math.asin(m),this.apa)}return a.x=h(this.long0+e),a.y=g,a},b.P00=.3333333333333333,b.P01=.17222222222222222,b.P02=.10257936507936508,b.P10=.06388888888888888,b.P11=.0664021164021164,b.P20=.016415012942191543,b.authset=function(a){var b,c=[];return c[0]=a*this.P00,b=a*a,c[0]+=b*this.P01,c[1]=b*this.P10,b*=a,c[0]+=b*this.P02,c[1]+=b*this.P11,c[2]=b*this.P20,c},b.authlat=function(a,b){var c=a+a;return a+b[0]*Math.sin(c)+b[1]*Math.sin(c+c)+b[2]*Math.sin(c+c+c)},b.names=["Lambert Azimuthal Equal Area","Lambert_Azimuthal_Equal_Area","laea"]},function(a,b,c){var d=1e-10,e=c(8),f=c(19),g=Math.PI/2,h=c(16),i=c(1),j=c(18);b.init=function(){var a,b,c,g,h,i,j,k,l,m;this.lat2||(this.lat2=this.lat1),this.k0||(this.k0=1),this.x0=this.x0||0,this.y0=this.y0||0,Math.abs(this.lat1+this.lat2)<d||(a=this.b/this.a,this.e=Math.sqrt(1-a*a),b=Math.sin(this.lat1),c=Math.cos(this.lat1),g=e(this.e,b,c),h=f(this.e,this.lat1,b),i=Math.sin(this.lat2),j=Math.cos(this.lat2),k=e(this.e,i,j),l=f(this.e,this.lat2,i),m=f(this.e,this.lat0,Math.sin(this.lat0)),this.ns=Math.abs(this.lat1-this.lat2)>d?Math.log(g/k)/Math.log(h/l):b,isNaN(this.ns)&&(this.ns=b),this.f0=g/(this.ns*Math.pow(h,this.ns)),this.rh=this.a*this.f0*Math.pow(m,this.ns),this.title||(this.title="Lambert Conformal Conic"))},b.forward=function(a){var e,j,k,l,b=a.x,c=a.y;if(Math.abs(2*Math.abs(c)-Math.PI)<=d&&(c=h(c)*(g-2*d)),e=Math.abs(Math.abs(c)-g),e>d)j=f(this.e,c,Math.sin(c)),k=this.a*this.f0*Math.pow(j,this.ns);else{if(e=c*this.ns,0>=e)return null;k=0}return l=this.ns*i(b-this.long0),a.x=this.k0*k*Math.sin(l)+this.x0,a.y=this.k0*(this.rh-k*Math.cos(l))+this.y0,a},b.inverse=function(a){var b,c,d,e,f,l,h=(a.x-this.x0)/this.k0,k=this.rh-(a.y-this.y0)/this.k0;if(this.ns>0?(b=Math.sqrt(h*h+k*k),c=1):(b=-Math.sqrt(h*h+k*k),c=-1),l=0,0!==b&&(l=Math.atan2(c*h,c*k)),0!==b||this.ns>0){if(c=1/this.ns,d=Math.pow(b/(this.a*this.f0),c),e=j(this.e,d),-9999===e)return null}else e=-g;return f=i(l/this.ns+this.long0),a.x=f,a.y=e,a},b.names=["Lambert Tangential Conformal Conic Projection","Lambert_Conformal_Conic","Lambert_Conformal_Conic_2SP","lcc"]},function(a,b){function c(a){return a}b.init=function(){},b.forward=c,b.inverse=c,b.names=["longlat","identity"]},function(a,b,c){var d=c(8),e=Math.PI/2,f=1e-10,g=57.29577951308232,h=c(1),i=Math.PI/4,j=c(19),k=c(18);b.init=function(){var a=this.b/this.a;this.es=1-a*a,"x0"in this||(this.x0=0),"y0"in this||(this.y0=0),this.e=Math.sqrt(this.es),this.lat_ts?this.k0=this.sphere?Math.cos(this.lat_ts):d(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)):this.k0||(this.k0=this.k?this.k:1)},b.forward=function(a){var d,k,l,m,b=a.x,c=a.y;return c*g>90&&-90>c*g&&b*g>180&&-180>b*g?null:Math.abs(Math.abs(c)-e)<=f?null:(this.sphere?(d=this.x0+this.a*this.k0*h(b-this.long0),k=this.y0+this.a*this.k0*Math.log(Math.tan(i+.5*c))):(l=Math.sin(c),m=j(this.e,c,l),d=this.x0+this.a*this.k0*h(b-this.long0),k=this.y0-this.a*this.k0*Math.log(m)),a.x=d,a.y=k,a)},b.inverse=function(a){var d,f,g,b=a.x-this.x0,c=a.y-this.y0;if(this.sphere)f=e-2*Math.atan(Math.exp(-c/(this.a*this.k0)));else if(g=Math.exp(-c/(this.a*this.k0)),f=k(this.e,g),-9999===f)return null;return d=h(this.long0+b/(this.a*this.k0)),a.x=d,a.y=f,a},b.names=["Mercator","Popular Visualisation Pseudo Mercator","Mercator_1SP","Mercator_Auxiliary_Sphere","merc"]},function(a,b,c){var d=c(1);b.init=function(){},b.forward=function(a){var b=a.x,c=a.y,e=d(b-this.long0),f=this.x0+this.a*e,g=this.y0+1.25*this.a*Math.log(Math.tan(Math.PI/4+c/2.5));return a.x=f,a.y=g,a},b.inverse=function(a){var b,c;return a.x-=this.x0,a.y-=this.y0,b=d(this.long0+a.x/this.a),c=2.5*(Math.atan(Math.exp(.8*a.y/this.a))-Math.PI/4),a.x=b,a.y=c,a},b.names=["Miller_Cylindrical","mill"]},function(a,b,c){var d=c(1),e=1e-10;b.init=function(){},b.forward=function(a){var i,j,k,l,b=a.x,c=a.y,f=d(b-this.long0),g=c,h=Math.PI*Math.sin(c);for(i=0;!0&&(j=-(g+Math.sin(g)-h)/(1+Math.cos(g)),g+=j,!(Math.abs(j)<e));i++);return g/=2,Math.PI/2-Math.abs(c)<e&&(f=0),k=.900316316158*this.a*f*Math.cos(g)+this.x0,l=1.4142135623731*this.a*Math.sin(g)+this.y0,a.x=k,a.y=l,a},b.inverse=function(a){var b,c,e,f;return a.x-=this.x0,a.y-=this.y0,c=a.y/(1.4142135623731*this.a),Math.abs(c)>.999999999999&&(c=.999999999999),b=Math.asin(c),e=d(this.long0+a.x/(.900316316158*this.a*Math.cos(b))),e<-Math.PI&&(e=-Math.PI),e>Math.PI&&(e=Math.PI),c=(2*b+Math.sin(2*b))/Math.PI,Math.abs(c)>1&&(c=1),f=Math.asin(c),a.x=e,a.y=f,a},b.names=["Mollweide","moll"]},function(a,b){var c=484813681109536e-20;b.iterations=1,b.init=function(){this.A=[],this.A[1]=.6399175073,this.A[2]=-.1358797613,this.A[3]=.063294409,this.A[4]=-.02526853,this.A[5]=.0117879,this.A[6]=-.0055161,this.A[7]=.0026906,this.A[8]=-.001333,this.A[9]=67e-5,this.A[10]=-34e-5,this.B_re=[],this.B_im=[],this.B_re[1]=.7557853228,this.B_im[1]=0,this.B_re[2]=.249204646,this.B_im[2]=.003371507,this.B_re[3]=-.001541739,this.B_im[3]=.04105856,this.B_re[4]=-.10162907,this.B_im[4]=.01727609,this.B_re[5]=-.26623489,this.B_im[5]=-.36249218,this.B_re[6]=-.6870983,this.B_im[6]=-1.1651967,this.C_re=[],this.C_im=[],this.C_re[1]=1.3231270439,this.C_im[1]=0,this.C_re[2]=-.577245789,this.C_im[2]=-.007809598,this.C_re[3]=.508307513,this.C_im[3]=-.112208952,this.C_re[4]=-.15094762,this.C_im[4]=.18200602,this.C_re[5]=1.01418179,this.C_im[5]=1.64497696,this.C_re[6]=1.9660549,this.C_im[6]=2.5127645,this.D=[],this.D[1]=1.5627014243,this.D[2]=.5185406398,this.D[3]=-.03333098,this.D[4]=-.1052906,this.D[5]=-.0368594,this.D[6]=.007317,this.D[7]=.0122,this.D[8]=.00394,this.D[9]=-.0013},b.forward=function(a){var b,l,m,n,o,p,q,r,s,d=a.x,e=a.y,f=e-this.lat0,g=d-this.long0,h=1e-5*(f/c),i=g,j=1,k=0;for(b=1;10>=b;b++)j*=h,k+=this.A[b]*j;for(l=k,m=i,n=1,o=0,r=0,s=0,b=1;6>=b;b++)p=n*l-o*m,q=o*l+n*m,n=p,o=q,r=r+this.B_re[b]*n-this.B_im[b]*o,s=s+this.B_im[b]*n+this.B_re[b]*o;return a.x=s*this.a+this.x0,a.y=r*this.a+this.y0,a},b.inverse=function(a){var b,l,m,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,d=a.x,e=a.y,f=d-this.x0,g=e-this.y0,h=g/this.a,i=f/this.a,j=1,k=0,n=0,o=0;for(b=1;6>=b;b++)l=j*h-k*i,m=k*h+j*i,j=l,k=m,n=n+this.C_re[b]*j-this.C_im[b]*k,o=o+this.C_im[b]*j+this.C_re[b]*k;for(p=0;p<this.iterations;p++){for(q=n,r=o,u=h,v=i,b=2;6>=b;b++)s=q*n-r*o,t=r*n+q*o,q=s,r=t,u+=(b-1)*(this.B_re[b]*q-this.B_im[b]*r),v+=(b-1)*(this.B_im[b]*q+this.B_re[b]*r);for(q=1,r=0,w=this.B_re[1],x=this.B_im[1],b=2;6>=b;b++)s=q*n-r*o,t=r*n+q*o,q=s,r=t,w+=b*(this.B_re[b]*q-this.B_im[b]*r),x+=b*(this.B_im[b]*q+this.B_re[b]*r);y=w*w+x*x,n=(u*w+v*x)/y,o=(v*w-u*x)/y}for(z=n,A=o,B=1,C=0,b=1;9>=b;b++)B*=z,C+=this.D[b]*B;return D=this.lat0+1e5*C*c,E=this.long0+A,a.x=E,a.y=D,a},b.names=["New_Zealand_Map_Grid","nzmg"]},function(a,b,c){var d=c(19),e=c(1),f=c(18),g=Math.PI/2,h=Math.PI/4,i=1e-10;b.init=function(){var a,b,c,f,g,h,i,j,k,l,m,n,o,p,q;this.no_off=this.no_off||!1,this.no_rot=this.no_rot||!1,isNaN(this.k0)&&(this.k0=1),a=Math.sin(this.lat0),b=Math.cos(this.lat0),c=this.e*a,this.bl=Math.sqrt(1+this.es/(1-this.es)*Math.pow(b,4)),this.al=this.a*this.bl*this.k0*Math.sqrt(1-this.es)/(1-c*c),f=d(this.e,this.lat0,a),g=this.bl/b*Math.sqrt((1-this.es)/(1-c*c)),1>g*g&&(g=1),isNaN(this.longc)?(j=d(this.e,this.lat1,Math.sin(this.lat1)),k=d(this.e,this.lat2,Math.sin(this.lat2)),this.el=this.lat0>=0?(g+Math.sqrt(g*g-1))*Math.pow(f,this.bl):(g-Math.sqrt(g*g-1))*Math.pow(f,this.bl),l=Math.pow(j,this.bl),m=Math.pow(k,this.bl),h=this.el/l,i=.5*(h-1/h),n=(this.el*this.el-m*l)/(this.el*this.el+m*l),o=(m-l)/(m+l),p=e(this.long1-this.long2),this.long0=.5*(this.long1+this.long2)-Math.atan(n*Math.tan(.5*this.bl*p)/o)/this.bl,this.long0=e(this.long0),q=e(this.long1-this.long0),this.gamma0=Math.atan(Math.sin(this.bl*q)/i),this.alpha=Math.asin(g*Math.sin(this.gamma0))):(h=this.lat0>=0?g+Math.sqrt(g*g-1):g-Math.sqrt(g*g-1),this.el=h*Math.pow(f,this.bl),i=.5*(h-1/h),this.gamma0=Math.asin(Math.sin(this.alpha)/g),this.long0=this.longc-Math.asin(i*Math.tan(this.gamma0))/this.bl),this.uc=this.no_off?0:this.lat0>=0?this.al/this.bl*Math.atan2(Math.sqrt(g*g-1),Math.cos(this.alpha)):-1*this.al/this.bl*Math.atan2(Math.sqrt(g*g-1),Math.cos(this.alpha))},b.forward=function(a){var j,k,l,m,n,o,p,q,r,b=a.x,c=a.y,f=e(b-this.long0);return Math.abs(Math.abs(c)-g)<=i?(l=c>0?-1:1,k=this.al/this.bl*Math.log(Math.tan(h+.5*l*this.gamma0)),j=-1*l*g*this.al/this.bl):(m=d(this.e,c,Math.sin(c)),n=this.el/Math.pow(m,this.bl),o=.5*(n-1/n),p=.5*(n+1/n),q=Math.sin(this.bl*f),r=(o*Math.sin(this.gamma0)-q*Math.cos(this.gamma0))/p,k=Math.abs(Math.abs(r)-1)<=i?Number.POSITIVE_INFINITY:.5*this.al*Math.log((1-r)/(1+r))/this.bl,j=Math.abs(Math.cos(this.bl*f))<=i?this.al*this.bl*f:this.al*Math.atan2(o*Math.cos(this.gamma0)+q*Math.sin(this.gamma0),Math.cos(this.bl*f))/this.bl),this.no_rot?(a.x=this.x0+j,a.y=this.y0+k):(j-=this.uc,a.x=this.x0+k*Math.cos(this.alpha)+j*Math.sin(this.alpha),a.y=this.y0+j*Math.cos(this.alpha)-k*Math.sin(this.alpha)),a},b.inverse=function(a){var b,c,d,h,j,k,l,m;return this.no_rot?(c=a.y-this.y0,b=a.x-this.x0):(c=(a.x-this.x0)*Math.cos(this.alpha)-(a.y-this.y0)*Math.sin(this.alpha),b=(a.y-this.y0)*Math.cos(this.alpha)+(a.x-this.x0)*Math.sin(this.alpha),b+=this.uc),d=Math.exp(-1*this.bl*c/this.al),h=.5*(d-1/d),j=.5*(d+1/d),k=Math.sin(this.bl*b/this.al),l=(k*Math.cos(this.gamma0)+h*Math.sin(this.gamma0))/j,m=Math.pow(this.el/Math.sqrt((1+l)/(1-l)),1/this.bl),Math.abs(l-1)<i?(a.x=this.long0,a.y=g):Math.abs(l+1)<i?(a.x=this.long0,a.y=-1*g):(a.y=f(this.e,m),a.x=e(this.long0-Math.atan2(h*Math.cos(this.gamma0)-k*Math.sin(this.gamma0),Math.cos(this.bl*b/this.al))/this.bl)),a},b.names=["Hotine_Oblique_Mercator","Hotine Oblique Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin","Hotine_Oblique_Mercator_Azimuth_Center","omerc"]},function(a,b,c){var d=c(11),e=c(12),f=c(13),g=c(14),h=c(1),i=c(10),j=c(15),k=1e-10,l=c(24),m=20;b.init=function(){this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=d(this.es),this.e1=e(this.es),this.e2=f(this.es),this.e3=g(this.es),this.ml0=this.a*j(this.e0,this.e1,this.e2,this.e3,this.lat0)},b.forward=function(a){var d,e,m,b=a.x,c=a.y,g=h(b-this.long0),f=g*Math.sin(c);return this.sphere?Math.abs(c)<=k?(d=this.a*g,e=-1*this.a*this.lat0):(d=this.a*Math.sin(f)/Math.tan(c),e=this.a*(i(c-this.lat0)+(1-Math.cos(f))/Math.tan(c))):Math.abs(c)<=k?(d=this.a*g,e=-1*this.ml0):(m=l(this.a,this.e,Math.sin(c))/Math.tan(c),d=m*Math.sin(f),e=this.a*j(this.e0,this.e1,this.e2,this.e3,c)-this.ml0+m*(1-Math.cos(f))),a.x=d+this.x0,a.y=e+this.y0,a},b.inverse=function(a){var b,c,f,g,i,l,n,o,p,q,r,s,t,d=a.x-this.x0,e=a.y-this.y0;if(this.sphere)if(Math.abs(e+this.a*this.lat0)<=k)b=h(d/this.a+this.long0),c=0;else{for(g=this.lat0+e/this.a,i=d*d/this.a/this.a+g*g,l=g,f=m;f;--f)if(o=Math.tan(l),n=-1*(g*(l*o+1)-l-.5*(l*l+i)*o)/((l-g)/o-1),l+=n,Math.abs(n)<=k){c=l;break}b=h(this.long0+Math.asin(d*Math.tan(l)/this.a)/Math.sin(c))}else if(Math.abs(e+this.ml0)<=k)c=0,b=h(this.long0+d/this.a);else{for(g=(this.ml0+e)/this.a,i=d*d/this.a/this.a+g*g,l=g,f=m;f;--f)if(t=this.e*Math.sin(l),p=Math.sqrt(1-t*t)*Math.tan(l),q=this.a*j(this.e0,this.e1,this.e2,this.e3,l),r=this.e0-2*this.e1*Math.cos(2*l)+4*this.e2*Math.cos(4*l)-6*this.e3*Math.cos(6*l),s=q/this.a,n=(g*(p*s+1)-s-.5*p*(s*s+i))/(this.es*Math.sin(2*l)*(s*s+i-2*g*s)/(4*p)+(g-s)*(p*r-2/Math.sin(2*l))-r),l-=n,Math.abs(n)<=k){c=l;break}p=Math.sqrt(1-this.es*Math.pow(Math.sin(c),2))*Math.tan(c),b=h(this.long0+Math.asin(d*p/this.a)/Math.sin(c))}return a.x=b,a.y=c,a},b.names=["Polyconic","poly"]},function(a,b,c){var d=c(1),e=c(10),f=c(78),g=20,h=c(37),i=c(79),j=Math.PI/2,k=1e-10,l=c(7);b.init=function(){this.sphere?(this.n=1,this.m=0,this.es=0,this.C_y=Math.sqrt((this.m+1)/this.n),this.C_x=this.C_y/(this.m+1)):this.en=f(this.es)},b.forward=function(a){var b,c,i,j,l,m,n,e=a.x,f=a.y;if(e=d(e-this.long0),this.sphere){if(this.m)for(i=this.n*Math.sin(f),j=g;j&&(l=(this.m*f+Math.sin(f)-i)/(this.m+Math.cos(f)),f-=l,!(Math.abs(l)<k));--j);else f=1!==this.n?Math.asin(this.n*Math.sin(f)):f;b=this.a*this.C_x*e*(this.m+Math.cos(f)),c=this.a*this.C_y*f}else m=Math.sin(f),n=Math.cos(f),c=this.a*h(f,m,n,this.en),b=this.a*e*n/Math.sqrt(1-this.es*m*m);return a.x=b,a.y=c,a},b.inverse=function(a){var b,c,f,g;return a.x-=this.x0,f=a.x/this.a,a.y-=this.y0,b=a.y/this.a,this.sphere?(b/=this.C_y,f/=this.C_x*(this.m+Math.cos(b)),this.m?b=l((this.m*b+Math.sin(b))/this.n):1!==this.n&&(b=l(Math.sin(b)/this.n)),f=d(f+this.long0),b=e(b)):(b=i(a.y/this.a,this.es,this.en),g=Math.abs(b),j>g?(g=Math.sin(b),c=this.long0+a.x*Math.sqrt(1-this.es*g*g)/(this.a*Math.cos(b)),f=d(c)):j>g-k&&(f=this.long0)),a.x=f,a.y=b,a},b.names=["Sinusoidal","sinu"]},function(a,b){b.init=function(){var b,c,d,e,f,g,h,i,j,a=this.lat0;this.lambda0=this.long0,b=Math.sin(a),c=this.a,d=this.rf,e=1/d,f=2*e-Math.pow(e,2),g=this.e=Math.sqrt(f),this.R=this.k0*c*Math.sqrt(1-f)/(1-f*Math.pow(b,2)),this.alpha=Math.sqrt(1+f/(1-f)*Math.pow(Math.cos(a),4)),this.b0=Math.asin(b/this.alpha),h=Math.log(Math.tan(Math.PI/4+this.b0/2)),i=Math.log(Math.tan(Math.PI/4+a/2)),j=Math.log((1+g*b)/(1-g*b)),this.K=h-this.alpha*i+this.alpha*g/2*j},b.forward=function(a){var b=Math.log(Math.tan(Math.PI/4-a.y/2)),c=this.e/2*Math.log((1+this.e*Math.sin(a.y))/(1-this.e*Math.sin(a.y))),d=-this.alpha*(b+c)+this.K,e=2*(Math.atan(Math.exp(d))-Math.PI/4),f=this.alpha*(a.x-this.lambda0),g=Math.atan(Math.sin(f)/(Math.sin(this.b0)*Math.tan(e)+Math.cos(this.b0)*Math.cos(f))),h=Math.asin(Math.cos(this.b0)*Math.sin(e)-Math.sin(this.b0)*Math.cos(e)*Math.cos(f));return a.y=this.R/2*Math.log((1+Math.sin(h))/(1-Math.sin(h)))+this.y0,a.x=this.R*g+this.x0,a},b.inverse=function(a){for(var b=a.x-this.x0,c=a.y-this.y0,d=b/this.R,e=2*(Math.atan(Math.exp(c/this.R))-Math.PI/4),f=Math.asin(Math.cos(this.b0)*Math.sin(e)+Math.sin(this.b0)*Math.cos(e)*Math.cos(d)),g=Math.atan(Math.sin(d)/(Math.cos(this.b0)*Math.cos(d)-Math.sin(this.b0)*Math.tan(e))),h=this.lambda0+g/this.alpha,i=0,j=f,k=-1e3,l=0;Math.abs(j-k)>1e-7;){if(++l>20)return;i=1/this.alpha*(Math.log(Math.tan(Math.PI/4+f/2))-this.K)+this.e*Math.log(Math.tan(Math.PI/4+Math.asin(this.e*Math.sin(j))/2)),k=j,j=2*Math.atan(Math.exp(i))-Math.PI/2}return a.x=h,a.y=j,a},b.names=["somerc"]},function(a,b,c){var d=Math.PI/2,e=1e-10,f=c(16),g=c(8),h=c(19),i=c(18),j=c(1);b.ssfn_=function(a,b,c){return b*=c,Math.tan(.5*(d+a))*Math.pow((1-b)/(1+b),.5*c)},b.init=function(){this.coslat0=Math.cos(this.lat0),this.sinlat0=Math.sin(this.lat0),this.sphere?1===this.k0&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=e&&(this.k0=.5*(1+f(this.lat0)*Math.sin(this.lat_ts))):(Math.abs(this.coslat0)<=e&&(this.con=this.lat0>0?1:-1),this.cons=Math.sqrt(Math.pow(1+this.e,1+this.e)*Math.pow(1-this.e,1-this.e)),1===this.k0&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=e&&(this.k0=.5*this.cons*g(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts))/h(this.e,this.con*this.lat_ts,this.con*Math.sin(this.lat_ts))),this.ms1=g(this.e,this.sinlat0,this.coslat0),this.X0=2*Math.atan(this.ssfn_(this.lat0,this.sinlat0,this.e))-d,this.cosX0=Math.cos(this.X0),this.sinX0=Math.sin(this.X0))},b.forward=function(a){var i,k,l,m,n,o,b=a.x,c=a.y,f=Math.sin(c),g=Math.cos(c),p=j(b-this.long0);return Math.abs(Math.abs(b-this.long0)-Math.PI)<=e&&Math.abs(c+this.lat0)<=e?(a.x=0/0,a.y=0/0,a):this.sphere?(i=2*this.k0/(1+this.sinlat0*f+this.coslat0*g*Math.cos(p)),a.x=this.a*i*g*Math.sin(p)+this.x0,a.y=this.a*i*(this.coslat0*f-this.sinlat0*g*Math.cos(p))+this.y0,a):(k=2*Math.atan(this.ssfn_(c,f,this.e))-d,m=Math.cos(k),l=Math.sin(k),Math.abs(this.coslat0)<=e?(n=h(this.e,c*this.con,this.con*f),o=2*this.a*this.k0*n/this.cons,a.x=this.x0+o*Math.sin(b-this.long0),a.y=this.y0-this.con*o*Math.cos(b-this.long0),a):(Math.abs(this.sinlat0)<e?(i=2*this.a*this.k0/(1+m*Math.cos(p)),a.y=i*l):(i=2*this.a*this.k0*this.ms1/(this.cosX0*(1+this.sinX0*l+this.cosX0*m*Math.cos(p))),a.y=i*(this.cosX0*l-this.sinX0*m*Math.cos(p))+this.y0),a.x=i*m*Math.sin(p)+this.x0,a))
},b.inverse=function(a){var b,c,f,g,h,k,l;if(a.x-=this.x0,a.y-=this.y0,k=Math.sqrt(a.x*a.x+a.y*a.y),this.sphere)return l=2*Math.atan(k/(.5*this.a*this.k0)),b=this.long0,c=this.lat0,e>=k?(a.x=b,a.y=c,a):(c=Math.asin(Math.cos(l)*this.sinlat0+a.y*Math.sin(l)*this.coslat0/k),b=Math.abs(this.coslat0)<e?this.lat0>0?j(this.long0+Math.atan2(a.x,-1*a.y)):j(this.long0+Math.atan2(a.x,a.y)):j(this.long0+Math.atan2(a.x*Math.sin(l),k*this.coslat0*Math.cos(l)-a.y*this.sinlat0*Math.sin(l))),a.x=b,a.y=c,a);if(Math.abs(this.coslat0)<=e){if(e>=k)return c=this.lat0,b=this.long0,a.x=b,a.y=c,a;a.x*=this.con,a.y*=this.con,f=k*this.cons/(2*this.a*this.k0),c=this.con*i(this.e,f),b=this.con*j(this.con*this.long0+Math.atan2(a.x,-1*a.y))}else g=2*Math.atan(k*this.cosX0/(2*this.a*this.k0*this.ms1)),b=this.long0,e>=k?h=this.X0:(h=Math.asin(Math.cos(g)*this.sinX0+a.y*Math.sin(g)*this.cosX0/k),b=j(this.long0+Math.atan2(a.x*Math.sin(g),k*this.cosX0*Math.cos(g)-a.y*this.sinX0*Math.sin(g)))),c=-1*i(this.e,Math.tan(.5*(d+h)));return a.x=b,a.y=c,a},b.names=["stere","Stereographic_South_Pole","Polar Stereographic (variant B)"]},function(a,b,c){var d=c(100),e=c(1);b.init=function(){d.init.apply(this),this.rc&&(this.sinc0=Math.sin(this.phic0),this.cosc0=Math.cos(this.phic0),this.R2=2*this.rc,this.title||(this.title="Oblique Stereographic Alternative"))},b.forward=function(a){var b,c,f,g;return a.x=e(a.x-this.long0),d.forward.apply(this,[a]),b=Math.sin(a.y),c=Math.cos(a.y),f=Math.cos(a.x),g=this.k0*this.R2/(1+this.sinc0*b+this.cosc0*c*f),a.x=g*c*Math.sin(a.x),a.y=g*(this.cosc0*b-this.sinc0*c*f),a.x=this.a*a.x+this.x0,a.y=this.a*a.y+this.y0,a},b.inverse=function(a){var b,c,f,g,h,i;return a.x=(a.x-this.x0)/this.a,a.y=(a.y-this.y0)/this.a,a.x/=this.k0,a.y/=this.k0,(h=Math.sqrt(a.x*a.x+a.y*a.y))?(i=2*Math.atan2(h,this.R2),b=Math.sin(i),c=Math.cos(i),g=Math.asin(c*this.sinc0+a.y*b*this.cosc0/h),f=Math.atan2(a.x*b,h*this.cosc0*c-a.y*this.sinc0*b)):(g=this.phic0,f=0),a.x=f,a.y=g,d.inverse.apply(this,[a]),a.x=e(a.x+this.long0),a},b.names=["Stereographic_North_Pole","Oblique_Stereographic","Polar_Stereographic","sterea","Oblique Stereographic Alternative"]},function(a,b,c){var d=.017453292519943295,e=c(41);b.dependsOn="tmerc",b.init=function(){this.zone&&(this.lat0=0,this.long0=(6*Math.abs(this.zone)-183)*d,this.x0=5e5,this.y0=this.utmSouth?1e7:0,this.k0=.9996,e.init.apply(this),this.forward=e.forward,this.inverse=e.inverse)},b.names=["Universal Transverse Mercator System","utm"]},function(a,b,c){var d=c(1),e=Math.PI/2,f=1e-10,g=c(7);b.init=function(){this.R=this.a},b.forward=function(a){var i,j,k,l,m,n,o,p,q,r,s,t,u,b=a.x,c=a.y,h=d(b-this.long0);return Math.abs(c)<=f&&(i=this.x0+this.R*h,j=this.y0),k=g(2*Math.abs(c/Math.PI)),(Math.abs(h)<=f||Math.abs(Math.abs(c)-e)<=f)&&(i=this.x0,j=c>=0?this.y0+Math.PI*this.R*Math.tan(.5*k):this.y0+Math.PI*this.R*-Math.tan(.5*k)),l=.5*Math.abs(Math.PI/h-h/Math.PI),m=l*l,n=Math.sin(k),o=Math.cos(k),p=o/(n+o-1),q=p*p,r=p*(2/n-1),s=r*r,t=Math.PI*this.R*(l*(p-s)+Math.sqrt(m*(p-s)*(p-s)-(s+m)*(q-s)))/(s+m),0>h&&(t=-t),i=this.x0+t,u=m+p,t=Math.PI*this.R*(r*u-l*Math.sqrt((s+m)*(m+1)-u*u))/(s+m),j=c>=0?this.y0+t:this.y0-t,a.x=i,a.y=j,a},b.inverse=function(a){var b,c,e,g,h,i,j,k,l,m,n,o,p;return a.x-=this.x0,a.y-=this.y0,n=Math.PI*this.R,e=a.x/n,g=a.y/n,h=e*e+g*g,i=-Math.abs(g)*(1+h),j=i-2*g*g+e*e,k=-2*i+1+2*g*g+h*h,p=g*g/k+(2*j*j*j/k/k/k-9*i*j/k/k)/27,l=(i-j*j/3/k)/k,m=2*Math.sqrt(-l/3),n=3*p/l/m,Math.abs(n)>1&&(n=n>=0?1:-1),o=Math.acos(n)/3,c=a.y>=0?(-m*Math.cos(o+Math.PI/3)-j/3/k)*Math.PI:-(-m*Math.cos(o+Math.PI/3)-j/3/k)*Math.PI,b=Math.abs(e)<f?this.long0:d(this.long0+Math.PI*(h-1+Math.sqrt(1+2*(e*e-g*g)+h*h))/2/e),a.x=b,a.y=c,a},b.names=["Van_der_Grinten_I","VanDerGrinten","vandg"]},function(a){a.exports={_args:[[{raw:"proj4@2.3.15",scope:null,escapedName:"proj4",name:"proj4",rawSpec:"2.3.15",spec:"2.3.15",type:"version"},"E:\\git\\iClient9"]],_from:"proj4@2.3.15",_id:"proj4@2.3.15",_inCache:!0,_location:"/proj4",_nodeVersion:"6.1.0",_npmOperationalInternal:{host:"packages-12-west.internal.npmjs.com",tmp:"tmp/proj4-2.3.15.tgz_1471808262546_0.6752060337457806"},_npmUser:{name:"ahocevar",email:"andreas.hocevar@gmail.com"},_npmVersion:"3.8.6",_phantomChildren:{},_requested:{raw:"proj4@2.3.15",scope:null,escapedName:"proj4",name:"proj4",rawSpec:"2.3.15",spec:"2.3.15",type:"version"},_requiredBy:["/"],_resolved:"https://registry.npmjs.org/proj4/-/proj4-2.3.15.tgz",_shasum:"5ad06e8bca30be0ffa389a49e4565f51f06d089e",_shrinkwrap:null,_spec:"proj4@2.3.15",_where:"E:\\git\\iClient9",author:"",bugs:{url:"https://github.com/proj4js/proj4js/issues"},contributors:[{name:"Mike Adair",email:"madair@dmsolutions.ca"},{name:"Richard Greenwood",email:"rich@greenwoodmap.com"},{name:"Calvin Metcalf",email:"calvin.metcalf@gmail.com"},{name:"Richard Marsden",url:"http://www.winwaed.com"},{name:"T. Mittan"},{name:"D. Steinwand"},{name:"S. Nelson"}],dependencies:{mgrs:"~0.0.2"},description:"Proj4js is a JavaScript library to transform point coordinates from one coordinate system to another, including datum transformations.",devDependencies:{browserify:"~12.0.1",chai:"~1.8.1",curl:"git://github.com/cujojs/curl.git",grunt:"~0.4.2","grunt-browserify":"~4.0.1","grunt-cli":"~0.1.13","grunt-contrib-connect":"~0.6.0","grunt-contrib-jshint":"~0.8.0","grunt-contrib-uglify":"~0.11.1","grunt-mocha-phantomjs":"~0.4.0",istanbul:"~0.2.4",mocha:"~1.17.1",tin:"~0.4.0"},directories:{test:"test",doc:"docs"},dist:{shasum:"5ad06e8bca30be0ffa389a49e4565f51f06d089e",tarball:"https://registry.npmjs.org/proj4/-/proj4-2.3.15.tgz"},gitHead:"9fa5249c1f4183d5ddee3c4793dfd7b9f29f1886",homepage:"https://github.com/proj4js/proj4js#readme",jam:{main:"dist/proj4.js",include:["dist/proj4.js","README.md","AUTHORS","LICENSE.md"]},license:"MIT",main:"lib/index.js",maintainers:[{name:"cwmma",email:"calvin.metcalf@gmail.com"},{name:"ahocevar",email:"andreas.hocevar@gmail.com"}],name:"proj4",optionalDependencies:{},readme:"ERROR: No README data found!",repository:{type:"git",url:"git://github.com/proj4js/proj4js.git"},scripts:{test:"./node_modules/istanbul/lib/cli.js test ./node_modules/mocha/bin/_mocha test/test.js"},version:"2.3.15"}},function(a,b,c){c(45),a.exports=c(44)}]);
